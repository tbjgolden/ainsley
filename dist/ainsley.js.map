{"version":3,"sources":["webpack://Ainsley/webpack/universalModuleDefinition","webpack://Ainsley/webpack/bootstrap","webpack://Ainsley/./node_modules/css-tree/lib/tokenizer/index.js","webpack://Ainsley/./src/lib/utils.ts","webpack://Ainsley/./node_modules/css-tree/lib/index.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Raw.js","webpack://Ainsley/./node_modules/ajv/lib/compile/util.js","webpack://Ainsley/./node_modules/css-tree/lib/common/List.js","webpack://Ainsley/./node_modules/css-tree/lib/tokenizer/utils.js","webpack://Ainsley/./node_modules/css-tree/lib/common/TokenStream.js","webpack://Ainsley/./node_modules/css-tree/lib/tokenizer/const.js","webpack://Ainsley/./node_modules/csso/lib/clean/utils.js","webpack://Ainsley/./node_modules/csso/lib/replace/Number.js","webpack://Ainsley/./src/lib/generate.ts","webpack://Ainsley/./src/lib/embed.ts","webpack://Ainsley/../src/utils.ts","webpack://Ainsley/../src/index.ts","webpack://Ainsley/./node_modules/ajv/lib/compile/resolve.js","webpack://Ainsley/./node_modules/fast-deep-equal/index.js","webpack://Ainsley/./node_modules/ajv/lib/compile/error_classes.js","webpack://Ainsley/./node_modules/css-tree/lib/utils/createCustomError.js","webpack://Ainsley/./node_modules/css-tree/lib/definition-syntax/generate.js","webpack://Ainsley/./node_modules/css-tree/lib/utils/names.js","webpack://Ainsley/./node_modules/css-tree/lib/definition-syntax/parse.js","webpack://Ainsley/./node_modules/source-map/lib/util.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/index.js","webpack://Ainsley/./node_modules/csso/lib/replace/color.js","webpack://Ainsley/./node_modules/csso/lib/restructure/utils.js","webpack://Ainsley/./node_modules/ajv/lib/compile/schema_obj.js","webpack://Ainsley/./node_modules/fast-json-stable-stringify/index.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/validate.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/_limit.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/_limitItems.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/_limitLength.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack://Ainsley/./node_modules/css-tree/lib/common/SyntaxError.js","webpack://Ainsley/./node_modules/css-tree/lib/tokenizer/char-code-definitions.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/error.js","webpack://Ainsley/./node_modules/css-tree/lib/common/adopt-buffer.js","webpack://Ainsley/./node_modules/css-tree/lib/definition-syntax/SyntaxError.js","webpack://Ainsley/./node_modules/css-tree/lib/definition-syntax/walk.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/match-graph.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/scope/default.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/function/element.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/common/selectorList.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/common/nthWithOfClause.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/common/nth.js","webpack://Ainsley/./node_modules/csso/lib/replace/property/border.js","webpack://Ainsley/./node_modules/ajv/lib/ajv.js","webpack://Ainsley/./node_modules/csso/lib/index.js","webpack://Ainsley/./node_modules/isomorphic-fetch/fetch-npm-browserify.js","webpack://Ainsley/./node_modules/whatwg-fetch/fetch.js","webpack://Ainsley/(webpack)/buildin/global.js","webpack://Ainsley/./node_modules/ajv/lib/compile/index.js","webpack://Ainsley/../../src/util.ts","webpack://Ainsley/../../src/regexps-uri.ts","webpack://Ainsley/../../src/regexps-iri.ts","webpack://Ainsley/../../node_modules/punycode/punycode.es6.js","webpack://Ainsley/../../src/uri.ts","webpack://Ainsley/../../src/schemes/http.ts","webpack://Ainsley/../../src/schemes/https.ts","webpack://Ainsley/../../src/schemes/mailto.ts","webpack://Ainsley/../../src/schemes/urn.ts","webpack://Ainsley/../../src/schemes/urn-uuid.ts","webpack://Ainsley/../../src/index.ts","webpack://Ainsley/./node_modules/ajv/lib/compile/ucs2length.js","webpack://Ainsley/./node_modules/json-schema-traverse/index.js","webpack://Ainsley/./node_modules/ajv/lib/cache.js","webpack://Ainsley/./node_modules/ajv/lib/compile/formats.js","webpack://Ainsley/./node_modules/ajv/lib/compile/rules.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/index.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/ref.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/allOf.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/anyOf.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/comment.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/const.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/contains.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/dependencies.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/enum.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/format.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/if.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/items.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/multipleOf.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/not.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/oneOf.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/pattern.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/properties.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/propertyNames.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/required.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack://Ainsley/./node_modules/ajv/lib/data.js","webpack://Ainsley/./node_modules/ajv/lib/compile/async.js","webpack://Ainsley/./node_modules/ajv/lib/keyword.js","webpack://Ainsley/./node_modules/ajv/lib/dotjs/custom.js","webpack://Ainsley/./node_modules/ajv/lib/definition_schema.js","webpack://Ainsley/./src/lib sync ^ainsley\\-config\\-.*$","webpack://Ainsley/./node_modules/css-tree/lib/syntax/index.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/create.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/Lexer.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/generic.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/generic-an-plus-b.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/generic-urange.js","webpack://Ainsley/./node_modules/css-tree/lib/definition-syntax/tokenizer.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/prepare-tokens.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/match.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/trace.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/search.js","webpack://Ainsley/./node_modules/css-tree/lib/lexer/structure.js","webpack://Ainsley/./node_modules/css-tree/lib/definition-syntax/index.js","webpack://Ainsley/./node_modules/css-tree/lib/parser/create.js","webpack://Ainsley/./node_modules/css-tree/lib/common/OffsetToLocation.js","webpack://Ainsley/./node_modules/css-tree/lib/parser/sequence.js","webpack://Ainsley/./node_modules/css-tree/lib/generator/create.js","webpack://Ainsley/./node_modules/css-tree/lib/generator/sourceMap.js","webpack://Ainsley/./node_modules/source-map/lib/source-map-generator.js","webpack://Ainsley/./node_modules/source-map/lib/base64-vlq.js","webpack://Ainsley/./node_modules/source-map/lib/base64.js","webpack://Ainsley/./node_modules/source-map/lib/array-set.js","webpack://Ainsley/./node_modules/source-map/lib/mapping-list.js","webpack://Ainsley/./node_modules/css-tree/lib/convertor/create.js","webpack://Ainsley/./node_modules/css-tree/lib/walker/create.js","webpack://Ainsley/./node_modules/css-tree/lib/utils/clone.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/config/mix.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/config/lexer.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/AnPlusB.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Atrule.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/AtrulePrelude.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/AttributeSelector.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Block.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Brackets.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/CDC.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/CDO.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/ClassSelector.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Combinator.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Comment.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Declaration.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/DeclarationList.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Dimension.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Function.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/HexColor.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Identifier.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/IdSelector.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/MediaFeature.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/MediaQuery.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/MediaQueryList.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Nth.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Number.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Operator.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Parentheses.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Percentage.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/PseudoClassSelector.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/PseudoElementSelector.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Ratio.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Rule.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Selector.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/SelectorList.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/String.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/StyleSheet.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/TypeSelector.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/UnicodeRange.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Url.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/Value.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/node/WhiteSpace.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/config/parser.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/scope/index.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/scope/atrulePrelude.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/scope/selector.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/scope/value.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/function/expression.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/function/var.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/atrule/index.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/atrule/font-face.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/atrule/import.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/atrule/media.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/atrule/page.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/atrule/supports.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/index.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/dir.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/has.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/lang.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/matches.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/not.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/nth-child.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/nth-last-child.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/nth-last-of-type.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/nth-of-type.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/pseudo/slotted.js","webpack://Ainsley/./node_modules/css-tree/lib/syntax/config/walker.js","webpack://Ainsley/./node_modules/csso/lib/compress.js","webpack://Ainsley/./node_modules/csso/lib/usage.js","webpack://Ainsley/./node_modules/csso/lib/clean/index.js","webpack://Ainsley/./node_modules/csso/lib/clean/Atrule.js","webpack://Ainsley/./node_modules/csso/lib/clean/Comment.js","webpack://Ainsley/./node_modules/csso/lib/clean/Declaration.js","webpack://Ainsley/./node_modules/csso/lib/clean/Raw.js","webpack://Ainsley/./node_modules/csso/lib/clean/Rule.js","webpack://Ainsley/./node_modules/csso/lib/clean/TypeSelector.js","webpack://Ainsley/./node_modules/csso/lib/clean/WhiteSpace.js","webpack://Ainsley/./node_modules/csso/lib/replace/index.js","webpack://Ainsley/./node_modules/csso/lib/replace/Atrule.js","webpack://Ainsley/./node_modules/csso/lib/replace/atrule/keyframes.js","webpack://Ainsley/./node_modules/csso/lib/replace/AttributeSelector.js","webpack://Ainsley/./node_modules/csso/lib/replace/Value.js","webpack://Ainsley/./node_modules/csso/lib/replace/property/font.js","webpack://Ainsley/./node_modules/csso/lib/replace/property/font-weight.js","webpack://Ainsley/./node_modules/csso/lib/replace/property/background.js","webpack://Ainsley/./node_modules/csso/lib/replace/Dimension.js","webpack://Ainsley/./node_modules/csso/lib/replace/Percentage.js","webpack://Ainsley/./node_modules/csso/lib/replace/String.js","webpack://Ainsley/./node_modules/csso/lib/replace/Url.js","webpack://Ainsley/./node_modules/csso/lib/restructure/index.js","webpack://Ainsley/./node_modules/csso/lib/restructure/prepare/index.js","webpack://Ainsley/./node_modules/csso/lib/restructure/prepare/createDeclarationIndexer.js","webpack://Ainsley/./node_modules/csso/lib/restructure/prepare/processSelector.js","webpack://Ainsley/./node_modules/csso/lib/restructure/prepare/specificity.js","webpack://Ainsley/./node_modules/csso/lib/restructure/1-mergeAtrule.js","webpack://Ainsley/./node_modules/csso/lib/restructure/2-initialMergeRuleset.js","webpack://Ainsley/./node_modules/csso/lib/restructure/3-disjoinRuleset.js","webpack://Ainsley/./node_modules/csso/lib/restructure/4-restructShorthand.js","webpack://Ainsley/./node_modules/csso/lib/restructure/6-restructBlock.js","webpack://Ainsley/./node_modules/csso/lib/restructure/7-mergeRuleset.js","webpack://Ainsley/./node_modules/csso/lib/restructure/8-restructRuleset.js","webpack://Ainsley/./src/lib/validate.ts","webpack://Ainsley/./src/lib/flatten.ts","webpack://Ainsley/./src/lib/minify.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TokenStream","adoptBuffer","constants","TYPE","charCodeDefinitions","isNewline","isName","isValidEscape","isNumberStart","isIdentifierStart","charCodeCategory","isBOM","utils","cmpStr","getNewlineLength","findWhiteSpaceEnd","consumeEscaped","consumeName","consumeNumber","consumeBadUrlRemnants","tokenize","source","stream","getCharCode","offset","sourceLength","charCodeAt","consumeNumericToken","type","Dimension","Percentage","Number","consumeIdentLikeToken","nameStartOffset","Function","Url","length","code","Eof","WhiteSpace","BadUrl","NonPrintable","consumeUrlToken","Ident","consumeStringToken","endingCodePoint","String","BadString","nextCode","offsetAndType","balance","tokenCount","start","balanceCloseType","balanceStart","balancePrev","Hash","Delim","LeftParenthesis","RightParenthesis","Comma","CDC","Comment","indexOf","Colon","Semicolon","CDO","AtKeyword","LeftSquareBracket","RightSquareBracket","LeftCurlyBracket","RightCurlyBracket","Digit","NameStart","EOF","firstCharOffset","reset","next","keys","forEach","isObject","x","Array","isArray","map","arr","fn","out","len","push","flat","concat","apply","combinations","mods","list","index","option","prev","assign","objects","obj","memoize","func","cache","arg1","arg2","cacheKey","getOffsetExcludeWS","this","scanner","tokenIndex","lookupType","getTokenStart","tokenStart","balanceEnd","structure","parse","startToken","excludeWhiteSpace","endOffset","startOffset","skip","getRawLength","loc","getLocation","substring","generate","node","chunk","default","leftCurlyBracket","tokenType","leftCurlyBracketOrSemicolon","exclamationMarkOrSemicolon","semicolonIncluded","checkDataType","dataType","data","negate","EQUAL","AND","OK","NOT","copy","to","checkDataTypes","dataTypes","types","toHash","array","null","number","integer","coerceToTypes","optionCoerceTypes","COERCE_TO_TYPES","getProperty","escapeQuotes","equal","ucs2length","varOccurences","str","dataVar","matches","match","RegExp","varReplace","expr","replace","cleanUpCode","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","finalCleanUpCode","async","ERRORS_REGEXP","REMOVE_ERRORS_ASYNC","RETURN_ASYNC","REMOVE_ERRORS","ROOTDATA_REGEXP","REMOVE_ROOTDATA","schemaHasRules","schema","rules","schemaHasRulesExcept","exceptKeyword","schemaUnknownRules","toQuotedString","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","prop","path","escapeJsonPointer","getData","$data","lvl","paths","up","jsonPointer","JSON_POINTER","test","Error","RELATIVE_JSON_POINTER","segments","split","segment","unescapeJsonPointer","unescapeFragment","decodeURIComponent","escapeFragment","encodeURIComponent","hash","IDENTIFIER","SINGLE_QUOTE","a","b","createItem","allocateCursor","cursor","cursors","releaseCursor","List","head","tail","updateCursors","prevOld","prevNew","nextOld","nextNew","getSize","size","fromArray","item","toArray","result","toJSON","isEmpty","first","last","each","context","undefined","eachRight","forEachRight","nextUntil","prevUntil","some","appendData","filter","clear","insert","prepend","prependData","append","before","insertData","remove","pop","unshift","shift","prependList","insertList","appendList","oldItem","newItemOrList","charCodeDef","isDigit","isHexDigit","isUppercaseLetter","isWhiteSpace","cmpChar","testStr","referenceCode","findDecimalNumberEnd","maxOffset","Math","min","sign","end","referenceStr","testCode","findWhiteSpaceStart","NAME","WHITESPACE","COMMENT","eof","tokenEnd","lookupOffset","lookupValue","max","loop","isBalanceEdge","pos","isDelim","getTokenValue","getTokenLength","substrToCursor","skipWS","skipTokenCount","skipSC","dump","slice","idx","reduce","hasNoChildren","children","isNodeChildrenList","OMIT_PLUSSIGN","KEEP_PLUSSIGN","unsafeToRemovePlusSignAfter","HexColor","Identifier","Raw","UnicodeRange","packNumber","regexp","pack","ITERATOR_REGEX","DEFAULT_OPTIONS","addVariationToSelector","selector","variationAbbreviation","addPropertyToSelector","propertyAbbreviation","toLowerCase","addValueToSelector","valueAbbreviation","toUpperCase","abbreviateProperty","propertyName","word","charAt","join","ITERATOR_SEARCH","ainsley","options","mergedOptions","memoizedOptions","generateFromAst","ainsleyToAst","ainsleyRules","ainsleyRule","declaration","inheritedVariables","newVariables","variables","variable","modAndBase","parseVariable","mod","base","rulesListWithoutVariants","ainsleyChildrenToAst","variations","variationSet","combination","prevAst","variation","variationInstruction","rule","ainsleyChildren","child","ainsleyRuleToAst","ainsleyPropertyToAst","declarations","variablesFound","propertyMatches","valueMatches","iteratorAndType","iterator","location","variableName","abbreviation","combinationIndex","current","part","declarationPart","ainsleyProperty","propertyInput","propertyValues","propertyData","css","id","styleEl","document","querySelector","createElement","setAttribute","appendChild","innerHTML","toString","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","getPrototypeOf","propertyIsEnumerable","SUPPORTS","WeakMap","getCleanClone","realm","constructor","__proto__","Constructor","toStringFunction","getObjectCloneLoose","handleCopy","clone","set","symbols","symbol","getObjectCloneStrict","properties","descriptor","GLOBAL_THIS","self","global","console","error","isStrict","getObjectClone","has","regExp","flags","Date","getTime","ignoreCase","multiline","unicode","sticky","lastIndex","Map","Set","add","Buffer","isBuffer","allocUnsafe","ArrayBuffer","isView","buffer","then","WeakSet","_keys","_values","createCache","strict","URI","util","SchemaObject","traverse","resolve","compile","ref","refVal","_refs","_schemas","inlineRef","_opts","inlineRefs","validate","_compile","v","baseId","res","resolveSchema","refPath","_getFullPath","getFullPath","_getId","normalizeId","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","fullPath","url","ids","schemaId","baseIds","fullPaths","localRefs","allKeys","sch","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","PREVENT_SCOPE_CHANGE","fragment","parts","$ref","SIMPLE_INLINED","limit","checkNoRef","countKeys","count","Infinity","normalize","serialize","TRAILING_SLASH_HASH","valueOf","MissingRefError","message","missingRef","missingSchema","errorSubclass","Subclass","Validation","errors","ajv","validation","MissingRef","SyntaxError","errorStack","stack","noop","decorate","forceBraces","compact","multiplier","combinator","terms","term","explicit","generateSequence","disallowEmpty","comma","opts","generateTypeOpts","Boolean","keywords","isCustomProperty","getVendorPrefix","secondDashIndex","keyword","custom","vendor","freeze","basename","substr","prefix","hack","vendorPrefix","Tokenizer","NAME_CHAR","Uint32Array","fromCharCode","createCharMap","ch","COMBINATOR_PRECEDENCE","scanSpaces","tokenizer","substringToPos","findWsEnd","scanWord","scanNumber","scanString","readMultiplierRange","eat","charCode","maybeMultiplied","range","readMultiplier","maybeToken","peek","readType","nextCharCode","readTypeRange","regroupTerms","combinators","createGroup","sort","subgroupStart","splice","readImplicitGroup","token","prevToken","prevTokenPos","readKeywordOrFunction","readGroup","readProperty","getArg","aArgs","aName","aDefaultValue","arguments","urlRegexp","dataUrlRegexp","urlParse","aUrl","scheme","auth","host","port","urlGenerate","aParsedUrl","aPath","isAbsolute","aRoot","aPathUrl","aRootUrl","joined","relative","level","lastIndexOf","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","toSetString","aStr","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","originalLine","originalColumn","generatedColumn","generatedLine","compareByGeneratedPositionsDeflated","onlyCompareGenerated","compareByGeneratedPositionsInflated","parseSourceMapInput","JSON","computeSourceURL","sourceRoot","sourceURL","sourceMapURL","parsed","AnPlusB","Atrule","AtrulePrelude","AttributeSelector","Block","Brackets","ClassSelector","Combinator","Declaration","DeclarationList","IdSelector","MediaFeature","MediaQuery","MediaQueryList","Nth","Operator","Parentheses","PseudoClassSelector","PseudoElementSelector","Ratio","Rule","Selector","SelectorList","StyleSheet","TypeSelector","Value","lexer","NAME_TO_HEX","HEX_TO_NAME","hueToRgb","q","hslToRgb","h","g","round","toHex","parseFunctionArgs","functionArgs","rgb","args","wasValue","arg","compressHex","color","compressFunction","functionName","scopeFunctionName","function","compressIdent","matchDeclaration","isType","hex","hasSimilarSelectors","selectors1","selectors2","cursor1","cursor2","compareMarker","isEqualSelectors","isEqualDeclarations","compareDeclarations","declarations1","declarations2","eq","ne1","ne2","ne2overrided","fingerprints","declarations2hash","fingerprint","important","addSelectors","dest","sourceData","newStr","nextStr","unsafeToSkipNode","prelude","block","f","cycles","aobj","bobj","seen","stringify","isFinite","TypeError","seenIndex","it","$keyword","$ruleType","$async","$refKeywords","RULES","all","$id","strictKeywords","$unknownKwd","$keywordsMsg","logger","warn","isTop","sourceCode","processCode","$lvl","$dataLvl","dataLevel","$schema","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$valid","$$outStack","createErrors","messages","verbose","__err","compositeRule","$top","rootId","dataPathArr","useDefaults","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","nullable","extendRefs","$comment","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","$parentData","arr2","i2","l2","arr3","$propertyKey","i3","l3","$sch","$passData","useDefault","items","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","implements","impl","$ruleImplementsSomeKeyword","$schemaValue","$isData","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$errorKeyword","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","createCustomError","sourceFragment","extraLines","processLines","lines","line","num","maxNumLength","column","startLine","endLine","cutLeft","OFFSET_CORRECTION","MAX_LINE_LENGTH","isNaN","parseError","isLowercaseLetter","isLetter","isNonAscii","isNameStart","isNonPrintable","second","CATEGORY","third","point","SyntaxReferenceError","referenceName","reference","MatchError","syntax","matchResult","details","tokens","longestMatch","mismatchOffset","entries","fromMatchResult","badNode","rawMessage","SafeUint32Array","input","ensureFunction","enter","leave","walk","MATCH","MISMATCH","DISALLOW_EMPTY","createCondition","thenBranch","elseBranch","else","isFunctionType","isEnumCapatible","buildMatchGraph","buildGroupMatchGraph","atLeastOneTermMatched","thenClause","newGroupTerm","matchTerm","buildMultiplierMatchGraph","syntaxTree","IDENT","STRING","NUMBER","FUNCTION","URL","HASH","DIMENSION","PERCENTAGE","LEFTPARENTHESIS","LEFTSQUAREBRACKET","COMMA","DELIM","space","ignoreWSAfter","readSequence","recognizer","createSingleNodeList","removeItemAndRedundantWhiteSpace","compileSchema","Cache","stableStringify","formats","$dataMetaSchema","Ajv","schemaKeyRef","getSchema","schemaObj","_addSchema","valid","_meta","addSchema","_skipValidation","checkUnique","addMetaSchema","skipValidation","validateSchema","throwOrLogError","defaultMeta","meta","META_SCHEMA_ID","errorsText","keyRef","_getSchemaObj","_fragments","_getSchemaFragment","removeSchema","_removeAllSchemas","_cache","del","addFormat","format","_formats","separator","text","e","dataPath","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","put","compiling","callValidate","currentOpts","_metaOpts","refs","_validate","compileAsync","customKeyword","addKeyword","getKeyword","removeKeyword","validateKeyword","errorClasses","ValidationError","META_IGNORE_OPTIONS","META_SUPPORT_DATA","log","setLogger","_loadingSchemas","_compilations","_get$IdOrId","_get$Id","chooseGetId","loopRequired","errorDataPath","_errorDataPathProperty","metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","$dataSchema","metaSchema","addDefaultMetaSchema","optsSchemas","schemas","addInitialSchemas","regex","csstree","compress","debugOutput","startTime","debug","now","buildCompressOptions","lastDebug","title","ast","toFixed","runHandler","handlers","minify","filename","positions","sourceMap","beforeCompress","tmp","compressResult","afterCompress","_file","setSourceContent","version","minifyBlock","fetch","support","Blob","viewClasses","isArrayBufferView","normalizeName","normalizeValue","iteratorFor","done","Headers","headers","header","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","readAsText","chars","readArrayBufferAsText","formData","decode","json","oldValue","callback","thisArg","values","methods","Request","method","upcased","credentials","signal","referrer","form","trim","bytes","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","DOMException","err","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","validateGenerator","checkCompiling","compIndex","endCompiling","patternCode","patterns","defaultCode","refValCode","customRuleCode","vars","statement","patternsHash","defaults","defaultsHash","customRules","compilation","localCompile","cv","_schema","_root","isRoot","errorPath","resolveRef","usePattern","useCustomRule","makeValidate","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","refId","replaceLocalRef","removeLocalRef","inline","regexStr","valueStr","deps","definition","dependencies","every","macro","merge","sets","xl","subexp","typeOf","buildExps","isIRI","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","SCHEME$","USERINFO$","UNRESERVED$$","DEC_OCTET_RELAXED$","H16$","LS32$","IPV4ADDRESS$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","ZONEID$","IPV6ADDRESS$","IP_LITERAL$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","HOST$","REG_NAME$","PORT$","DIGIT$$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","QUERY$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","IPRIVATE$$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","maxInt","regexPunycode","regexNonASCII","regexSeparators","floor","stringFromCharCode","mapDomain","string","encoded","ucs2decode","output","counter","extra","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","codePoint","inputLength","bias","basic","j","oldi","w","baseMinusT","fromCodePoint","encode","currentValue","basicLength","handledCPCount","handledCPCountPlusOne","qMinusT","punycode","SCHEMES","pctEncChar","chr","pctDecChars","il","parseInt","c2","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","UNRESERVED","PCT_ENCODED","NOT_SCHEME","userinfo","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","query","NOT_QUERY","NOT_FRAGMENT","_stripLeadingZeros","_normalizeIPv4","IPV4ADDRESS","address","_normalizeIPv6","IPV6ADDRESS","zone","reverse","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","acc","field","lastLongest","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","IRI_PROTOCOL","URI_PROTOCOL","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","absolutePath","resolveComponents","skipNormalization","target","tolerant","unescapeComponent","handler","http","O","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","mailtoComponents","unknownHeaders","hfields","hfield","toAddrs","subject","addr","setInterval","toAddr","atIdx","localPart","domain","URN_PARSE","urnComponents","nid","nss","urnScheme","uriComponents","UUID","uuidComponents","uuid","https","mailto","urn","baseURI","relativeURI","schemelessOptions","uri","uriA","uriB","ESCAPE","cb","_traverse","pre","post","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","additionalProperties","propertyNames","not","allOf","anyOf","oneOf","definitions","patternProperties","enum","const","required","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","DATE","DAYS","TIME","HOSTNAME","URITEMPLATE","JSON_POINTER_URI_FRAGMENT","date","year","month","day","isLeapYear","time","full","hour","minute","timeZone","fast","email","hostname","ipv4","ipv6","dateTime","DATE_TIME_SEPARATOR","NOT_URI_FRAGMENT","Z_ANCHOR","ruleModules","ALL","group","implKeywords","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","$wasComposite","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","$additionalItems","$currErrSchemaPath","multipleOfPrecision","$allErrorsOption","$prevValid","$passingSchemas","$key","$dataProperties","$schemaKeys","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","i1","$pProperty","$additionalProperty","$useDefaults","$hasDefault","i4","$invalidName","$propertySch","$loopRequired","$itemType","KEYWORDS","keywordsJsonPointers","loadSchema","loadMetaSchemaOf","_compileAsync","loadMissingSchema","added","schemaPromise","removePromise","definitionSchema","_addRule","ruleGroup","rg","throwError","_validateKeyword","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","$parentDataProperty","def_callRuleValidate","modifying","def_customError","simpleTypes","webpackEmptyContext","req","src","Lexer","definitionSyntax","createParser","createGenerator","createConvertor","createWalker","names","mix","config","createSyntax","convert","createLexer","find","findLast","findAll","fromPlainObject","toPlainObject","fork","extension","generic","atrules","prepareTokens","matchAsTree","trace","search","getStructureFromConfig","cssWideKeywords","cssWideKeywordsWithExpression","dumpMapSyntax","syntaxAsAst","buildMatchResult","iterations","matched","getTrace","isProperty","isKeyword","matchSyntax","useCommon","valueHasVar","valueCommonSyntax","reason","addType_","addAtrule_","addProperty_","checkStructure","collectWarning","warns","check","createDescriptor","descriptors","matchAtrulePrelude","atruleName","atrule","atrulePreludeSyntax","getAtrulePrelude","matchAtruleDescriptor","descriptorName","atruleEntry","atruleDescriptorSyntax","matchProperty","propertySyntax","matchType","typeName","typeSyntax","getType","findValueFragments","matchFragments","findDeclarationValueFragments","findAllFragments","visit","getAtruleDescriptor","declarators","broken","brokenMap","brokenTypes","brokenProperties","pretty","anPlusB","urange","calcFunctionNames","eqStr","actual","expected","eqStrAny","isPostfixIeHack","outOfRange","numEnd","consumeFunction","getNextToken","startIdx","calc","expectedTokenType","dimension","numberEnd","reverseSolidusOffset","unit","zero","scan","checkInteger","valueOffset","disallowSign","consumeB","offset_","startsWith","hexSequence","allowDash","hexlen","withQuestionMarkSequence","consumedHexLength","nextNonWsCode","tokenStream","astToTokens","decorator","curNode","nodes","nodesOffset","nodesIndex","currentNode","matchGraph","totalIterationCount","reverseList","areStringsEqualCaseInsensitive","isCommaContextStart","isCommaContextEnd","internalMatch","state","syntaxes","moveToNextToken","nextIndex","stateSnapshotFromSyntax","nextState","matchStack","syntaxStack","thenStack","pushThenStack","pushElseStack","elseStack","addTokenToMatch","syntaxStash","closeSyntax","iterationCount","exitReason","mask","matchFlag","lastTokenIndex","syntaxDict","dictSyntax","keywordName","matchAsList","hostStack","getTotalIterationCount","shouldPutToTrace","hasMatch","matchNode","testNode","fragments","findFragments","getFirstMatchNode","getLastMatchNode","parent","isValidNumber","isValidLocation","createNodeStructureChecker","fieldType","processStructure","nodeType","docs","docsTypes","fieldTypes","OffsetToLocation","sequence","createParseContext","parser","locationMap","needPositions","onParseError","onParseErrorThrow","parseAtrulePrelude","parseRulePrelude","parseValue","parseCustomProperty","createList","getFirstListNode","getLastListNode","parseWithFallback","consumer","fallback","fallbackNode","lookupNonWSType","consume","consumeFunctionName","getLocationRange","getLocationFromList","parserConfig","scope","pseudo","parseContext","processConfig","setSource","columns","linesAndColumnsComputed","startColumn","ensureLinesAndColumnsComputed","computeLinesAndColumns","ignoreWS","getNode","processChildren","delimeter","processNode","SourceMapGenerator","trackNodes","generated","original","sourceMappingActive","activatedGenerated","activatedMapping","handlersNode","nodeLine","nodeColumn","addMapping","handlersChunk","handlersResult","base64VLQ","ArraySet","MappingList","_sourceRoot","_sources","_names","_mappings","_sourcesContents","_version","fromSourceMap","aSourceMapConsumer","generator","file","eachMapping","mapping","newMapping","sources","sourceFile","sourceRelative","content","sourceContentFor","_validateMapping","aSourceFile","aSourceContent","applySourceMap","aSourceMapPath","newSources","newNames","unsortedForEach","originalPositionFor","aGenerated","aOriginal","aSource","_serializeMappings","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","mappings","_generateSourcesContent","aSources","aSourceRoot","sourcesContent","base64","aValue","vlq","toVLQSigned","VLQ_BASE","aIndex","aOutParam","continuation","shifted","strLen","rest","intToCharMap","hasNativeMap","_array","_set","aArray","aAllowDuplicates","sStr","isDuplicate","at","aIdx","_sorted","_last","aCallback","aThisArg","aMapping","lineA","lineB","columnA","columnB","invokeForType","getWalkersFromStructure","walkers","walker","walkContext","createTypeIterator","contextName","useContext","prevContextValue","createFastTraveralMap","iterators","getTypesFromConfig","iteratorsNatural","iteratorsReverse","fastTraversalIteratorsNatural","fastTraversalIteratorsReverse","stylesheet","atrulePrelude","walkNode","found","shape","extend","innerShape","N","checkTokenIsInteger","expectCharCode","msg","rawMode","ATKEYWORD","SEMICOLON","LEFTCURLYBRACKET","RIGHTCURLYBRACKET","consumeRaw","isDeclarationBlockAtrule","nameLowerCase","COLON","RIGHTSQUAREBRACKET","getAttributeName","expectIdent","checkColon","getOperator","matcher","flagsPrefix","consumeRule","consumeRawDeclaration","consumeDeclaration","isDeclaration","consumeValueRaw","consumeCustomPropertyRaw","consumeValue","startValueToken","getImportant","customProperty","RIGHTPARENTHESIS","nth","allowOfClause","left","right","consumePrelude","eatIdentifierOrAsterisk","eatHexSequence","eatQuestionMarkSequence","scanUnicodeRange","hexLength","rawStart","rawEnd","SPACE","mediaQueryList","mediaQuery","selectorList","declarationList","parentheses","usageUtils","clean","restructure","readChunk","specialComments","protectedComment","nonSpaceTokenInBuffer","comment","compressChunk","firstAtrulesAllowed","seed","restructuring","getRestructureOption","chunkChildren","compressOptions","forceMediaMerge","usage","buildIndex","comments","getCommentsOption","chunkNum","lastRule","buildMap","caseInsensitive","buildList","tags","classes","scopes","whitelist","blacklist","resolveKeyword","usageData","cleanUnused","shouldRemove","nextType","isSafeOperator","compressKeyframes","simpleselector","escapesRx","blockUnquoteRx","attrValue","unquotedValue","canUnquote","resolveName","lastType","flush","newValue","LENGTH_UNIT","SAFE_URL","quote","prepare","mergeAtrule","initialMergeRuleset","disjoinRuleset","restructShorthand","restructBlock","mergeRuleset","restructRuleset","indexer","createDeclarationIndexer","processSelector","markDeclaration","avoidRulesMerge","Index","specificity","nonFreezePseudoElements","nonFreezePseudoClasses","pseudos","hasPseudo","simpleSelector","tagName","classScope","pseudoSignature","A","B","C","addRuleToMap","single","isMediaRule","processAtrule","collected","topInjectPoint","relocateAtrules","processRule","selectors","prevSelectors","prevDeclarations","newSelectors","SIDES","SIDE","MAIN_PROPERTY","TRBL","iehack","sides","shorts","shortDeclarations","lastShortSelector","shorthand","operation","getValueSequence","special","canOverride","side","isOkToMinimize","top","bottom","getValue","stringValues","getDeclaration","stylesheetMap","ruleMap","ruleId","processShorthands","resolveProperty","fingerprintId","dontRestructure","DONT_MIX_VALUE","CURSOR_SAFE_VALUE","POSITION_SAFE_VALUE","NEEDLESS_TABLE","getPropertyFingerprint","realName","declarationId","vendorId","raw","lastMatch","props","declarationItem","table","ppre","needless","nodeCompareMarker","skippedCompareMarkers","nextItem","nextFirstSelector","nextDeclarations","nextCompareMarker","curStr","calcSelectorLength","calcDeclarationsLength","disallowDownMarkers","allowMergeUp","allowMergeDown","prevItem","prevBlock","prevType","unsafe","diff","selectorLength","blockLength","newSelector","newBlockLength","newItem","prevSelector","maybeAinsley","pathLength","formatError","flatten","configWithPlugins","getConfig","flatAinsley","getFlatConfig","flatConfig","defaultGetConfig","href","endsWith","toAST","parentChildren","findIndex","prevSibling","thisVars","usageCounts","definedVariables","parentVars","parentVariable","buildVariable","parentMod","parentValue","childValue","indexInParent","minifyRaw","rawCSS","iteratorRegex","searchForUsages","val","topologicalList","childNodes"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAiB,QAAID,IAErBD,EAAc,QAAIC,IARpB,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,K,kBClFrD,IAAIC,EAAc,EAAQ,GACtBC,EAAc,EAAQ,IAEtBC,EAAY,EAAQ,GACpBC,EAAOD,EAAUC,KAEjBC,EAAsB,EAAQ,IAC9BC,EAAYD,EAAoBC,UAChCC,EAASF,EAAoBE,OAC7BC,EAAgBH,EAAoBG,cACpCC,EAAgBJ,EAAoBI,cACpCC,EAAoBL,EAAoBK,kBACxCC,EAAmBN,EAAoBM,iBACvCC,EAAQP,EAAoBO,MAE5BC,EAAQ,EAAQ,GAChBC,EAASD,EAAMC,OACfC,EAAmBF,EAAME,iBACzBC,EAAoBH,EAAMG,kBAC1BC,EAAiBJ,EAAMI,eACvBC,EAAcL,EAAMK,YACpBC,EAAgBN,EAAMM,cACtBC,EAAwBP,EAAMO,sBAKlC,SAASC,EAASC,EAAQC,GACtB,SAASC,EAAYC,GACjB,OAAOA,EAASC,EAAeJ,EAAOK,WAAWF,GAAU,EAI/D,SAASG,IAKL,OAHAH,EAASN,EAAcG,EAAQG,GAG3Bf,EAAkBc,EAAYC,GAASD,EAAYC,EAAS,GAAID,EAAYC,EAAS,KAIrFI,EAAOzB,EAAK0B,eACZL,EAASP,EAAYI,EAAQG,KAKL,KAAxBD,EAAYC,IAEZI,EAAOzB,EAAK2B,gBACZN,UAKJI,EAAOzB,EAAK4B,QAIhB,SAASC,IACL,MAAMC,EAAkBT,EAOxB,OAJAA,EAASP,EAAYI,EAAQG,GAIzBX,EAAOQ,EAAQY,EAAiBT,EAAQ,QAAkC,KAAxBD,EAAYC,GAOlC,KAAxBD,EALJC,EAAST,EAAkBM,EAAQG,EAAS,KAMhB,KAAxBD,EAAYC,IACZI,EAAOzB,EAAK+B,cACZV,EAASS,EAAkB,SA2FvC,WAQI,IANAL,EAAOzB,EAAKgC,IAGZX,EAAST,EAAkBM,EAAQG,GAG5BA,EAASH,EAAOe,OAAQZ,IAAU,CACrC,IAAIa,EAAOhB,EAAOK,WAAWF,GAE7B,OAAQd,EAAiB2B,IAErB,KAAK,GAGD,YADAb,IAIJ,KAAKd,EAAiB4B,IAElB,OAGJ,KAAK5B,EAAiB6B,WAOlB,OAA4B,KAAxBhB,EALJC,EAAST,EAAkBM,EAAQG,KAKGA,GAAUH,EAAOe,YAC/CZ,EAASH,EAAOe,QAChBZ,MAORA,EAASL,EAAsBE,EAAQG,QACvCI,EAAOzB,EAAKqC,SAOhB,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK9B,EAAiB+B,aAKlB,OAFAjB,EAASL,EAAsBE,EAAQG,QACvCI,EAAOzB,EAAKqC,QAIhB,KAAK,GAGD,GAAIjC,EAAc8B,EAAMd,EAAYC,EAAS,IAAK,CAC9CA,EAASR,EAAeK,EAAQG,GAAU,EAC1C,MAOJ,OAFAA,EAASL,EAAsBE,EAAQG,QACvCI,EAAOzB,EAAKqC,UA5JpBE,GAMwB,KAAxBnB,EAAYC,IACZI,EAAOzB,EAAK+B,cACZV,UAKJI,EAAOzB,EAAKwC,OAIhB,SAASC,EAAmBC,GAYxB,IARKA,IACDA,EAAkBtB,EAAYC,MAIlCI,EAAOzB,EAAK2C,OAGLtB,EAASH,EAAOe,OAAQZ,IAAU,CACrC,IAAIa,EAAOhB,EAAOK,WAAWF,GAE7B,OAAQd,EAAiB2B,IAErB,KAAKQ,EAGD,YADArB,IAIJ,KAAKd,EAAiB4B,IAElB,OAGJ,KAAK5B,EAAiB6B,WAClB,GAAIlC,EAAUgC,GAKV,OAFAb,GAAUV,EAAiBO,EAAQG,EAAQa,QAC3CT,EAAOzB,EAAK4C,WAGhB,MAGJ,KAAK,GAED,GAAIvB,IAAWH,EAAOe,OAAS,EAC3B,MAGJ,IAAIY,EAAWzB,EAAYC,EAAS,GAGhCnB,EAAU2C,GACVxB,GAAUV,EAAiBO,EAAQG,EAAS,EAAGwB,GACxCzC,EAAc8B,EAAMW,KAI3BxB,EAASR,EAAeK,EAAQG,GAAU,KA8FzDF,IACDA,EAAS,IAAItB,GAkBjB,IAZA,IAAIyB,GAFJJ,EAASyB,OAAOzB,GAAU,KAEAe,OACtBa,EAAgBhD,EAAYqB,EAAO2B,cAAexB,EAAe,GACjEyB,EAAUjD,EAAYqB,EAAO4B,QAASzB,EAAe,GACrD0B,EAAa,EACbC,EAAQzC,EAAMY,EAAY,IAC1BC,EAAS4B,EACTC,EAAmB,EACnBC,EAAe,EACfC,EAAc,EAIX/B,EAASC,GAAc,CAC1B,IAAIY,EAAOhB,EAAOK,WAAWF,GACzBI,EAAO,EAIX,OAFAsB,EAAQC,GAAc1B,EAEdf,EAAiB2B,IAErB,KAAK3B,EAAiB6B,WAElBX,EAAOzB,EAAKoC,WACZf,EAAST,EAAkBM,EAAQG,EAAS,GAC5C,MAGJ,KAAK,GAEDoB,IACA,MAGJ,KAAK,GAEGtC,EAAOiB,EAAYC,EAAS,KAAOjB,EAAcgB,EAAYC,EAAS,GAAID,EAAYC,EAAS,KAE/FI,EAAOzB,EAAKqD,KAQZhC,EAASP,EAAYI,EAAQG,EAAS,KAKtCI,EAAOzB,EAAKsD,MACZjC,KAGJ,MAGJ,KAAK,GAEDoB,IACA,MAGJ,KAAK,GAEDhB,EAAOzB,EAAKuD,gBACZlC,IACA,MAGJ,KAAK,GAEDI,EAAOzB,EAAKwD,iBACZnC,IACA,MAGJ,KAAK,GAEGhB,EAAc6B,EAAMd,EAAYC,EAAS,GAAID,EAAYC,EAAS,IAElEG,KAGAC,EAAOzB,EAAKsD,MACZjC,KAEJ,MAGJ,KAAK,GAEDI,EAAOzB,EAAKyD,MACZpC,IACA,MAGJ,KAAK,GAEGhB,EAAc6B,EAAMd,EAAYC,EAAS,GAAID,EAAYC,EAAS,IAClEG,IAGgC,KAA5BJ,EAAYC,EAAS,IACO,KAA5BD,EAAYC,EAAS,IACrBI,EAAOzB,EAAK0D,IACZrC,GAAkB,GAGdf,EAAkB4B,EAAMd,EAAYC,EAAS,GAAID,EAAYC,EAAS,IAEtEQ,KAGAJ,EAAOzB,EAAKsD,MACZjC,KAIZ,MAGJ,KAAK,GAEGhB,EAAc6B,EAAMd,EAAYC,EAAS,GAAID,EAAYC,EAAS,IAElEG,KAGAC,EAAOzB,EAAKsD,MACZjC,KAGJ,MAGJ,KAAK,GAE+B,KAA5BD,EAAYC,EAAS,IAGrBI,EAAOzB,EAAK2D,QAEG,KADftC,EAASH,EAAO0C,QAAQ,KAAMvC,EAAS,GAAK,KAExCA,EAASH,EAAOe,UAGpBR,EAAOzB,EAAKsD,MACZjC,KAEJ,MAGJ,KAAK,GAEDI,EAAOzB,EAAK6D,MACZxC,IACA,MAGJ,KAAK,GAEDI,EAAOzB,EAAK8D,UACZzC,IACA,MAGJ,KAAK,GAE+B,KAA5BD,EAAYC,EAAS,IACO,KAA5BD,EAAYC,EAAS,IACO,KAA5BD,EAAYC,EAAS,IAErBI,EAAOzB,EAAK+D,IACZ1C,GAAkB,IAGlBI,EAAOzB,EAAKsD,MACZjC,KAGJ,MAGJ,KAAK,GAEGf,EAAkBc,EAAYC,EAAS,GAAID,EAAYC,EAAS,GAAID,EAAYC,EAAS,KAEzFI,EAAOzB,EAAKgE,UACZ3C,EAASP,EAAYI,EAAQG,EAAS,KAGtCI,EAAOzB,EAAKsD,MACZjC,KAGJ,MAGJ,KAAK,GAEDI,EAAOzB,EAAKiE,kBACZ5C,IACA,MAGJ,KAAK,GAEGjB,EAAc8B,EAAMd,EAAYC,EAAS,IAEzCQ,KAGAJ,EAAOzB,EAAKsD,MACZjC,KAEJ,MAGJ,KAAK,GAEDI,EAAOzB,EAAKkE,mBACZ7C,IACA,MAGJ,KAAK,IAEDI,EAAOzB,EAAKmE,iBACZ9C,IACA,MAGJ,KAAK,IAEDI,EAAOzB,EAAKoE,kBACZ/C,IACA,MAGJ,KAAKd,EAAiB8D,MAElB7C,IACA,MAGJ,KAAKjB,EAAiB+D,UAElBzC,IACA,MAGJ,KAAKtB,EAAiB4B,IAElB,MAGJ,QAEIV,EAAOzB,EAAKsD,MACZjC,IAGR,OAAQI,GACJ,KAAKyB,EAMD,IAHAA,GADAC,EAAeJ,EADfK,EAhfE,SAgfYD,KA/eb,GAkfDJ,EAAQC,GAAcI,EACtBL,EAAQK,KAAiBJ,EAClBI,EAAcJ,EAAYI,IACzBL,EAAQK,KAAiB9B,IACzByB,EAAQK,GAAeJ,GAG/B,MAEJ,KAAKhD,EAAKuD,gBACV,KAAKvD,EAAK+B,SACNgB,EAAQC,GAAcG,EAEtBA,GADAD,EAAmBlD,EAAKwD,mBA9fvB,GA+fiDR,EAClD,MAEJ,KAAKhD,EAAKiE,kBACNlB,EAAQC,GAAcG,EAEtBA,GADAD,EAAmBlD,EAAKkE,qBApgBvB,GAqgBiDlB,EAClD,MAEJ,KAAKhD,EAAKmE,iBACNpB,EAAQC,GAAcG,EAEtBA,GADAD,EAAmBlD,EAAKoE,oBA1gBvB,GA2gBiDpB,EAI1DF,EAAcE,KAAiBvB,GA/gBtB,GA+gB4CJ,EAOzD,IAHAyB,EAAcE,GAAehD,EAAKuE,KAnhBrB,GAmhB0ClD,EACvD0B,EAAQC,GAAc1B,EACtByB,EAAQzB,GAAgBA,EACA,IAAjB6B,GAEHA,EAAeJ,EADfK,EAxhBU,SAwhBID,GAEdJ,EAAQK,GAAe9B,EAY3B,OARAH,EAAOD,OAASA,EAChBC,EAAOqD,gBAAkBvB,EACzB9B,EAAO2B,cAAgBA,EACvB3B,EAAO6B,WAAaA,EACpB7B,EAAO4B,QAAUA,EACjB5B,EAAOsD,QACPtD,EAAOuD,OAEAvD,EAIX5C,OAAOoG,KAAK5E,GAAW6E,SAAQ,SAASxF,GACpC6B,EAAS7B,GAAOW,EAAUX,MAI9Bb,OAAOoG,KAAK1E,GAAqB2E,SAAQ,SAASxF,GAC9C6B,EAAS7B,GAAOa,EAAoBb,MAExCb,OAAOoG,KAAKlE,GAAOmE,SAAQ,SAASxF,GAChC6B,EAAS7B,GAAOqB,EAAMrB,MAG1B9B,EAAOD,QAAU4D,G,6BC9kBjB,4MAAO,IAAM4D,EAAW,SAACC,GACvB,QAAS,OAANA,GAA2B,iBAANA,GAAmBC,MAAMC,QAAQF,KAE9CG,EAAM,SAACC,EAAYC,GAG9B,IAFA,IAAMC,EAAM,GACNC,EAAMH,EAAIjD,OACPpE,EAAI,EAAGA,EAAIwH,EAAKxH,IAAKuH,EAAIE,KAAKH,EAAGD,EAAIrH,KAC9C,OAAOuH,GAGIG,EAAO,SAACL,GAEnB,MAAC,GAAaM,OAAOC,MAAM,GAAIP,IAEpBQ,EAAe,SAACC,GAG3B,IAFA,IAAIC,EAAgB,CAAC,IACjBC,EAAQ,EACLA,EAAQF,EAAK1D,QAClB2D,EAAOL,EACLN,EAAIU,EAAKE,MAAU,SAACC,GAAW,OAAAF,EAAKX,KAAI,SAACc,GAAS,OAAAA,EAAKP,OAAO,CAACM,WAGnE,OAAOF,GAGII,EAAS,SAACC,GAGrB,IAFA,IAAMb,EAA2B,GAC3BC,EAAMY,EAAQhE,O,WACXpE,GACP,IAAMqI,EAAMD,EAAQpI,GACpBoH,EAAI1G,OAAOoG,KAAKuB,IAAM,SAAC9G,GACrBgG,EAAIhG,GAAO8G,EAAI9G,OAHVvB,EAAI,EAAGA,EAAIwH,EAAKxH,I,EAAhBA,GAMT,OAAOuH,GAMIe,EAAU,SAACC,GACtB,IAAMC,EAA6B,GACnC,OAAO,SAACC,EAAcC,GACpB,IAAMC,EAAWF,EAAO,KAAQC,EAEhC,OADMF,EAAMG,KAAuBH,EAAMG,GAAYJ,EAAKE,EAAMC,IACzDF,EAAMG,M,gBC7CjBlJ,EAAOD,QAAU,EAAQ,K,gBCAzB,IACI2C,EADY,EAAQ,GACHA,KAEjBoC,EAAapC,EAAKoC,WAClB0B,EAAY9D,EAAK8D,UACjBK,EAAmBnE,EAAKmE,iBACxBb,EAAQtD,EAAKsD,MAGjB,SAASmD,IACL,OAAIC,KAAKC,QAAQC,WAAa,GACtBF,KAAKC,QAAQE,YAAY,KAAOzE,EACzBsE,KAAKC,QAAQC,WAAa,EAC3BF,KAAKC,QAAQG,cAAcJ,KAAKC,QAAQC,WAAa,GACrDF,KAAKC,QAAQnC,gBAIpBkC,KAAKC,QAAQI,WAIxB,SAASC,IACL,OAAO,EA2BX1J,EAAOD,QAAU,CACbe,KAAM,MACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,SAASC,EAAYnI,EAAMoI,GAC9B,IACIC,EADAC,EAAcZ,KAAKC,QAAQG,cAAcK,GAa7C,OAVAT,KAAKC,QAAQY,KACTb,KAAKC,QAAQa,aAAaL,EAAYnI,GAAQgI,IAI9CK,EADAD,GAAqBV,KAAKC,QAAQI,WAAaO,EACnCb,EAAmBzI,KAAK0I,MAExBA,KAAKC,QAAQI,WAGtB,CACHtF,KAAM,MACNgG,IAAKf,KAAKgB,YAAYJ,EAAaD,GACnCvI,MAAO4H,KAAKC,QAAQzF,OAAOyG,UAAUL,EAAaD,KAG1DO,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK/I,QAGpBE,KAAM,CACF+I,QAASf,EACTgB,iBAtDR,SAA0BC,GACtB,OAAOA,IAAc9D,EAAmB,EAAI,GAsDxC+D,4BAlDR,SAAqCD,GACjC,OAAOA,IAAc9D,GAAoB8D,IAAcnE,EAAY,EAAI,GAkDnEqE,2BA9CR,SAAoCF,EAAW/G,EAAQG,GACnD,OAAI4G,IAAc3E,GA/BA,KA+BSpC,EAAOK,WAAWF,IAItC4G,IAAcnE,EAHV,EAG0B,GA0CjCsE,kBAtCR,SAA2BH,GACvB,OAAOA,IAAcnE,EAAY,EAAI,M,6BCTzC,SAASuE,EAAcC,EAAUC,EAAMC,GACrC,IAAIC,EAAQD,EAAS,QAAU,QAC3BE,EAAMF,EAAS,OAAS,OACxBG,EAAKH,EAAS,IAAM,GACpBI,EAAMJ,EAAS,GAAK,IACxB,OAAQF,GACN,IAAK,OAAQ,OAAOC,EAAOE,EAAQ,OACnC,IAAK,QAAS,OAAOE,EAAK,iBAAmBJ,EAAO,IACpD,IAAK,SAAU,MAAO,IAAMI,EAAKJ,EAAOG,EAClB,UAAYH,EAAOE,EAAQ,WAAaC,EACxCE,EAAM,iBAAmBL,EAAO,KACtD,IAAK,UAAW,MAAO,WAAaA,EAAOE,EAAQ,WAAaC,EACzCE,EAAM,IAAML,EAAO,QACnBG,EAAMH,EAAOE,EAAQF,EAAO,IACnD,QAAS,MAAO,UAAYA,EAAOE,EAAQ,IAAMH,EAAW,KAjDhEhL,EAAOD,QAAU,CACfwL,KA2BF,SAAcvK,EAAGwK,GAEf,IAAK,IAAI1J,KADT0J,EAAKA,GAAM,GACKxK,EAAGwK,EAAG1J,GAAOd,EAAEc,GAC/B,OAAO0J,GA7BPT,cAAeA,EACfU,eAmDF,SAAwBC,EAAWT,GACjC,OAAQS,EAAU/G,QAChB,KAAK,EAAG,OAAOoG,EAAcW,EAAU,GAAIT,GAAM,GACjD,QACE,IAAIrG,EAAO,GACP+G,EAAQC,EAAOF,GASnB,IAAK,IAAIjK,KARLkK,EAAME,OAASF,EAAM1J,SACvB2C,EAAO+G,EAAMG,KAAO,IAAK,KAAOb,EAAO,OACvCrG,GAAQ,UAAYqG,EAAO,wBACpBU,EAAMG,YACNH,EAAME,aACNF,EAAM1J,QAEX0J,EAAMI,eAAeJ,EAAMK,QACjBL,EACZ/G,IAASA,EAAO,OAAS,IAAOmG,EAActJ,EAAGwJ,GAAM,GAEzD,OAAOrG,IAnEXqH,cAyEF,SAAuBC,EAAmBR,GACxC,GAAIjE,MAAMC,QAAQgE,GAAY,CAE5B,IADA,IAAIC,EAAQ,GACHpL,EAAE,EAAGA,EAAEmL,EAAU/G,OAAQpE,IAAK,CACrC,IAAIkB,EAAIiK,EAAUnL,IACd4L,EAAgB1K,IACW,UAAtByK,GAAuC,UAANzK,KADlBkK,EAAMA,EAAMhH,QAAUlD,GAGhD,GAAIkK,EAAMhH,OAAQ,OAAOgH,MACpB,IAAIQ,EAAgBT,GACzB,MAAO,CAACA,GACH,GAA0B,UAAtBQ,GAA+C,UAAdR,EAC1C,MAAO,CAAC,WApFVE,OAAQA,EACRQ,YAAaA,EACbC,aAAcA,EACdC,MAAO,EAAQ,IACfC,WAAY,EAAQ,IACpBC,cA+GF,SAAuBC,EAAKC,GAC1BA,GAAW,SACX,IAAIC,EAAUF,EAAIG,MAAM,IAAIC,OAAOH,EAAS,MAC5C,OAAOC,EAAUA,EAAQhI,OAAS,GAjHlCmI,WAqHF,SAAoBL,EAAKC,EAASK,GAGhC,OAFAL,GAAW,WACXK,EAAOA,EAAKC,QAAQ,MAAO,QACpBP,EAAIO,QAAQ,IAAIH,OAAOH,EAAS,KAAMK,EAAO,OAvHpDE,YA8HF,SAAqBnF,GACnB,OAAOA,EAAIkF,QAAQE,EAAY,IACpBF,QAAQG,EAAkB,IAC1BH,QAAQI,EAAoB,eAhIvCC,iBA8IF,SAA0BvF,EAAKwF,GAC7B,IAAIX,EAAU7E,EAAI8E,MAAMW,GACpBZ,GAA6B,GAAlBA,EAAQhI,SACrBmD,EAAMwF,EACExF,EAAIkF,QAAQQ,EAAqB,IAC7BR,QAAQS,EATA,gBAUZ3F,EAAIkF,QAAQU,EAAe,IACvBV,QAdG,uBACD,yCAiBhB,OADAL,EAAU7E,EAAI8E,MAAMe,KACe,IAAnBhB,EAAQhI,OACjBmD,EAAIkF,QAAQY,EAAiB,IADS9F,GAxJ7C+F,eA6JF,SAAwBC,EAAQC,GAC9B,GAAqB,kBAAVD,EAAqB,OAAQA,EACxC,IAAK,IAAIhM,KAAOgM,EAAQ,GAAIC,EAAMjM,GAAM,OAAO,GA9J/CkM,qBAkKF,SAA8BF,EAAQC,EAAOE,GAC3C,GAAqB,kBAAVH,EAAqB,OAAQA,GAA2B,OAAjBG,EAClD,IAAK,IAAInM,KAAOgM,EAAQ,GAAIhM,GAAOmM,GAAiBF,EAAMjM,GAAM,OAAO,GAnKvEoM,mBAuKF,SAA4BJ,EAAQC,GAClC,GAAqB,kBAAVD,EAAqB,OAChC,IAAK,IAAIhM,KAAOgM,EAAQ,IAAKC,EAAMjM,GAAM,OAAOA,GAxKhDqM,eAAgBA,EAChBC,YAgLF,SAAqBC,EAAatB,EAAMuB,EAAcC,GAIpD,OAAOC,EAAUH,EAHNC,EACG,SAAavB,GAAQwB,EAAW,GAAK,8CACpCA,EAAW,SAAaxB,EAAO,SAAa,YAAiBA,EAAO,cAlLnF0B,QAuLF,SAAiBJ,EAAaK,EAAMJ,GAClC,IAAIK,EACUR,EADHG,EACkB,IAAMM,EAAkBF,GACxBtC,EAAYsC,IACzC,OAAOF,EAAUH,EAAaM,IA1L9BE,QAgMF,SAAiBC,EAAOC,EAAKC,GAC3B,IAAIC,EAAIC,EAAajE,EAAM0B,EAC3B,GAAc,KAAVmC,EAAc,MAAO,WACzB,GAAgB,KAAZA,EAAM,GAAW,CACnB,IAAKK,EAAaC,KAAKN,GAAQ,MAAM,IAAIO,MAAM,yBAA2BP,GAC1EI,EAAcJ,EACd7D,EAAO,eACF,CAEL,KADA0B,EAAUmC,EAAMlC,MAAM0C,IACR,MAAM,IAAID,MAAM,yBAA2BP,GAGzD,GAFAG,GAAMtC,EAAQ,GAEK,MADnBuC,EAAcvC,EAAQ,IACE,CACtB,GAAIsC,GAAMF,EAAK,MAAM,IAAIM,MAAM,gCAAkCJ,EAAK,gCAAkCF,GACxG,OAAOC,EAAMD,EAAME,GAGrB,GAAIA,EAAKF,EAAK,MAAM,IAAIM,MAAM,sBAAwBJ,EAAK,gCAAkCF,GAE7F,GADA9D,EAAO,QAAW8D,EAAME,GAAO,KAC1BC,EAAa,OAAOjE,EAK3B,IAFA,IAAI8B,EAAO9B,EACPsE,EAAWL,EAAYM,MAAM,KACxBjP,EAAE,EAAGA,EAAEgP,EAAS5K,OAAQpE,IAAK,CACpC,IAAIkP,EAAUF,EAAShP,GACnBkP,IACFxE,GAAQmB,EAAYsD,EAAoBD,IACxC1C,GAAQ,OAAS9B,GAGrB,OAAO8B,GA9NP4C,iBAwOF,SAA0BlD,GACxB,OAAOiD,EAAoBE,mBAAmBnD,KAxO9CiD,oBAAqBA,EACrBG,eA2OF,SAAwBpD,GACtB,OAAOqD,mBAAmBlB,EAAkBnC,KA3O5CmC,kBAAmBA,GAoDrB,IAAIzC,EAAkBP,EAAO,CAAE,SAAU,SAAU,UAAW,UAAW,SAkBzE,SAASA,EAAOhE,GAEd,IADA,IAAImI,EAAO,GACFxP,EAAE,EAAGA,EAAEqH,EAAIjD,OAAQpE,IAAKwP,EAAKnI,EAAIrH,KAAM,EAChD,OAAOwP,EAIT,IAAIC,EAAa,wBACbC,EAAe,QACnB,SAAS7D,EAAYtK,GACnB,MAAqB,iBAAPA,EACJ,IAAMA,EAAM,IACZkO,EAAWZ,KAAKtN,GACd,IAAMA,EACN,KAAOuK,EAAavK,GAAO,KAIzC,SAASuK,EAAaI,GACpB,OAAOA,EAAIO,QAAQiD,EAAc,QACtBjD,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OAkB5B,IAAIE,EAAa,gBACbC,EAAmB,uCACnBC,EAAqB,8CAQzB,IAAIG,EAAgB,eAChBG,EAAgB,kEAChBF,EAAsB,uCAGtBC,EAAe,gFAEfE,EAAkB,qCAClBC,EAAkB,iDAoCtB,SAASO,EAAe1B,GACtB,MAAO,IAAOJ,EAAaI,GAAO,IAoBpC,IAAI0C,EAAe,sBACfG,EAAwB,mCAoC5B,SAASd,EAAW0B,EAAGC,GACrB,MAAS,MAALD,EAAkBC,GACdD,EAAI,MAAQC,GAAGnD,QAAQ,UAAW,IAc5C,SAAS4B,EAAkBnC,GACzB,OAAOA,EAAIO,QAAQ,KAAM,MAAMA,QAAQ,MAAO,MAIhD,SAAS0C,EAAoBjD,GAC3B,OAAOA,EAAIO,QAAQ,MAAO,KAAKA,QAAQ,MAAO,O,cChQhD,SAASoD,EAAWnF,GAChB,MAAO,CACHxC,KAAM,KACNrB,KAAM,KACN6D,KAAMA,GAId,SAASoF,EAAe9F,EAAM9B,EAAMrB,GAChC,IAAIkJ,EAkBJ,OAhBgB,OAAZC,GACAD,EAASC,EACTA,EAAUA,EAAQD,OAClBA,EAAO7H,KAAOA,EACd6H,EAAOlJ,KAAOA,EACdkJ,EAAOA,OAAS/F,EAAK+F,QAErBA,EAAS,CACL7H,KAAMA,EACNrB,KAAMA,EACNkJ,OAAQ/F,EAAK+F,QAIrB/F,EAAK+F,OAASA,EAEPA,EAGX,SAASE,EAAcjG,GACnB,IAAI+F,EAAS/F,EAAK+F,OAElB/F,EAAK+F,OAASA,EAAOA,OACrBA,EAAO7H,KAAO,KACd6H,EAAOlJ,KAAO,KACdkJ,EAAOA,OAASC,EAChBA,EAAUD,EAGd,IAAIC,EAAU,KACVE,EAAO,WACPrH,KAAKkH,OAAS,KACdlH,KAAKsH,KAAO,KACZtH,KAAKuH,KAAO,MAGhBF,EAAKL,WAAaA,EAClBK,EAAKtO,UAAUiO,WAAaA,EAE5BK,EAAKtO,UAAUyO,cAAgB,SAASC,EAASC,EAASC,EAASC,GAG/D,IAFA,IAAIV,EAASlH,KAAKkH,OAEA,OAAXA,GACCA,EAAO7H,OAASoI,IAChBP,EAAO7H,KAAOqI,GAGdR,EAAOlJ,OAAS2J,IAChBT,EAAOlJ,KAAO4J,GAGlBV,EAASA,EAAOA,QAIxBG,EAAKtO,UAAU8O,QAAU,WAIrB,IAHA,IAAIC,EAAO,EACPZ,EAASlH,KAAKsH,KAEXJ,GACHY,IACAZ,EAASA,EAAOlJ,KAGpB,OAAO8J,GAGXT,EAAKtO,UAAUgP,UAAY,SAAStF,GAChC,IAAIyE,EAAS,KAEblH,KAAKsH,KAAO,KAEZ,IAAK,IAAInQ,EAAI,EAAGA,EAAIsL,EAAMlH,OAAQpE,IAAK,CACnC,IAAI6Q,EAAOhB,EAAWvE,EAAMtL,IAEb,OAAX+P,EACAA,EAAOlJ,KAAOgK,EAEdhI,KAAKsH,KAAOU,EAGhBA,EAAK3I,KAAO6H,EACZA,EAASc,EAKb,OAFAhI,KAAKuH,KAAOL,EAELlH,MAGXqH,EAAKtO,UAAUkP,QAAU,WAIrB,IAHA,IAAIf,EAASlH,KAAKsH,KACdY,EAAS,GAENhB,GACHgB,EAAOtJ,KAAKsI,EAAOrF,MACnBqF,EAASA,EAAOlJ,KAGpB,OAAOkK,GAGXb,EAAKtO,UAAUoP,OAASd,EAAKtO,UAAUkP,QAEvCZ,EAAKtO,UAAUqP,QAAU,WACrB,OAAqB,OAAdpI,KAAKsH,MAGhBD,EAAKtO,UAAUsP,MAAQ,WACnB,OAAOrI,KAAKsH,MAAQtH,KAAKsH,KAAKzF,MAGlCwF,EAAKtO,UAAUuP,KAAO,WAClB,OAAOtI,KAAKuH,MAAQvH,KAAKuH,KAAK1F,MAGlCwF,EAAKtO,UAAUwP,KAAO,SAAS9J,EAAI+J,GAC/B,IAAIR,OAEYS,IAAZD,IACAA,EAAUxI,MAMd,IAFA,IAAIkH,EAASD,EAAejH,KAAM,KAAMA,KAAKsH,MAEtB,OAAhBJ,EAAOlJ,MACVgK,EAAOd,EAAOlJ,KACdkJ,EAAOlJ,KAAOgK,EAAKhK,KAEnBS,EAAGnH,KAAKkR,EAASR,EAAKnG,KAAMmG,EAAMhI,MAItCoH,EAAcpH,OAGlBqH,EAAKtO,UAAUmF,QAAUmJ,EAAKtO,UAAUwP,KAExClB,EAAKtO,UAAU2P,UAAY,SAASjK,EAAI+J,GACpC,IAAIR,OAEYS,IAAZD,IACAA,EAAUxI,MAMd,IAFA,IAAIkH,EAASD,EAAejH,KAAMA,KAAKuH,KAAM,MAEtB,OAAhBL,EAAO7H,MACV2I,EAAOd,EAAO7H,KACd6H,EAAO7H,KAAO2I,EAAK3I,KAEnBZ,EAAGnH,KAAKkR,EAASR,EAAKnG,KAAMmG,EAAMhI,MAItCoH,EAAcpH,OAGlBqH,EAAKtO,UAAU4P,aAAetB,EAAKtO,UAAU2P,UAE7CrB,EAAKtO,UAAU6P,UAAY,SAASrM,EAAOkC,EAAI+J,GAC3C,GAAc,OAAVjM,EAAJ,CAIA,IAAIyL,OAEYS,IAAZD,IACAA,EAAUxI,MAMd,IAFA,IAAIkH,EAASD,EAAejH,KAAM,KAAMzD,GAEjB,OAAhB2K,EAAOlJ,OACVgK,EAAOd,EAAOlJ,KACdkJ,EAAOlJ,KAAOgK,EAAKhK,MAEfS,EAAGnH,KAAKkR,EAASR,EAAKnG,KAAMmG,EAAMhI,SAM1CoH,EAAcpH,QAGlBqH,EAAKtO,UAAU8P,UAAY,SAAStM,EAAOkC,EAAI+J,GAC3C,GAAc,OAAVjM,EAAJ,CAIA,IAAIyL,OAEYS,IAAZD,IACAA,EAAUxI,MAMd,IAFA,IAAIkH,EAASD,EAAejH,KAAMzD,EAAO,MAElB,OAAhB2K,EAAO7H,OACV2I,EAAOd,EAAO7H,KACd6H,EAAO7H,KAAO2I,EAAK3I,MAEfZ,EAAGnH,KAAKkR,EAASR,EAAKnG,KAAMmG,EAAMhI,SAM1CoH,EAAcpH,QAGlBqH,EAAKtO,UAAU+P,KAAO,SAASrK,EAAI+J,GAC/B,IAAItB,EAASlH,KAAKsH,KAMlB,SAJgBmB,IAAZD,IACAA,EAAUxI,MAGI,OAAXkH,GAAiB,CACpB,GAAIzI,EAAGnH,KAAKkR,EAAStB,EAAOrF,KAAMqF,EAAQlH,MACtC,OAAO,EAGXkH,EAASA,EAAOlJ,KAGpB,OAAO,GAGXqJ,EAAKtO,UAAUwF,IAAM,SAASE,EAAI+J,GAC9B,IAAIN,EAAS,IAAIb,EACbH,EAASlH,KAAKsH,KAMlB,SAJgBmB,IAAZD,IACAA,EAAUxI,MAGI,OAAXkH,GACHgB,EAAOa,WAAWtK,EAAGnH,KAAKkR,EAAStB,EAAOrF,KAAMqF,EAAQlH,OACxDkH,EAASA,EAAOlJ,KAGpB,OAAOkK,GAGXb,EAAKtO,UAAUiQ,OAAS,SAASvK,EAAI+J,GACjC,IAAIN,EAAS,IAAIb,EACbH,EAASlH,KAAKsH,KAMlB,SAJgBmB,IAAZD,IACAA,EAAUxI,MAGI,OAAXkH,GACCzI,EAAGnH,KAAKkR,EAAStB,EAAOrF,KAAMqF,EAAQlH,OACtCkI,EAAOa,WAAW7B,EAAOrF,MAE7BqF,EAASA,EAAOlJ,KAGpB,OAAOkK,GAGXb,EAAKtO,UAAUkQ,MAAQ,WACnBjJ,KAAKsH,KAAO,KACZtH,KAAKuH,KAAO,MAGhBF,EAAKtO,UAAUoJ,KAAO,WAIlB,IAHA,IAAI+F,EAAS,IAAIb,EACbH,EAASlH,KAAKsH,KAEA,OAAXJ,GACHgB,EAAOgB,OAAOlC,EAAWE,EAAOrF,OAChCqF,EAASA,EAAOlJ,KAGpB,OAAOkK,GAGXb,EAAKtO,UAAUoQ,QAAU,SAASnB,GAsB9B,OAlBAhI,KAAKwH,cAAc,KAAMQ,EAAMhI,KAAKsH,KAAMU,GAGxB,OAAdhI,KAAKsH,MAELtH,KAAKsH,KAAKjI,KAAO2I,EAGjBA,EAAKhK,KAAOgC,KAAKsH,MAIjBtH,KAAKuH,KAAOS,EAIhBhI,KAAKsH,KAAOU,EAELhI,MAGXqH,EAAKtO,UAAUqQ,YAAc,SAASvH,GAClC,OAAO7B,KAAKmJ,QAAQnC,EAAWnF,KAGnCwF,EAAKtO,UAAUsQ,OAAS,SAASrB,GAC7B,OAAOhI,KAAKkJ,OAAOlB,IAGvBX,EAAKtO,UAAUgQ,WAAa,SAASlH,GACjC,OAAO7B,KAAKkJ,OAAOlC,EAAWnF,KAGlCwF,EAAKtO,UAAUmQ,OAAS,SAASlB,EAAMsB,GACnC,GAAIA,QAMA,GAFAtJ,KAAKwH,cAAc8B,EAAOjK,KAAM2I,EAAMsB,EAAQtB,GAE1B,OAAhBsB,EAAOjK,KAAe,CAEtB,GAAIW,KAAKsH,OAASgC,EACd,MAAM,IAAIrD,MAAM,iCAKpBjG,KAAKsH,KAAOU,EACZsB,EAAOjK,KAAO2I,EACdA,EAAKhK,KAAOsL,EAEZtJ,KAAKwH,cAAc,KAAMQ,QAIzBsB,EAAOjK,KAAKrB,KAAOgK,EACnBA,EAAK3I,KAAOiK,EAAOjK,KAEnBiK,EAAOjK,KAAO2I,EACdA,EAAKhK,KAAOsL,OAMhBtJ,KAAKwH,cAAcxH,KAAKuH,KAAMS,EAAM,KAAMA,GAGxB,OAAdhI,KAAKuH,MAELvH,KAAKuH,KAAKvJ,KAAOgK,EAGjBA,EAAK3I,KAAOW,KAAKuH,MAIjBvH,KAAKsH,KAAOU,EAIhBhI,KAAKuH,KAAOS,EAGhB,OAAOhI,MAGXqH,EAAKtO,UAAUwQ,WAAa,SAAS1H,EAAMyH,GACvC,OAAOtJ,KAAKkJ,OAAOlC,EAAWnF,GAAOyH,IAGzCjC,EAAKtO,UAAUyQ,OAAS,SAASxB,GAM7B,GAFAhI,KAAKwH,cAAcQ,EAAMA,EAAK3I,KAAM2I,EAAMA,EAAKhK,MAE7B,OAAdgK,EAAK3I,KACL2I,EAAK3I,KAAKrB,KAAOgK,EAAKhK,SACnB,CACH,GAAIgC,KAAKsH,OAASU,EACd,MAAM,IAAI/B,MAAM,+BAGpBjG,KAAKsH,KAAOU,EAAKhK,KAGrB,GAAkB,OAAdgK,EAAKhK,KACLgK,EAAKhK,KAAKqB,KAAO2I,EAAK3I,SACnB,CACH,GAAIW,KAAKuH,OAASS,EACd,MAAM,IAAI/B,MAAM,+BAGpBjG,KAAKuH,KAAOS,EAAK3I,KAMrB,OAHA2I,EAAK3I,KAAO,KACZ2I,EAAKhK,KAAO,KAELgK,GAGXX,EAAKtO,UAAU6F,KAAO,SAASiD,GAC3B7B,KAAKkJ,OAAOlC,EAAWnF,KAG3BwF,EAAKtO,UAAU0Q,IAAM,WACjB,GAAkB,OAAdzJ,KAAKuH,KACL,OAAOvH,KAAKwJ,OAAOxJ,KAAKuH,OAIhCF,EAAKtO,UAAU2Q,QAAU,SAAS7H,GAC9B7B,KAAKmJ,QAAQnC,EAAWnF,KAG5BwF,EAAKtO,UAAU4Q,MAAQ,WACnB,GAAkB,OAAd3J,KAAKsH,KACL,OAAOtH,KAAKwJ,OAAOxJ,KAAKsH,OAIhCD,EAAKtO,UAAU6Q,YAAc,SAAS1K,GAClC,OAAOc,KAAK6J,WAAW3K,EAAMc,KAAKsH,OAGtCD,EAAKtO,UAAU+Q,WAAa,SAAS5K,GACjC,OAAOc,KAAK6J,WAAW3K,IAG3BmI,EAAKtO,UAAU8Q,WAAa,SAAS3K,EAAMoK,GAEvC,OAAkB,OAAdpK,EAAKoI,OAILgC,SACAtJ,KAAKwH,cAAc8B,EAAOjK,KAAMH,EAAKqI,KAAM+B,EAAQpK,EAAKoI,MAGpC,OAAhBgC,EAAOjK,MAEPiK,EAAOjK,KAAKrB,KAAOkB,EAAKoI,KACxBpI,EAAKoI,KAAKjI,KAAOiK,EAAOjK,MAExBW,KAAKsH,KAAOpI,EAAKoI,KAGrBgC,EAAOjK,KAAOH,EAAKqI,KACnBrI,EAAKqI,KAAKvJ,KAAOsL,IAEjBtJ,KAAKwH,cAAcxH,KAAKuH,KAAMrI,EAAKqI,KAAM,KAAMrI,EAAKoI,MAGlC,OAAdtH,KAAKuH,MAKLvH,KAAKuH,KAAKvJ,KAAOkB,EAAKoI,KAGtBpI,EAAKoI,KAAKjI,KAAOW,KAAKuH,MAItBvH,KAAKsH,KAAOpI,EAAKoI,KAIrBtH,KAAKuH,KAAOrI,EAAKqI,MAGrBrI,EAAKoI,KAAO,KACZpI,EAAKqI,KAAO,MAzCDvH,MA8CfqH,EAAKtO,UAAU6K,QAAU,SAASmG,EAASC,GACnC,SAAUA,EACVhK,KAAK6J,WAAWG,EAAeD,GAE/B/J,KAAKkJ,OAAOc,EAAeD,GAG/B/J,KAAKwJ,OAAOO,IAGhBnT,EAAOD,QAAU0Q,G,gBC/gBjB,IAAI4C,EAAc,EAAQ,IACtBC,EAAUD,EAAYC,QACtBC,EAAaF,EAAYE,WACzBC,EAAoBH,EAAYG,kBAChC3Q,EAASwQ,EAAYxQ,OACrB4Q,EAAeJ,EAAYI,aAC3B3Q,EAAgBuQ,EAAYvQ,cAEhC,SAASgB,EAAYF,EAAQG,GACzB,OAAOA,EAASH,EAAOe,OAASf,EAAOK,WAAWF,GAAU,EAGhE,SAASV,EAAiBO,EAAQG,EAAQa,GACtC,OAAa,KAATA,GAA4D,KAApCd,EAAYF,EAAQG,EAAS,GAC9C,EAGJ,EAGX,SAAS2P,EAAQC,EAAS5P,EAAQ6P,GAC9B,IAAIhP,EAAO+O,EAAQ1P,WAAWF,GAO9B,OAJIyP,EAAkB5O,KAClBA,GAAc,IAGXA,IAASgP,EAiDpB,SAASC,EAAqBjQ,EAAQG,GAClC,KAAOA,EAASH,EAAOe,QACd2O,EAAQ1P,EAAOK,WAAWF,IADJA,KAM/B,OAAOA,EAIX,SAASR,EAAeK,EAAQG,GAM5B,GAAIwP,EAAWzP,EAAYF,GAH3BG,GAAU,GAGkC,IAAK,CAG7C,IAAK,IAAI+P,EAAYC,KAAKC,IAAIpQ,EAAOe,OAAQZ,EAAS,GAAIA,EAAS+P,GAC1DP,EAAWzP,EAAYF,EAAQG,IADsCA,KAO9E,IAAIa,EAAOd,EAAYF,EAAQG,GAC3B0P,EAAa7O,KACbb,GAAUV,EAAiBO,EAAQG,EAAQa,IAInD,OAAOb,EAwHX/D,EAAOD,QAAU,CACbwD,eAAgBA,EAChBC,YAnHJ,SAAqBI,EAAQG,GAGzB,KAAOA,EAASH,EAAOe,OAAQZ,IAAU,CACrC,IAAIa,EAAOhB,EAAOK,WAAWF,GAG7B,IAAIlB,EAAO+B,GAAX,CAMA,IAAI9B,EAAc8B,EAAMd,EAAYF,EAAQG,EAAS,IAQrD,MANIA,EAASR,EAAeK,EAAQG,GAAU,GASlD,OAAOA,GA4FPN,cAxFJ,SAAuBG,EAAQG,GAC3B,IAAIa,EAAOhB,EAAOK,WAAWF,GA8B7B,GA1Ba,KAATa,GAA4B,KAATA,IACnBA,EAAOhB,EAAOK,WAAWF,GAAU,IAInCuP,EAAQ1O,KACRb,EAAS8P,EAAqBjQ,EAAQG,EAAS,GAC/Ca,EAAOhB,EAAOK,WAAWF,IAIhB,KAATa,GAAmB0O,EAAQ1P,EAAOK,WAAWF,EAAS,MAGtDa,EAAOhB,EAAOK,WAAWF,GAAU,GAOnCA,EAAS8P,EAAqBjQ,EAAQG,IAKtC2P,EAAQ9P,EAAQG,EAAQ,KAAc,CACtC,IAAIkQ,EAAO,EAIE,MAHbrP,EAAOhB,EAAOK,WAAWF,EAAS,KAGF,KAATa,IACnBqP,EAAO,EACPrP,EAAOhB,EAAOK,WAAWF,EAAS,IAIlCuP,EAAQ1O,KAQRb,EAAS8P,EAAqBjQ,EAAQG,EAAS,EAAIkQ,EAAO,IAIlE,OAAOlQ,GAmCPL,sBA7BJ,SAA+BE,EAAQG,GAEnC,KAAOA,EAASH,EAAOe,OAAQZ,IAAU,CACrC,IAAIa,EAAOhB,EAAOK,WAAWF,GAI7B,GAAa,KAATa,EAAiB,CAEjBb,IACA,MAGAjB,EAAc8B,EAAMd,EAAYF,EAAQG,EAAS,MAKjDA,EAASR,EAAeK,EAAQG,IAIxC,OAAOA,GASP2P,QAASA,EACTtQ,OA9MJ,SAAgBuQ,EAAShO,EAAOuO,EAAKC,GACjC,GAAID,EAAMvO,IAAUwO,EAAaxP,OAC7B,OAAO,EAGX,GAAIgB,EAAQ,GAAKuO,EAAMP,EAAQhP,OAC3B,OAAO,EAGX,IAAK,IAAIpE,EAAIoF,EAAOpF,EAAI2T,EAAK3T,IAAK,CAC9B,IAAI6T,EAAWT,EAAQ1P,WAAW1D,GAC9BqT,EAAgBO,EAAalQ,WAAW1D,EAAIoF,GAOhD,GAJI6N,EAAkBY,KAClBA,GAAsB,IAGtBA,IAAaR,EACb,OAAO,EAIf,OAAO,GAyLPvQ,iBAAkBA,EAClBgR,oBAvLJ,SAA6BzQ,EAAQG,GACjC,KAAOA,GAAU,GACR0P,EAAa7P,EAAOK,WAAWF,IADpBA,KAMpB,OAAOA,EAAS,GAiLhBT,kBA9KJ,SAA2BM,EAAQG,GAC/B,KAAOA,EAASH,EAAOe,QACd8O,EAAa7P,EAAOK,WAAWF,IADTA,KAM/B,OAAOA,K,gBC1EX,IAAItB,EAAY,EAAQ,GACpBC,EAAOD,EAAUC,KACjB4R,EAAO7R,EAAU6R,KAGjBlR,EADQ,EAAQ,GACDA,OAEf6D,EAAMvE,EAAKuE,IACXsN,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QAKf9D,EAAc,WACd6G,KAAK5D,cAAgB,KACrB4D,KAAK3D,QAAU,KAEf2D,KAAKjC,SAGT5E,EAAYJ,UAAY,CACpBgF,MAAO,WACHiC,KAAKqL,KAAM,EACXrL,KAAKE,YAAc,EACnBF,KAAKuB,UAAY,EACjBvB,KAAKK,WAAaL,KAAKlC,gBACvBkC,KAAKsL,SAAWtL,KAAKlC,iBAGzBqC,WAAY,SAASxF,GAGjB,OAFAA,GAAUqF,KAAKE,YAEFF,KAAK1D,WACP0D,KAAK5D,cAAczB,IAtBrB,GAyBFkD,GAEX0N,aAAc,SAAS5Q,GAGnB,OAFAA,GAAUqF,KAAKE,YAEFF,KAAK1D,WA/BR,SAgCC0D,KAAK5D,cAAczB,EAAS,GAGhCqF,KAAKxF,OAAOe,QAEvBiQ,YAAa,SAAS7Q,EAAQoQ,GAG1B,OAFApQ,GAAUqF,KAAKE,YAEFF,KAAK1D,YACPtC,EACHgG,KAAKxF,OA1CH,SA2CFwF,KAAK5D,cAAczB,EAAS,GA3C1B,SA4CFqF,KAAK5D,cAAczB,GACnBoQ,IAMZ3K,cAAe,SAASF,GACpB,OAAIA,IAAeF,KAAKE,WACbF,KAAKK,WAGZH,EAAa,EACNA,EAAaF,KAAK1D,WAzDnB,SA0DA0D,KAAK5D,cAAc8D,EAAa,GA1DhC,SA2DAF,KAAK5D,cAAc4D,KAAK1D,YAG3B0D,KAAKlC,iBAIhBgD,aAAc,SAASL,EAAYnI,GAC/B,IACIgI,EADA4G,EAASzG,EAET9F,EArEM,SAqEGqF,KAAK5D,cAAcuO,KAAKc,IAAIvE,EAAS,EAAG,IAGrDwE,EACA,KAAOxE,EAASlH,KAAK1D,eACjBgE,EAAaN,KAAK3D,QAAQ6K,IAGTzG,GAJYyG,IAW7B,OAAQ5O,EAHD0H,KAAK5D,cAAc8K,IAhFrB,GAmFclH,KAAKxF,OAAQG,IAC5B,KAAK,EACD,MAAM+Q,EAEV,KAAK,EACDxE,IACA,MAAMwE,EAEV,QACI/Q,EA7FF,SA6FWqF,KAAK5D,cAAc8K,GAGxBlH,KAAK3D,QAAQiE,KAAgB4G,IAC7BA,EAAS5G,GAKzB,OAAO4G,EAASlH,KAAKE,YAEzByL,cAAe,SAASC,GACpB,OAAO5L,KAAK3D,QAAQ2D,KAAKE,YAAc0L,GAE3CC,QAAS,SAASrQ,EAAMb,GACpB,OAAIA,EAEIqF,KAAKG,WAAWxF,KAAYrB,EAAKsD,OACjCoD,KAAKxF,OAAOK,WAAWmF,KAAKuL,aAAa5Q,MAAaa,EAK1DwE,KAAKuB,YAAcjI,EAAKsD,OACxBoD,KAAKxF,OAAOK,WAAWmF,KAAKK,cAAgB7E,GAIpDsQ,cAAe,WACX,OAAO9L,KAAKxF,OAAOyG,UAAUjB,KAAKK,WAAYL,KAAKsL,WAEvDS,eAAgB,WACZ,OAAO/L,KAAKsL,SAAWtL,KAAKK,YAEhC2L,eAAgB,SAASzP,GACrB,OAAOyD,KAAKxF,OAAOyG,UAAU1E,EAAOyD,KAAKK,aAG7C4L,OAAQ,WACJ,IAAK,IAAI9U,EAAI6I,KAAKE,WAAYgM,EAAiB,EAAG/U,EAAI6I,KAAK1D,YAClD0D,KAAK5D,cAAcjF,IApInB,KAoIyCgU,EADqBhU,IAAK+U,KAMxEA,EAAiB,GACjBlM,KAAKa,KAAKqL,IAGlBC,OAAQ,WACJ,KAAOnM,KAAKuB,YAAc4J,GAAcnL,KAAKuB,YAAc6J,GACvDpL,KAAKhC,QAGb6C,KAAM,SAASvE,GACX,IAAI0B,EAAOgC,KAAKE,WAAa5D,EAEzB0B,EAAOgC,KAAK1D,YACZ0D,KAAKE,WAAalC,EAClBgC,KAAKK,WAxJC,SAwJYL,KAAK5D,cAAc4B,EAAO,GAC5CA,EAAOgC,KAAK5D,cAAc4B,GAC1BgC,KAAKuB,UAAYvD,GAzJZ,GA0JLgC,KAAKsL,SA3JC,SA2JUtN,IAEhBgC,KAAKE,WAAaF,KAAK1D,WACvB0D,KAAKhC,SAGbA,KAAM,WACF,IAAIA,EAAOgC,KAAKE,WAAa,EAEzBlC,EAAOgC,KAAK1D,YACZ0D,KAAKE,WAAalC,EAClBgC,KAAKK,WAAaL,KAAKsL,SACvBtN,EAAOgC,KAAK5D,cAAc4B,GAC1BgC,KAAKuB,UAAYvD,GAvKZ,GAwKLgC,KAAKsL,SAzKC,SAyKUtN,IAEhBgC,KAAKE,WAAaF,KAAK1D,WACvB0D,KAAKqL,KAAM,EACXrL,KAAKuB,UAAY1D,EACjBmC,KAAKK,WAAaL,KAAKsL,SAAWtL,KAAKxF,OAAOe,SAItD6Q,KAAM,WACF,IAAIzR,EAASqF,KAAKlC,gBAElB,OAAOO,MAAMtF,UAAUsT,MAAM/U,KAAK0I,KAAK5D,cAAe,EAAG4D,KAAK1D,YAAYiC,KAAI,SAASyJ,EAAMsE,GACzF,IAAI/P,EAAQ5B,EACRmQ,EAvLE,SAuLI9C,EAIV,OAFArN,EAASmQ,EAEF,CACHwB,IAAKA,EACLvR,KAAMmQ,EAAKlD,GA5LV,IA6LD5G,MAAOpB,KAAKxF,OAAOyG,UAAU1E,EAAOuO,GACpCzO,QAAS2D,KAAK3D,QAAQiQ,MAE3BtM,QAIXpJ,EAAOD,QAAUwC,G,cC9MjB,IAAIG,EAAO,CACPuE,IAAK,EACL/B,MAAO,EACPT,SAAU,EACViC,UAAW,EACXX,KAAM,EACNV,OAAQ,EACRC,UAAW,EACXZ,IAAK,EACLK,OAAQ,EACRiB,MAAO,EACP1B,OAAQ,GACRD,WAAY,GACZD,UAAW,GACXU,WAAY,GACZ2B,IAAK,GACLL,IAAK,GACLG,MAAO,GACPC,UAAW,GACXL,MAAO,GACPQ,kBAAmB,GACnBC,mBAAoB,GACpBX,gBAAiB,GACjBC,iBAAkB,GAClBW,iBAAkB,GAClBC,kBAAmB,GACnBT,QAAS,IAGTiO,EAAOrT,OAAOoG,KAAK3E,GAAMiT,QAAO,SAASrE,EAAQxP,GAEjD,OADAwP,EAAO5O,EAAKZ,IAAQA,EACbwP,IACR,IAEHtR,EAAOD,QAAU,CACb2C,KAAMA,EACN4R,KAAMA,I,cCtCVtU,EAAOD,QAAU,CACb6V,cAAe,SAASrL,GACpB,OAAQA,IAASA,EAAKsL,UAAYtL,EAAKsL,SAASrE,WAEpDsE,mBAAoB,SAASvL,EAAMjC,GAC/B,OAAgB,OAATiC,GAAiBA,EAAKsL,WAAavN,K,cCLlD,IAAIyN,EAAgB,2CAChBC,EAAgB,yCAChBC,EAA8B,CAC9B7R,WAAW,EACX8R,UAAU,EACVC,YAAY,EACZ7R,QAAQ,EACR8R,KAAK,EACLC,cAAc,GAGlB,SAASC,EAAW9U,EAAO4P,GAEvB,IAAImF,EAASnF,GAAsB,OAAdA,EAAK3I,MAAiBwN,EAA4B7T,eAAegP,EAAK3I,KAAKwC,KAAK9G,MAC/F6R,EACAD,EAiBN,MAJc,MAFdvU,EAAQ6D,OAAO7D,GAAOwL,QAAQuJ,EAAQ,YAER,MAAV/U,IAChBA,EAAQ,KAGLA,EAGXxB,EAAOD,QAAU,SAASwK,EAAM6G,GAC5B7G,EAAK/I,MAAQ8U,EAAW/L,EAAK/I,MAAO4P,IAExCpR,EAAOD,QAAQyW,KAAOF,G,6QC1BTG,EAAiB,uBACjBC,EAA0C,CACrDC,uBAAwB,SAACC,EAAUC,GACjC,OAAAA,EAAwB,IAAMD,GAChCE,sBAAuB,SAACF,EAAUG,GAChC,OAAAH,EAAWG,EAAqBC,eAClCC,mBAAoB,SAACL,EAAUM,GAC7B,OAAAN,EAAWM,EAAkBC,eAC/BC,mBAAoB,SAACC,GAAiB,OACpCA,EACG7H,MAAM,KACN7H,KAAI,SAAC2P,GAAS,OAAAA,EAAKC,OAAO,MAC1BC,KAAK,IACLR,cACHK,EAAaL,iBAIXS,EAAkB,IAAI5K,OAAO4J,EAAgB,KAEtCnM,EAAW,SACtBoN,EACAC,QAAA,IAAAA,MAAA,IAEA,IAAMC,EAAgB,YAAO,CAC3BlB,EACAiB,IAEIE,EAAmD,GASzD,OARA,YAAI5W,OAAOoG,KAAKuQ,IAAgB,SAAC9V,GAC/B+V,EAAgB/V,GAAuC,YACrD8V,EAAc9V,OAMXgW,EACLC,EAAaL,EAASG,EAA2C,MAIxDC,EAAkB,SAACE,GAC9B,mBACEA,GACA,SAACC,GACC,MAA2B,iBAAhBA,EACFA,EAC+B,MAA7BA,EAAY,GAAGV,OAAO,GAE7BU,EAAY,GAAK,IAAMH,EAAgBG,EAAY,IAAa,IAIhE,IACAA,EAAY,GACZ,IACA,YACEA,EAAY,IACZ,SAACC,GACC,OAAAA,EAAY,GAAK,IAAMA,EAAY,MACrCV,KAAK,KACP,OAINA,KAAK,KAEHO,EAAe,SACnBL,EACAC,EACAQ,G,MAGMC,EAAe,YAAO,CAACD,IAC7B,GAAI,YAAST,EAAQW,WAAY,CAC/B,IAAM,EAAYX,EAAQW,UAC1B,YAAIpX,OAAOoG,KAAK,IAAY,SAACiR,GAC3B,IAAMC,EAAaC,EAAcF,GAC3BG,EAAMF,EAAW,GACjBG,EAAOH,EAAW,GACZ,IAARE,EACFL,EAAaM,GAAQ,EAAUJ,GACd,IAARG,IACTL,EAAaM,GAAQ,YAAO,CAC1BP,EAAmBO,GACnB,EAAUJ,SAOlB,IAAMK,OACiB9G,IAArB6F,EAAQ7B,SACJ,GACA+C,EAAqBlB,EAAQ7B,SAAU8B,EAASS,GAsDtD,OAnD8B,YAC5B,YACE,YACE,YAAsB,QAAnB,EAACV,EAAQmB,kBAAU,QAAI,IAAI,SAACC,GAC7B,OAAC,CAAC,GAAI,KAAK5Q,OAAO4Q,QAGtB,SAACC,GACC,OAAAA,EAAYpD,QACV,SAACqD,EAAqBC,GACpB,IAAMpC,EAAwBoC,EAAU,GAClCC,EAAuBD,EAAU,GAEvC,MAA6B,KAAzBC,EACKF,EACqC,MAAnCE,EAAqB3B,OAAO,GAC9B,CACL,CACE2B,EACA,YAAIF,GAAS,SAACG,GACZ,MAAgB,iBAATA,EACHA,EACA,CACExB,EAAQhB,uBACNwC,EAAK,GACLtC,GAEFsC,EAAK,SAMV,YAAIH,GAAS,SAACG,GACnB,MAAgB,iBAATA,EACHA,EACA,CACExB,EAAQhB,uBACNwC,EAAK,GACLtC,GACEqC,EACJC,EAAK,SAKjBR,QAQJC,EAAuB,SAC3BQ,EACAzB,EACAU,GAEA,mBACE,YAAIe,GAAiB,SAACC,GACpB,MAAqB,iBAAVA,EACF,CAACA,GACC,YAASA,GACXtB,EAAasB,EAAkB1B,EAASU,IAE/CgB,EAAQA,EACJ5R,MAAMC,QAAQ2R,EAAM,IACfC,EAAiBD,EAAsB1B,EAASU,GAEhDkB,EACLF,EACA1B,SAON2B,EAAmB,SACvBrB,EACAN,EACAU,GAEA,IAAMzB,EAAWqB,EAAY,GACvBuB,EAAevB,EAAY,GAC3BwB,EAA0C,GAUhD,OATA,YAAID,GAAc,SAACtB,G,QACXwB,EACoD,QADrC,GACjBxB,EAAY,GAAgB,IAAItL,MAAM6K,UAAgB,QAAI,GACxDkC,EACoD,QADxC,GACdzB,EAAY,GAAgB,IAAItL,MAAM6K,UAAgB,QAAI,GAC9D,YAAIiC,GAAiB,SAAC9M,GAAU,OAAA6M,EAAezR,KAAK,CAAC4E,EAAO,OAC5D,YAAI+M,GAAc,SAAC/M,GAAU,OAAA6M,EAAezR,KAAK,CAAC4E,EAAO,UAGpD,YACL,YACE,YAAI6M,GAAgB,SAACG,GACnB,IAAMC,EAAWD,EAAgB,GAC3BE,EAAWF,EAAgB,GAC3BG,EAAeF,EAASpE,MAAM,GAAI,GACxC,OAAO,YAAIxU,OAAOoG,KAAKgR,EAAU0B,KAAgB,SAACC,GAAiB,OACjEH,EACAG,EACA3B,EAAU0B,GAAcC,GACxBF,WAIN,SAACf,GACC,IAAIkB,EAAmB,EACnBC,EACFnB,EAAYkB,GAEd,MAAO,CACLlB,EAAYpD,QACV,SACEiB,EACAuD,GAEA,OAAgB,IAAZA,EAAK,GACAxC,EAAQb,sBAAsBF,EAAUuD,EAAK,IAE7CxC,EAAQV,mBAAmBL,EAAUuD,EAAK,MAGrDvD,GAEF,YAAI4C,GAAc,SAACtB,GACjB,mBAAIA,GAAa,SAACkC,GAChB,UACcvI,IAAZqI,IACyC,IAAzCE,EAAgB9T,QAAQ4T,EAAQ,KAEhCE,EAAkBA,EAAgBpN,QAAQkN,EAAQ,GAAIA,EAAQ,IAC9DA,EAAUnB,IAAckB,GAE1B,OAAOG,aAQbb,EAAuB,SAC3Bc,EACA1C,GAEA,IAAM2C,EAAgBD,EAAgB,GAChCE,EAAiBF,EAAgB,GAEjCG,EAAiC7C,EAAQP,mBAC7CkD,GAEIvD,EAAuByD,EAAa,GACpCnD,EAAemD,EAAa,GAElC,OAAO,YAAIvZ,OAAOoG,KAAKkT,IAAiB,SAACrD,GAA8B,OACrES,EAAQV,mBACNU,EAAQb,sBAAsB,GAAIC,GAClCG,GAEF,CAAC,CAACG,EAAckD,EAAerD,UAI7BsB,EAAgB,SAACF,GACrB,IAAMG,EAAM,KAAKnS,QAAQgS,EAAS,IAAM,EAExC,MAAO,CAACG,EADKA,EAAM,EAAIH,EAAS7C,MAAM,GAAK6C,ICxRhC,EAAQ,SAACmC,EAAaC,GACjC,IAAIC,EAAmC,UAC5B9I,IAAP6I,IAAkBC,EAAUC,SAASC,cAAc,SAASH,IAEhD,OAAZC,KACFA,EAAUC,SAASE,cAAc,UACzB3W,KAAO,gBACJ0N,IAAP6I,GAAkBC,EAAQI,aAAa,KAAML,GACjDE,SAASlK,KAAKsK,YAAYL,IAG5BA,EAAQM,UAAYR,I,6DCZd,yBAAAS,SAENrZ,EAAA,OAAAA,OACAX,EAAA,OAAAA,eACAia,EAAA,OAAAA,yBACAC,EAAA,OAAAA,oBACAC,EAAA,OAAAA,sBACAC,EAAA,OAAAA,eAEI,mBAAElZ,EAAA,EAAAA,eAAgBmZ,EAAA,EAAAA,qBAUXC,EACyC,mBAA1BH,EADfG,EAEiB,mBAAZC,QA0CLC,EAAgB,SAACzZ,EAAa0Z,GACzC,IAAK1Z,EAAO2Z,YACV,OAAO/Z,EAAO,MAGR,QAAA+Z,YACFzZ,EAAYF,EAAO4Z,WAAaP,EAAerZ,GAErD,GAAI6Z,IAAgBH,EAAM1a,OACxB,OAAOkB,IAAcwZ,EAAM1a,OAAOkB,UAAY,GAAKN,EAAOM,GAG5D,IAAK4Z,EAAiBrb,KAAKob,GAAaxV,QAAQ,iBAC9C,IACE,OAAO,IAAIwV,EACX,UAGJ,OAAOja,EAAOM,IAeH6Z,EAA6C,SACxD/Z,EACA0Z,EACAM,EACAlT,GAEA,IAAMmT,EAAaR,EAAczZ,EAAQ0Z,GAIzC,IAAK,IAAM7Z,KAFXiH,EAAMoT,IAAIla,EAAQia,GAEAja,EACZG,EAAe1B,KAAKuB,EAAQH,KAC9Boa,EAAMpa,GAAOma,EAAWha,EAAOH,GAAMiH,IAIzC,GAAIyS,EAA4B,CAC9B,IAAMY,EAAoBf,EAAsBpZ,GAExC,IAAA0C,OAER,GAAI,EACF,IAAK,IAAI4D,EAAQ,EAAG8T,OAAM,EAAE9T,EAAQ,EAAQA,IAC1C8T,EAASD,EAAQ7T,GAEbgT,EAAqB7a,KAAKuB,EAAQoa,KACpCH,EAAMG,GAAUJ,EAAWha,EAAOoa,GAAStT,IAMnD,OAAOmT,GAeII,EAA8C,SACzDra,EACA0Z,EACAM,EACAlT,GAEA,IAAMmT,EAAaR,EAAczZ,EAAQ0Z,GAEzC5S,EAAMoT,IAAIla,EAAQia,GAElB,IAAMK,EAAkCf,EACpCJ,EAAoBnZ,GAAQiG,OAAQmT,EAAsBpZ,IAC1DmZ,EAAoBnZ,GAEhB0C,EAAA,EAAAA,OAER,GAAIA,EACF,IAAK,IAAI4D,EAAQ,EAAGrG,OAAQ,EAAEsa,OAAU,EAAEjU,EAAQ5D,EAAQ4D,IAGvC,YAFjBrG,EAAWqa,EAAWhU,KAEoB,WAAbrG,KAC3Bsa,EAAarB,EAAyBlZ,EAAQC,IAEnCV,MAAQya,EAAWha,EAAOC,GAAW6G,GAEhD7H,EAAegb,EAAOha,EAAUsa,IAKtC,OAAON,GC1KDxU,EAAA,MAAAA,QAEF+U,EACgB,oBAATC,KACFA,KAGa,oBAAXvc,OACFA,YAGa,IAAXwc,EACFA,OAGLC,SAAWA,QAAQC,OACrBD,QAAQC,MAAM,sDAuBlB,SAAStR,EAAQtJ,EAAW0V,GAE1B,IAAMmF,KAAuBnF,IAAWA,EAAQmF,UAC1CnB,EAAyBhE,GAAWA,EAAQgE,OAAUc,EAEtDM,EAAwCD,EAC1CR,EACAN,EAWEC,EAA8B,SAACha,EAAa8G,GAChD,IAAK9G,GAA4B,iBAAXA,EACpB,OAAOA,EACP,GAAI8G,EAAMiU,IAAI/a,GACd,OAAO8G,EAAM3H,IAAIa,GAGX,IAOJia,ED+GuBe,EACzBC,ECvHM,IAAAtB,YAGR,GAAIE,IAAgBH,EAAM1a,OACxB,OAAO8b,EAAe9a,EAAQ0Z,EAAOM,EAAYlT,GAKnD,GAAIrB,EAAQzF,GAAS,CAEnB,GAAI6a,EACF,OAAOR,EAAqBra,EAAQ0Z,EAAOM,EAAYlT,GAGjD,QAAApE,OAERuX,EAAQ,IAAIJ,EACZ/S,EAAMoT,IAAIla,EAAQia,GAElB,IAAK,IAAI3T,EAAgB,EAAGA,EAAQ,EAAQA,IAC1C2T,EAAM3T,GAAS0T,EAAWha,EAAOsG,GAAQQ,GAG3C,OAAOmT,EAIT,GAAIja,aAAkB0Z,EAAMwB,KAC1B,OAAO,IAAIrB,EAAY7Z,EAAOmb,WAIhC,GAAInb,aAAkB0Z,EAAM9O,OAK1B,OAJAqP,EAAQ,IAAIJ,EAAY7Z,EAAO2B,OAAQ3B,EAAOib,QDqF9CA,EAAQ,IADiBD,ECpF6Chb,GDuF/D0a,SACTO,GAAS,KAGPD,EAAOI,aACTH,GAAS,KAGPD,EAAOK,YACTJ,GAAS,KAGPD,EAAOM,UACTL,GAAS,KAGPD,EAAOO,SACTN,GAAS,KAGJA,KCzGGO,UAAYxb,EAAOwb,UAElBvB,EAIT,GAAIP,EAAM+B,KAAOzb,aAAkB0Z,EAAM+B,IAQvC,OAPAxB,EAAQ,IAAIJ,EACZ/S,EAAMoT,IAAIla,EAAQia,GAElBja,EAAOqF,SAAQ,SAAC9F,EAAYM,GAC1Boa,EAAMC,IAAIra,EAAKma,EAAWza,EAAOuH,OAG5BmT,EAIT,GAAIP,EAAMgC,KAAO1b,aAAkB0Z,EAAMgC,IAQvC,OAPAzB,EAAQ,IAAIJ,EACZ/S,EAAMoT,IAAIla,EAAQia,GAElBja,EAAOqF,SAAQ,SAAC9F,GACd0a,EAAM0B,IAAI3B,EAAWza,EAAOuH,OAGvBmT,EAIT,GAAIP,EAAMkC,QAAUlC,EAAMkC,OAAOC,SAAS7b,GAQxC,OAPAia,EAAQP,EAAMkC,OAAOE,YACjBpC,EAAMkC,OAAOE,YAAY9b,EAAO0C,QAChC,IAAImX,EAAY7Z,EAAO0C,QAE3BoE,EAAMoT,IAAIla,EAAQia,GAClBja,EAAOsJ,KAAK2Q,GAELA,EAIT,GAAIP,EAAMqC,YAAa,CAErB,GAAIrC,EAAMqC,YAAYC,OAAOhc,GAG3B,OAFAia,EAAQ,IAAIJ,EAAY7Z,EAAOic,OAAOzI,MAAM,IAC5C1M,EAAMoT,IAAIla,EAAQia,GACXA,EAIT,GAAIja,aAAkB0Z,EAAMqC,YAG1B,OAFA9B,EAAQja,EAAOwT,MAAM,GACrB1M,EAAMoT,IAAIla,EAAQia,GACXA,EAKX,MAEyB,mBAAhBja,EAAOkc,MAEdlc,aAAkBoN,OAEjBsM,EAAMF,SAAWxZ,aAAkB0Z,EAAMF,SAEzCE,EAAMyC,SAAWnc,aAAkB0Z,EAAMyC,QAEnCnc,EAIF8a,EAAe9a,EAAQ0Z,EAAOM,EAAYlT,IAGnD,OAAOkT,EAAWha,EDnJO,WACzB,GAAIuZ,EACF,OAAO,IAAIC,QAIb,IAAMxZ,EAASJ,EAAO,CACpBmb,IAAK,SAAClb,GAAa,SAAGG,EAAOoc,MAAM/X,QAAQxE,IAC3Cqa,IAAK,SAACra,EAAUN,GACdS,EAAOoc,MAAMrW,KAAKlG,GAClBG,EAAOqc,QAAQtW,KAAKxG,IAEtBJ,IAAK,SAACU,GAAa,OAAAG,EAAOqc,QAAQrc,EAAOoc,MAAM/X,QAAQxE,OAMzD,OAHAG,EAAOoc,MAAQ,GACfpc,EAAOqc,QAAU,GAEVrc,ECiImBsc,I,OAc5BhT,EAAKiT,OAAS,SAAoBvc,EAAa0V,GAC7C,OAAOpM,EAAKtJ,EAAQ,CAClB6a,UAAU,EACVnB,MAAOhE,EAAUA,EAAQgE,WAAQ,K,kEClMrC,IAAI8C,EAAM,EAAQ,IACdnS,EAAQ,EAAQ,IAChBoS,EAAO,EAAQ,GACfC,EAAe,EAAQ,IACvBC,EAAW,EAAQ,IAmBvB,SAASC,EAAQC,EAASjf,EAAMkf,GAE9B,IAAIC,EAAS5V,KAAK6V,MAAMF,GACxB,GAAqB,iBAAVC,EAAoB,CAC7B,IAAI5V,KAAK6V,MAAMD,GACV,OAAOH,EAAQne,KAAK0I,KAAM0V,EAASjf,EAAMmf,GADtBA,EAAS5V,KAAK6V,MAAMD,GAK9C,IADAA,EAASA,GAAU5V,KAAK8V,SAASH,cACXJ,EACpB,OAAOQ,EAAUH,EAAOlR,OAAQ1E,KAAKgW,MAAMC,YACjCL,EAAOlR,OACPkR,EAAOM,UAAYlW,KAAKmW,SAASP,GAG7C,IACIlR,EAAQ0R,EAAGC,EADXC,EAAMC,EAAcjf,KAAK0I,KAAMvJ,EAAMkf,GAgBzC,OAdIW,IACF5R,EAAS4R,EAAI5R,OACbjO,EAAO6f,EAAI7f,KACX4f,EAASC,EAAID,QAGX3R,aAAkB6Q,EACpBa,EAAI1R,EAAOwR,UAAYR,EAAQpe,KAAK0I,KAAM0E,EAAOA,OAAQjO,OAAMgS,EAAW4N,QACtD5N,IAAX/D,IACT0R,EAAIL,EAAUrR,EAAQ1E,KAAKgW,MAAMC,YAC3BvR,EACAgR,EAAQpe,KAAK0I,KAAM0E,EAAQjO,OAAMgS,EAAW4N,IAG7CD,EAWT,SAASG,EAAc9f,EAAMkf,GAE3B,IAAI1c,EAAIoc,EAAI7U,MAAMmV,GACda,EAAUC,EAAaxd,GACvBod,EAASK,EAAY1W,KAAK2W,OAAOlgB,EAAKiO,SAC1C,GAAwC,IAApC7M,OAAOoG,KAAKxH,EAAKiO,QAAQnJ,QAAgBib,IAAYH,EAAQ,CAC/D,IAAI/E,EAAKsF,EAAYJ,GACjBZ,EAAS5V,KAAK6V,MAAMvE,GACxB,GAAqB,iBAAVsE,EACT,OAAOiB,EAAiBvf,KAAK0I,KAAMvJ,EAAMmf,EAAQ3c,GAC5C,GAAI2c,aAAkBL,EACtBK,EAAOM,UAAUlW,KAAKmW,SAASP,GACpCnf,EAAOmf,MACF,CAEL,MADAA,EAAS5V,KAAK8V,SAASxE,cACDiE,GAMpB,OAJA,GADKK,EAAOM,UAAUlW,KAAKmW,SAASP,GAChCtE,GAAMsF,EAAYjB,GACpB,MAAO,CAAEjR,OAAQkR,EAAQnf,KAAMA,EAAM4f,OAAQA,GAC/C5f,EAAOmf,EAKX,IAAKnf,EAAKiO,OAAQ,OAClB2R,EAASK,EAAY1W,KAAK2W,OAAOlgB,EAAKiO,SAExC,OAAOoS,EAAexf,KAAK0I,KAAM/G,EAAGod,EAAQ5f,EAAKiO,OAAQjO,GAK3D,SAASogB,EAAiBpgB,EAAMkf,EAAKoB,GAEnC,IAAIT,EAAMC,EAAcjf,KAAK0I,KAAMvJ,EAAMkf,GACzC,GAAIW,EAAK,CACP,IAAI5R,EAAS4R,EAAI5R,OACb2R,EAASC,EAAID,OACjB5f,EAAO6f,EAAI7f,KACX,IAAI6a,EAAKtR,KAAK2W,OAAOjS,GAErB,OADI4M,IAAI+E,EAASW,EAAWX,EAAQ/E,IAC7BwF,EAAexf,KAAK0I,KAAM+W,EAAWV,EAAQ3R,EAAQjO,IApGhEG,EAAOD,QAAU8e,EAEjBA,EAAQmB,YAAcA,EACtBnB,EAAQwB,SAAWP,EACnBjB,EAAQyB,IAAMF,EACdvB,EAAQ0B,IA0NR,SAAoBzS,GAClB,IAAI0S,EAAWR,EAAY5W,KAAK2W,OAAOjS,IACnC2S,EAAU,CAAC,GAAID,GACfE,EAAY,CAAC,GAAIZ,EAAYU,GAAU,IACvCG,EAAY,GACZjE,EAAOtT,KAgCX,OA9BAwV,EAAS9Q,EAAQ,CAAC8S,SAAS,IAAO,SAASC,EAAKC,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,GAC/G,GAAgB,KAAZL,EAAJ,CACA,IAAIpG,EAAKgC,EAAKqD,OAAOc,GACjBpB,EAASgB,EAAQO,GACjBX,EAAWK,EAAUM,GAAiB,IAAMC,EAIhD,QAHiBpP,IAAbsP,IACFd,GAAY,KAA0B,iBAAZc,EAAuBA,EAAWzC,EAAK7O,eAAesR,KAEjE,iBAANzG,EAAgB,CACzBA,EAAK+E,EAASO,EAAYP,EAAShB,EAAII,QAAQY,EAAQ/E,GAAMA,GAE7D,IAAIsE,EAAStC,EAAKuC,MAAMvE,GAExB,GADqB,iBAAVsE,IAAoBA,EAAStC,EAAKuC,MAAMD,IAC/CA,GAAUA,EAAOlR,QACnB,IAAKxB,EAAMuU,EAAK7B,EAAOlR,QACrB,MAAM,IAAIuB,MAAM,OAASqL,EAAK,2CAC3B,GAAIA,GAAMsF,EAAYK,GAC3B,GAAa,KAAT3F,EAAG,GAAW,CAChB,GAAIiG,EAAUjG,KAAQpO,EAAMuU,EAAKF,EAAUjG,IACzC,MAAM,IAAIrL,MAAM,OAASqL,EAAK,sCAChCiG,EAAUjG,GAAMmG,OAEhBnE,EAAKuC,MAAMvE,GAAM2F,EAIvBI,EAAQK,GAAWrB,EACnBiB,EAAUI,GAAWT,MAGhBM,GA9PT9B,EAAQM,UAAYA,EACpBN,EAAQ/Q,OAAS6R,EAkGjB,IAAIyB,EAAuB1C,EAAK9S,OAAO,CAAC,aAAc,oBAAqB,OAAQ,eAAgB,gBAEnG,SAASsU,EAAeC,EAAWV,EAAQ3R,EAAQjO,GAGjD,GADAsgB,EAAUkB,SAAWlB,EAAUkB,UAAY,GACN,KAAjClB,EAAUkB,SAAS5L,MAAM,EAAE,GAA/B,CAGA,IAFA,IAAI6L,EAAQnB,EAAUkB,SAAS7R,MAAM,KAE5BjP,EAAI,EAAGA,EAAI+gB,EAAM3c,OAAQpE,IAAK,CACrC,IAAI4Z,EAAOmH,EAAM/gB,GACjB,GAAI4Z,EAAM,CAGR,QAAetI,KADf/D,EAASA,EADTqM,EAAOuE,EAAK/O,iBAAiBwK,KAEH,MAC1B,IAAIO,EACJ,IAAK0G,EAAqBjH,MACxBO,EAAKtR,KAAK2W,OAAOjS,MACT2R,EAASW,EAAWX,EAAQ/E,IAChC5M,EAAOyT,MAAM,CACf,IAAIA,EAAOnB,EAAWX,EAAQ3R,EAAOyT,MACjC7B,EAAMC,EAAcjf,KAAK0I,KAAMvJ,EAAM0hB,GACrC7B,IACF5R,EAAS4R,EAAI5R,OACbjO,EAAO6f,EAAI7f,KACX4f,EAASC,EAAID,UAMvB,YAAe5N,IAAX/D,GAAwBA,IAAWjO,EAAKiO,OACnC,CAAEA,OAAQA,EAAQjO,KAAMA,EAAM4f,OAAQA,QAD/C,GAKF,IAAI+B,EAAiB9C,EAAK9S,OAAO,CAC/B,OAAQ,SAAU,UAClB,YAAa,YACb,gBAAiB,gBACjB,WAAY,WACZ,UAAW,UACX,cAAe,aACf,WAAY,SAEd,SAASuT,EAAUrR,EAAQ2T,GACzB,OAAc,IAAVA,SACU5P,IAAV4P,IAAiC,IAAVA,EAK7B,SAASC,EAAW5T,GAClB,IAAIsD,EACJ,GAAI3J,MAAMC,QAAQoG,IAChB,IAAK,IAAIvN,EAAE,EAAGA,EAAEuN,EAAOnJ,OAAQpE,IAE7B,GAAmB,iBADnB6Q,EAAOtD,EAAOvN,MACkBmhB,EAAWtQ,GAAO,OAAO,OAG3D,IAAK,IAAItP,KAAOgM,EAAQ,CACtB,GAAW,QAAPhM,EAAe,OAAO,EAE1B,GAAmB,iBADnBsP,EAAOtD,EAAOhM,MACkB4f,EAAWtQ,GAAO,OAAO,EAG7D,OAAO,EAnB2CsQ,CAAW5T,GACpD2T,EAsBX,SAASE,EAAU7T,GACjB,IAAesD,EAAXwQ,EAAQ,EACZ,GAAIna,MAAMC,QAAQoG,IAChB,IAAK,IAAIvN,EAAE,EAAGA,EAAEuN,EAAOnJ,OAAQpE,IAG7B,GADmB,iBADnB6Q,EAAOtD,EAAOvN,MACeqhB,GAASD,EAAUvQ,IAC5CwQ,GAASC,IAAU,OAAOA,SAGhC,IAAK,IAAI/f,KAAOgM,EAAQ,CACtB,GAAW,QAAPhM,EAAe,OAAO+f,IAC1B,GAAIL,EAAe1f,GACjB8f,SAIA,GADmB,iBADnBxQ,EAAOtD,EAAOhM,MACe8f,GAASD,EAAUvQ,GAAQ,GACpDwQ,GAASC,IAAU,OAAOA,IAIpC,OAAOD,EA1CgBD,CAAU7T,IAAW2T,OAAvC,GA8CP,SAAS3B,EAAYpF,EAAIoH,GAGvB,OAFkB,IAAdA,IAAqBpH,EAAKsF,EAAYtF,IAEnCmF,EADCpB,EAAI7U,MAAM8Q,IAKpB,SAASmF,EAAaxd,GACpB,OAAOoc,EAAIsD,UAAU1f,GAAGmN,MAAM,KAAK,GAAK,IAI1C,IAAIwS,EAAsB,QAC1B,SAAShC,EAAYtF,GACnB,OAAOA,EAAKA,EAAG1N,QAAQgV,EAAqB,IAAM,GAIpD,SAAS5B,EAAWX,EAAQ/E,GAE1B,OADAA,EAAKsF,EAAYtF,GACV+D,EAAII,QAAQY,EAAQ/E,K,6BC5N7B1a,EAAOD,QAAU,SAASuM,EAAM4D,EAAGC,GACjC,GAAID,IAAMC,EAAG,OAAO,EAEpB,GAAID,GAAKC,GAAiB,iBAALD,GAA6B,iBAALC,EAAe,CAC1D,GAAID,EAAE0L,cAAgBzL,EAAEyL,YAAa,OAAO,EAE5C,IAAIjX,EAAQpE,EAAG8G,EACf,GAAII,MAAMC,QAAQwI,GAAI,CAEpB,IADAvL,EAASuL,EAAEvL,SACGwL,EAAExL,OAAQ,OAAO,EAC/B,IAAKpE,EAAIoE,EAAgB,GAARpE,KACf,IAAK+L,EAAM4D,EAAE3P,GAAI4P,EAAE5P,IAAK,OAAO,EACjC,OAAO,EAKT,GAAI2P,EAAE0L,cAAgB/O,OAAQ,OAAOqD,EAAEtM,SAAWuM,EAAEvM,QAAUsM,EAAEgN,QAAU/M,EAAE+M,MAC5E,GAAIhN,EAAE+R,UAAYhhB,OAAOkB,UAAU8f,QAAS,OAAO/R,EAAE+R,YAAc9R,EAAE8R,UACrE,GAAI/R,EAAEgL,WAAaja,OAAOkB,UAAU+Y,SAAU,OAAOhL,EAAEgL,aAAe/K,EAAE+K,WAIxE,IADAvW,GADA0C,EAAOpG,OAAOoG,KAAK6I,IACLvL,UACC1D,OAAOoG,KAAK8I,GAAGxL,OAAQ,OAAO,EAE7C,IAAKpE,EAAIoE,EAAgB,GAARpE,KACf,IAAKU,OAAOkB,UAAUC,eAAe1B,KAAKyP,EAAG9I,EAAK9G,IAAK,OAAO,EAEhE,IAAKA,EAAIoE,EAAgB,GAARpE,KAAY,CAC3B,IAAIuB,EAAMuF,EAAK9G,GAEf,IAAK+L,EAAM4D,EAAEpO,GAAMqO,EAAErO,IAAO,OAAO,EAGrC,OAAO,EAIT,OAAOoO,GAAIA,GAAKC,GAAIA,I,6BC1CtB,IAAI0O,EAAU,EAAQ,IAoBtB,SAASqD,EAAgBzC,EAAQV,EAAKoD,GACpC/Y,KAAK+Y,QAAUA,GAAWD,EAAgBC,QAAQ1C,EAAQV,GAC1D3V,KAAKgZ,WAAavD,EAAQyB,IAAIb,EAAQV,GACtC3V,KAAKiZ,cAAgBxD,EAAQmB,YAAYnB,EAAQwB,SAASjX,KAAKgZ,aAIjE,SAASE,EAAcC,GAGrB,OAFAA,EAASpgB,UAAYlB,OAAOY,OAAOwN,MAAMlN,WACzCogB,EAASpgB,UAAUyZ,YAAc2G,EAC1BA,EA5BTviB,EAAOD,QAAU,CACfyiB,WAAYF,GAKd,SAAyBG,GACvBrZ,KAAK+Y,QAAU,oBACf/Y,KAAKqZ,OAASA,EACdrZ,KAAKsZ,IAAMtZ,KAAKuZ,YAAa,KAP7BC,WAAYN,EAAcJ,IAW5BA,EAAgBC,QAAU,SAAU1C,EAAQV,GAC1C,MAAO,2BAA8BA,EAAM,YAAcU,I,cClB3Dzf,EAAOD,QAAU,SAA2Be,EAAMqhB,GAG9C,IAAItF,EAAQ5b,OAAOY,OAAOghB,YAAY1gB,WAClC2gB,EAAa,IAAIzT,MAWrB,OATAwN,EAAM/b,KAAOA,EACb+b,EAAMsF,QAAUA,EAEhBlhB,OAAOC,eAAe2b,EAAO,QAAS,CAClCzb,IAAK,WACD,OAAQ0hB,EAAWC,OAAS,IAAI/V,QAAQ,eAAgBlM,EAAO,KAAOqhB,EAAU,SAIjFtF,I,cCfX,SAASmG,EAAKxhB,GACV,OAAOA,EA0DX,SAAS8I,EAASC,EAAM0Y,EAAUC,EAAaC,GAC3C,IAAI7R,EAxDoB8R,EA0DxB,OAAQ7Y,EAAKpG,MACT,IAAK,QACDmN,EAlBZ,SAA0B/G,EAAM0Y,EAAUC,EAAaC,GACnD,IAAIE,EAAiC,MAApB9Y,EAAK8Y,YAAsBF,EAAU5Y,EAAK8Y,WAAa,IAAM9Y,EAAK8Y,WAAa,IAC5F/R,EAAS/G,EAAK+Y,MAAM3b,KAAI,SAAS4b,GACjC,OAAOjZ,EAASiZ,EAAMN,EAAUC,EAAaC,MAC9C3L,KAAK6L,GAMR,OAJI9Y,EAAKiZ,UAAYN,KACjB5R,GAAU6R,GAAyB,MAAd7R,EAAO,GAAa,IAAM,MAAQA,GAAU6R,EAAU,IAAM,OAG9E7R,EASKmS,CAAiBlZ,EAAM0Y,EAAUC,EAAaC,IAC7C5Y,EAAKmZ,cAAgB,IAAM,IAChC,MAEJ,IAAK,aAED,OACIpZ,EAASC,EAAKgZ,KAAMN,EAAUC,EAAaC,GAC3CF,EApEW,KADCG,EAqEgB7Y,GApEzByJ,KAAgC,IAAnBoP,EAAWvO,IAC5B,IAGY,IAAnBuO,EAAWpP,KAAgC,IAAnBoP,EAAWvO,IAC5B,IAGY,IAAnBuO,EAAWpP,KAAgC,IAAnBoP,EAAWvO,IAC5BuO,EAAWO,MAAQ,IAAM,IAGb,IAAnBP,EAAWpP,KAAgC,IAAnBoP,EAAWvO,IAC5B,IAINuO,EAAWO,MAAQ,IAAM,KACzBP,EAAWpP,MAAQoP,EAAWvO,IACzB,IAAMuO,EAAWpP,IAAM,IACvB,IAAMoP,EAAWpP,IAAM,KAA0B,IAAnBoP,EAAWvO,IAAYuO,EAAWvO,IAAM,IAAM,KAgDvCtK,GAG3C,IAAK,OACD+G,EAAS,IAAM/G,EAAKzJ,MAAQyJ,EAAKqZ,KAAOX,EA/CpD,SAA0B1Y,GACtB,OAAQA,EAAKpG,MACT,IAAK,QACD,MACI,MACc,OAAboG,EAAKyJ,IAAe,KAAOzJ,EAAKyJ,KACjC,KACc,OAAbzJ,EAAKsK,IAAe,IAAMtK,EAAKsK,KAChC,IAGR,QACI,MAAM,IAAIxF,MAAM,sBAAwB9E,EAAKpG,KAAO,MAmCH0f,CAAiBtZ,EAAKqZ,MAAOrZ,EAAKqZ,MAAQ,IAAM,IACjG,MAEJ,IAAK,WACDtS,EAAS,KAAQ/G,EAAKzJ,KAAO,KAC7B,MAEJ,IAAK,UACDwQ,EAAS/G,EAAKzJ,KACd,MAEJ,IAAK,YACDwQ,EAAS,IAAM/G,EAAKzJ,KACpB,MAEJ,IAAK,WACDwQ,EAAS/G,EAAKzJ,KAAO,IACrB,MAEJ,IAAK,SACL,IAAK,QACDwQ,EAAS/G,EAAK/I,MACd,MAEJ,IAAK,QACD8P,EAAS,IACT,MAEJ,QACI,MAAM,IAAIjC,MAAM,sBAAwB9E,EAAKpG,KAAO,KAG5D,OAAO8e,EAAS3R,EAAQ/G,GAG5BvK,EAAOD,QAAU,SAASwK,EAAMoN,GAC5B,IAAIsL,EAAWD,EACXE,GAAc,EACdC,GAAU,EAYd,MAVuB,mBAAZxL,EACPsL,EAAWtL,EACJA,IACPuL,EAAcY,QAAQnM,EAAQuL,aAC9BC,EAAUW,QAAQnM,EAAQwL,SACM,mBAArBxL,EAAQsL,WACfA,EAAWtL,EAAQsL,WAIpB3Y,EAASC,EAAM0Y,EAAUC,EAAaC,K,cC/HjD,IAAI/gB,EAAiBnB,OAAOkB,UAAUC,eAClC2hB,EAAW9iB,OAAOY,OAAO,MACzB0a,EAAatb,OAAOY,OAAO,MAG/B,SAASmiB,EAAiBvX,EAAK1I,GAG3B,OAFAA,EAASA,GAAU,EAEZ0I,EAAI9H,OAASZ,GAAU,GALhB,KAMP0I,EAAIxI,WAAWF,IANR,KAOP0I,EAAIxI,WAAWF,EAAS,GAGnC,SAASkgB,EAAgBxX,EAAK1I,GAI1B,GAHAA,EAASA,GAAU,EAGf0I,EAAI9H,OAASZ,GAAU,GAdb,KAgBN0I,EAAIxI,WAAWF,IAhBT,KAiBN0I,EAAIxI,WAAWF,EAAS,GAAoB,CAE5C,IAAImgB,EAAkBzX,EAAInG,QAAQ,IAAKvC,EAAS,GAEhD,IAAyB,IAArBmgB,EACA,OAAOzX,EAAIpC,UAAUtG,EAAQmgB,EAAkB,GAK3D,MAAO,GAoEXlkB,EAAOD,QAAU,CACbokB,QAlEJ,SAA8BA,GAC1B,GAAI/hB,EAAe1B,KAAKqjB,EAAUI,GAC9B,OAAOJ,EAASI,GAGpB,IAAIrjB,EAAOqjB,EAAQnN,cAEnB,GAAI5U,EAAe1B,KAAKqjB,EAAUjjB,GAC9B,OAAOijB,EAASI,GAAWJ,EAASjjB,GAGxC,IAAIsjB,EAASJ,EAAiBljB,EAAM,GAChCujB,EAAUD,EAAoC,GAA3BH,EAAgBnjB,EAAM,GAE7C,OAAOijB,EAASI,GAAWljB,OAAOqjB,OAAO,CACrCC,SAAUzjB,EAAK0jB,OAAOH,EAAO1f,QAC7B7D,KAAMA,EACNujB,OAAQA,EACRI,OAAQJ,EACRD,OAAQA,KAgDZliB,SA5CJ,SAA+BA,GAC3B,GAAIE,EAAe1B,KAAK6b,EAAYra,GAChC,OAAOqa,EAAWra,GAGtB,IAAIpB,EAAOoB,EACPwiB,EAAOxiB,EAAS,GAEP,MAATwiB,EACAA,EAAuB,MAAhBxiB,EAAS,GAAa,KAAO,IACpB,MAATwiB,GACS,MAATA,GACS,MAATA,GACS,MAATA,GACS,MAATA,GACS,MAATA,IACPA,EAAO,IAGX,IAAIN,EAASJ,EAAiBljB,EAAM4jB,EAAK/f,QAGzC,IAAKyf,IACDtjB,EAAOA,EAAKkW,cACR5U,EAAe1B,KAAK6b,EAAYzb,IAChC,OAAOyb,EAAWra,GAAYqa,EAAWzb,GAIjD,IAAIujB,EAAUD,EAA8C,GAArCH,EAAgBnjB,EAAM4jB,EAAK/f,QAC9C8f,EAAS3jB,EAAK0jB,OAAO,EAAGE,EAAK/f,OAAS0f,EAAO1f,QAEjD,OAAO4X,EAAWra,GAAYjB,OAAOqjB,OAAO,CACxCC,SAAUzjB,EAAK0jB,OAAOC,EAAO9f,QAC7B7D,KAAMA,EAAK0jB,OAAOE,EAAK/f,QACvB+f,KAAMA,EACNL,OAAQA,EACRI,OAAQA,EACRL,OAAQA,KAOZJ,iBAAkBA,EAClBW,aAAcV,I,gBCtGlB,IAAIW,EAAY,EAAQ,IA0BpBC,EAUJ,SAAuBhd,GAEnB,IADA,IAAIgE,EAA+B,mBAAhBiZ,YAA6B,IAAIA,YAAY,KAAO,IAAIrd,MAAM,KACxElH,EAAI,EAAGA,EAAI,IAAKA,IACrBsL,EAAMtL,GAAKsH,EAAGxC,OAAO0f,aAAaxkB,IAAM,EAAI,EAEhD,OAAOsL,EAfKmZ,EAAc,SAASC,GACnC,MAAO,gBAAgB7V,KAAK6V,MAE5BC,EAAwB,CACxB,IAAK,EACL,KAAM,EACN,KAAM,EACN,IAAK,GAWT,SAASC,EAAWC,GAChB,OAAOA,EAAUC,eACbD,EAAUE,UAAUF,EAAUpQ,MAItC,SAASuQ,EAASH,GAGd,IAFA,IAAIlR,EAAMkR,EAAUpQ,IAEbd,EAAMkR,EAAU3Y,IAAI9H,OAAQuP,IAAO,CACtC,IAAItP,EAAOwgB,EAAU3Y,IAAIxI,WAAWiQ,GACpC,GAAItP,GAAQ,KAA2B,IAApBigB,EAAUjgB,GACzB,MAQR,OAJIwgB,EAAUpQ,MAAQd,GAClBkR,EAAUvI,MAAM,oBAGbuI,EAAUC,eAAenR,GAGpC,SAASsR,EAAWJ,GAGhB,IAFA,IAAIlR,EAAMkR,EAAUpQ,IAEbd,EAAMkR,EAAU3Y,IAAI9H,OAAQuP,IAAO,CACtC,IAAItP,EAAOwgB,EAAU3Y,IAAIxI,WAAWiQ,GACpC,GAAItP,EAAO,IAAMA,EAAO,GACpB,MAQR,OAJIwgB,EAAUpQ,MAAQd,GAClBkR,EAAUvI,MAAM,mBAGbuI,EAAUC,eAAenR,GAGpC,SAASuR,EAAWL,GAChB,IAAIlR,EAAMkR,EAAU3Y,IAAInG,QAAQ,IAAM8e,EAAUpQ,IAAM,GAOtD,OALa,IAATd,IACAkR,EAAUpQ,IAAMoQ,EAAU3Y,IAAI9H,OAC9BygB,EAAUvI,MAAM,yBAGbuI,EAAUC,eAAenR,EAAM,GAG1C,SAASwR,EAAoBN,GACzB,IAAIpR,EACAa,EAAM,KAiBV,OAfAuQ,EAAUO,IA7ES,KA+EnB3R,EAAMwR,EAAWJ,GAvFT,KAyFJA,EAAUQ,YACVR,EAAUpQ,MAhFM,MAiFZoQ,EAAUQ,aACV/Q,EAAM2Q,EAAWJ,KAGrBvQ,EAAMb,EAGVoR,EAAUO,IAxFU,KA0Fb,CACH3R,IAAK1P,OAAO0P,GACZa,IAAKA,EAAMvQ,OAAOuQ,GAAO,GAwEjC,SAASgR,EAAgBT,EAAW7a,GAChC,IAAI6Y,EArER,SAAwBgC,GACpB,IAAIU,EAAQ,KACRnC,GAAQ,EAEZ,OAAQyB,EAAUQ,YACd,KAjHO,GAkHHR,EAAUpQ,MAEV8Q,EAAQ,CACJ9R,IAAK,EACLa,IAAK,GAGT,MAEJ,KA1HO,GA2HHuQ,EAAUpQ,MAEV8Q,EAAQ,CACJ9R,IAAK,EACLa,IAAK,GAGT,MAEJ,KA/HW,GAgIPuQ,EAAUpQ,MAEV8Q,EAAQ,CACJ9R,IAAK,EACLa,IAAK,GAGT,MAEJ,KApJS,GAqJLuQ,EAAUpQ,MAEV2O,GAAQ,EAGJmC,EA3IO,MA0IPV,EAAUQ,WACFF,EAAoBN,GAEpB,CACJpR,IAAK,EACLa,IAAK,GAIb,MAEJ,KArJe,IAsJXiR,EAAQJ,EAAoBN,GAC5B,MAEJ,QACI,OAAO,KAGf,MAAO,CACHjhB,KAAM,aACNwf,MAAOA,EACP3P,IAAK8R,EAAM9R,IACXa,IAAKiR,EAAMjR,IACX0O,KAAM,MAKOwC,CAAeX,GAEhC,OAAmB,OAAfhC,GACAA,EAAWG,KAAOhZ,EACX6Y,GAGJ7Y,EAGX,SAASyb,EAAWZ,GAChB,IAAIH,EAAKG,EAAUa,OAEnB,MAAW,KAAPhB,EACO,KAGJ,CACH9gB,KAAM,QACN3C,MAAOyjB,GA+Ef,SAASiB,EAASd,GACd,IAAItkB,EACA8iB,EAAO,KAkBX,OAhBAwB,EAAUO,IAnRK,IAoRf7kB,EAAOykB,EAASH,GA1RE,KA4RdA,EAAUQ,YA3RK,KA4RfR,EAAUe,iBACVf,EAAUpQ,KAAO,EACjBlU,GAAQ,MArRQ,KAwRhBskB,EAAUnhB,WAAWmhB,EAAUE,UAAUF,EAAUpQ,QACnDmQ,EAAWC,GACXxB,EAlER,SAAuBwB,GAEnB,IAAIpR,EAAM,KACNa,EAAM,KACNZ,EAAO,EAoCX,OAlCAmR,EAAUO,IA9NU,IALP,KAqOTP,EAAUQ,aACVR,EAAUa,OACVhS,GAAQ,IAGC,GAATA,GAhOO,OAgOOmR,EAAUQ,WACxBR,EAAUa,OAEVjS,EAAMC,EAAO3P,OAAOkhB,EAAWJ,IAGnCD,EAAWC,GACXA,EAAUO,IAlPF,IAmPRR,EAAWC,GAxOA,OA0OPA,EAAUQ,WACVR,EAAUa,QAEVhS,EAAO,EAvPE,KAyPLmR,EAAUQ,aACVR,EAAUa,OACVhS,GAAQ,GAGZY,EAAMZ,EAAO3P,OAAOkhB,EAAWJ,KAGnCA,EAAUO,IA3PW,IA+PT,OAAR3R,GAAwB,OAARa,EACT,KAGJ,CACH1Q,KAAM,QACN6P,IAAKA,EACLa,IAAKA,GAmBEuR,CAAchB,IAGzBA,EAAUO,IAhSQ,IAkSXE,EAAgBT,EAAW,CAC9BjhB,KAAM,OACNrD,KAAMA,EACN8iB,KAAMA,IAwBd,SAASyC,EAAa/C,EAAOgD,GACzB,SAASC,EAAYjD,EAAOD,GACxB,MAAO,CACHlf,KAAM,QACNmf,MAAOA,EACPD,WAAYA,EACZK,eAAe,EACfF,UAAU,GAQlB,IAJA8C,EAAcrlB,OAAOoG,KAAKif,GAAaE,MAAK,SAAStW,EAAGC,GACpD,OAAO+U,EAAsBhV,GAAKgV,EAAsB/U,MAGrDmW,EAAY3hB,OAAS,GAAG,CAE3B,IADA,IAAI0e,EAAaiD,EAAYvT,QACpBxS,EAAI,EAAGkmB,EAAgB,EAAGlmB,EAAI+iB,EAAM3e,OAAQpE,IAAK,CACtD,IAAIgjB,EAAOD,EAAM/iB,GACC,eAAdgjB,EAAKpf,OACDof,EAAK/hB,QAAU6hB,IACQ,IAAnBoD,IACAA,EAAgBlmB,EAAI,GAExB+iB,EAAMoD,OAAOnmB,EAAG,GAChBA,OAEuB,IAAnBkmB,GAAwBlmB,EAAIkmB,EAAgB,IAC5CnD,EAAMoD,OACFD,EACAlmB,EAAIkmB,EACJF,EAAYjD,EAAM7N,MAAMgR,EAAelmB,GAAI8iB,IAE/C9iB,EAAIkmB,EAAgB,GAExBA,GAAiB,KAKN,IAAnBA,GAAwBH,EAAY3hB,QACpC2e,EAAMoD,OACFD,EACAlmB,EAAIkmB,EACJF,EAAYjD,EAAM7N,MAAMgR,EAAelmB,GAAI8iB,IAKvD,OAAOA,EAGX,SAASsD,EAAkBvB,GAOvB,IANA,IAEIwB,EAFAtD,EAAQ,GACRgD,EAAc,GAEdO,EAAY,KACZC,EAAe1B,EAAUpQ,IAEtB4R,EAAQX,EAAKb,IACG,WAAfwB,EAAMziB,OACa,eAAfyiB,EAAMziB,MAEY,OAAd0iB,GAAyC,eAAnBA,EAAU1iB,OAChCihB,EAAUpQ,IAAM8R,EAChB1B,EAAUvI,MAAM,0BAGpByJ,EAAYM,EAAMplB,QAAS,GACN,OAAdqlB,GAAyC,eAAnBA,EAAU1iB,OACvCmiB,EAAY,MAAO,EACnBhD,EAAMtb,KAAK,CACP7D,KAAM,aACN3C,MAAO,OAIf8hB,EAAMtb,KAAK4e,GACXC,EAAYD,EACZE,EAAe1B,EAAUpQ,KAUjC,OALkB,OAAd6R,GAAyC,eAAnBA,EAAU1iB,OAChCihB,EAAUpQ,KAAO8R,EACjB1B,EAAUvI,MAAM,0BAGb,CACH1Y,KAAM,QACNmf,MAAOA,EACPD,WAAYgD,EAAa/C,EAAOgD,IAAgB,IAChD5C,eAAe,EACfF,UAAU,GAqBlB,SAASyC,EAAKb,GACV,IAAIxgB,EAAOwgB,EAAUQ,WAErB,GAAIhhB,EAAO,KAA2B,IAApBigB,EAAUjgB,GACxB,OA3IR,SAA+BwgB,GAC3B,IAAItkB,EAIJ,OAFAA,EAAOykB,EAASH,GAnTE,KAqTdA,EAAUQ,YACVR,EAAUpQ,MAEH,CACH7Q,KAAM,WACNrD,KAAMA,IAIP+kB,EAAgBT,EAAW,CAC9BjhB,KAAM,UACNrD,KAAMA,IA2HCimB,CAAsB3B,GAGjC,OAAQxgB,GACJ,KApbiB,GAsbb,MAEJ,KAzbgB,GA0bZ,OAAOihB,EAAgBT,EA9BnC,SAAmBA,GACf,IAAI9T,EAaJ,OAXA8T,EAAUO,IA/ZU,IAgapBrU,EAASqV,EAAkBvB,GAC3BA,EAAUO,IAhaW,IAkarBrU,EAAOkS,UAAW,EAjbA,KAmbd4B,EAAUQ,aACVR,EAAUpQ,MACV1D,EAAOoS,eAAgB,GAGpBpS,EAgBmC0V,CAAU5B,IAEhD,KAhcW,GAicP,OAxcK,KAwcEA,EAAUe,eA7P7B,SAAsBf,GAClB,IAAItkB,EAUJ,OARAskB,EAAUO,IAvMK,IAwMfP,EAAUO,IA/MG,IAiNb7kB,EAAOykB,EAASH,GAEhBA,EAAUO,IAnNG,IAoNbP,EAAUO,IA5MQ,IA8MXE,EAAgBT,EAAW,CAC9BjhB,KAAM,WACNrD,KAAMA,IAiPImmB,CAAa7B,GACbc,EAASd,GAEnB,KA9bW,IA+bP,MAAO,CACHjhB,KAAM,aACN3C,MAAO4jB,EAAUC,eAjcd,MAkcCD,EAAUe,eACJf,EAAUpQ,IAAM,EAChBoQ,EAAUpQ,IAAM,IAIlC,KAvdQ,GA2dJ,OAHAoQ,EAAUpQ,MACVoQ,EAAUO,IAzdN,IA2dG,CACHxhB,KAAM,aACN3C,MAAO,MAGf,KA1dI,GA4dA,OADA4jB,EAAUpQ,MACH,CACH7Q,KAAM,SAGd,KAreS,GAseL,OAAO0hB,EAAgBT,EAAW,CAC9BjhB,KAAM,SACN3C,MAAOikB,EAAWL,KAG1B,KA/eI,GAgfJ,KApfE,EAqfF,KApfA,GAqfA,KAnfA,GAofA,KArfA,GAsfI,MAAO,CACHjhB,KAAM,SACN3C,MAAO2jB,EAAWC,IAG1B,KA3eW,GA8eP,OAFAxgB,EAAOwgB,EAAUe,gBAEN,KAA2B,IAApBtB,EAAUjgB,IACxBwgB,EAAUpQ,MACH,CACH7Q,KAAM,YACNrD,KAAMykB,EAASH,KAIhBY,EAAWZ,GAEtB,KA/fO,GAggBP,KA/fO,GAggBP,KA3fW,GA4fX,KAvgBS,GAwgBT,KAzgBc,GA2gBV,MAEJ,KA7fe,IAkgBX,IAFAxgB,EAAOwgB,EAAUe,gBAEN,IAAMvhB,EAAO,GACpB,OAAOohB,EAAWZ,GAGtB,MAEJ,QACI,OAAOY,EAAWZ,IAI9B,SAASxb,EAAMhG,GACX,IAAIwhB,EAAY,IAAIR,EAAUhhB,GAC1B0N,EAASqV,EAAkBvB,GAW/B,OATIA,EAAUpQ,MAAQpR,EAAOe,QACzBygB,EAAUvI,MAAM,oBAIQ,IAAxBvL,EAAOgS,MAAM3e,QAAyC,UAAzB2M,EAAOgS,MAAM,GAAGnf,OAC7CmN,EAASA,EAAOgS,MAAM,IAGnBhS,EAKX1H,EAAM,mDAEN5J,EAAOD,QAAU6J,G,cC7hBjB7J,EAAQmnB,OATR,SAAgBC,EAAOC,EAAOC,GAC5B,GAAID,KAASD,EACX,OAAOA,EAAMC,GACR,GAAyB,IAArBE,UAAU3iB,OACnB,OAAO0iB,EAEP,MAAM,IAAIhY,MAAM,IAAM+X,EAAQ,8BAKlC,IAAIG,EAAY,iEACZC,EAAgB,gBAEpB,SAASC,EAASC,GAChB,IAAI9a,EAAQ8a,EAAK9a,MAAM2a,GACvB,OAAK3a,EAGE,CACL+a,OAAQ/a,EAAM,GACdgb,KAAMhb,EAAM,GACZib,KAAMjb,EAAM,GACZkb,KAAMlb,EAAM,GACZ+B,KAAM/B,EAAM,IAPL,KAYX,SAASmb,EAAYC,GACnB,IAAI1H,EAAM,GAiBV,OAhBI0H,EAAWL,SACbrH,GAAO0H,EAAWL,OAAS,KAE7BrH,GAAO,KACH0H,EAAWJ,OACbtH,GAAO0H,EAAWJ,KAAO,KAEvBI,EAAWH,OACbvH,GAAO0H,EAAWH,MAEhBG,EAAWF,OACbxH,GAAO,IAAM0H,EAAWF,MAEtBE,EAAWrZ,OACb2R,GAAO0H,EAAWrZ,MAEb2R,EAeT,SAASwB,EAAUmG,GACjB,IAAItZ,EAAOsZ,EACP3H,EAAMmH,EAASQ,GACnB,GAAI3H,EAAK,CACP,IAAKA,EAAI3R,KACP,OAAOsZ,EAETtZ,EAAO2R,EAAI3R,KAKb,IAHA,IAGSwL,EAHL+N,EAAanoB,EAAQmoB,WAAWvZ,GAEhC2S,EAAQ3S,EAAKa,MAAM,OACRP,EAAK,EAAG1O,EAAI+gB,EAAM3c,OAAS,EAAGpE,GAAK,EAAGA,IAEtC,OADb4Z,EAAOmH,EAAM/gB,IAEX+gB,EAAMoF,OAAOnmB,EAAG,GACE,OAAT4Z,EACTlL,IACSA,EAAK,IACD,KAATkL,GAIFmH,EAAMoF,OAAOnmB,EAAI,EAAG0O,GACpBA,EAAK,IAELqS,EAAMoF,OAAOnmB,EAAG,GAChB0O,MAUN,MAJa,MAFbN,EAAO2S,EAAM9J,KAAK,QAGhB7I,EAAOuZ,EAAa,IAAM,KAGxB5H,GACFA,EAAI3R,KAAOA,EACJoZ,EAAYzH,IAEd3R,EAoBT,SAAS6I,EAAK2Q,EAAOF,GACL,KAAVE,IACFA,EAAQ,KAEI,KAAVF,IACFA,EAAQ,KAEV,IAAIG,EAAWX,EAASQ,GACpBI,EAAWZ,EAASU,GAMxB,GALIE,IACFF,EAAQE,EAAS1Z,MAAQ,KAIvByZ,IAAaA,EAAST,OAIxB,OAHIU,IACFD,EAAST,OAASU,EAASV,QAEtBI,EAAYK,GAGrB,GAAIA,GAAYH,EAAMrb,MAAM4a,GAC1B,OAAOS,EAIT,GAAII,IAAaA,EAASR,OAASQ,EAAS1Z,KAE1C,OADA0Z,EAASR,KAAOI,EACTF,EAAYM,GAGrB,IAAIC,EAA6B,MAApBL,EAAM1Q,OAAO,GACtB0Q,EACAnG,EAAUqG,EAAMnb,QAAQ,OAAQ,IAAM,IAAMib,GAEhD,OAAII,GACFA,EAAS1Z,KAAO2Z,EACTP,EAAYM,IAEdC,EAvITvoB,EAAQ0nB,SAAWA,EAsBnB1nB,EAAQgoB,YAAcA,EAwDtBhoB,EAAQ+hB,UAAYA,EA2DpB/hB,EAAQyX,KAAOA,EAEfzX,EAAQmoB,WAAa,SAAUD,GAC7B,MAA2B,MAApBA,EAAM1Q,OAAO,IAAcgQ,EAAUnY,KAAK6Y,IAyCnDloB,EAAQwoB,SAhCR,SAAkBJ,EAAOF,GACT,KAAVE,IACFA,EAAQ,KAGVA,EAAQA,EAAMnb,QAAQ,MAAO,IAO7B,IADA,IAAIwb,EAAQ,EAC0B,IAA/BP,EAAM3hB,QAAQ6hB,EAAQ,MAAY,CACvC,IAAI5f,EAAQ4f,EAAMM,YAAY,KAC9B,GAAIlgB,EAAQ,EACV,OAAO0f,EAOT,IADAE,EAAQA,EAAM1S,MAAM,EAAGlN,IACbqE,MAAM,qBACd,OAAOqb,IAGPO,EAIJ,OAAO/gB,MAAM+gB,EAAQ,GAAGhR,KAAK,OAASyQ,EAAMzD,OAAO2D,EAAMxjB,OAAS,IAIpE,IAAI+jB,IAEO,cADCznB,OAAOY,OAAO,OAI1B,SAAS8mB,EAAUrmB,GACjB,OAAOA,EA8BT,SAASsmB,EAActmB,GACrB,IAAKA,EACH,OAAO,EAGT,IAAIqC,EAASrC,EAAEqC,OAEf,GAAIA,EAAS,EACX,OAAO,EAGT,GAAiC,KAA7BrC,EAAE2B,WAAWU,EAAS,IACO,KAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,KAA7BrC,EAAE2B,WAAWU,EAAS,IACO,KAA7BrC,EAAE2B,WAAWU,EAAS,GACxB,OAAO,EAGT,IAAK,IAAIpE,EAAIoE,EAAS,GAAIpE,GAAK,EAAGA,IAChC,GAAwB,KAApB+B,EAAE2B,WAAW1D,GACf,OAAO,EAIX,OAAO,EAgFT,SAASsoB,EAAOC,EAAOC,GACrB,OAAID,IAAUC,EACL,EAGK,OAAVD,EACK,EAGK,OAAVC,GACM,EAGND,EAAQC,EACH,GAGD,EAzIVhpB,EAAQipB,YAAcN,EAAoBC,EAP1C,SAAqBM,GACnB,OAAIL,EAAcK,GACT,IAAMA,EAGRA,GAWTlpB,EAAQmpB,cAAgBR,EAAoBC,EAP5C,SAAuBM,GACrB,OAAIL,EAAcK,GACTA,EAAKxT,MAAM,GAGbwT,GAwETlpB,EAAQopB,2BA5BR,SAAoCC,EAAUC,EAAUC,GACtD,IAAIC,EAAMV,EAAOO,EAASxlB,OAAQylB,EAASzlB,QAC3C,OAAY,IAAR2lB,GAKQ,KADZA,EAAMH,EAASI,aAAeH,EAASG,eAM3B,KADZD,EAAMH,EAASK,eAAiBJ,EAASI,iBACxBH,GAKL,KADZC,EAAMH,EAASM,gBAAkBL,EAASK,kBAM9B,KADZH,EAAMH,EAASO,cAAgBN,EAASM,eAlB/BJ,EAuBFV,EAAOO,EAAStoB,KAAMuoB,EAASvoB,OAyCxCf,EAAQ6pB,oCA5BR,SAA6CR,EAAUC,EAAUQ,GAC/D,IAAIN,EAAMH,EAASO,cAAgBN,EAASM,cAC5C,OAAY,IAARJ,GAKQ,KADZA,EAAMH,EAASM,gBAAkBL,EAASK,kBACzBG,GAKL,KADZN,EAAMV,EAAOO,EAASxlB,OAAQylB,EAASzlB,UAM3B,KADZ2lB,EAAMH,EAASI,aAAeH,EAASG,eAM3B,KADZD,EAAMH,EAASK,eAAiBJ,EAASI,gBAlBhCF,EAuBFV,EAAOO,EAAStoB,KAAMuoB,EAASvoB,OAwDxCf,EAAQ+pB,oCA5BR,SAA6CV,EAAUC,GACrD,IAAIE,EAAMH,EAASO,cAAgBN,EAASM,cAC5C,OAAY,IAARJ,GAKQ,KADZA,EAAMH,EAASM,gBAAkBL,EAASK,kBAM9B,KADZH,EAAMV,EAAOO,EAASxlB,OAAQylB,EAASzlB,UAM3B,KADZ2lB,EAAMH,EAASI,aAAeH,EAASG,eAM3B,KADZD,EAAMH,EAASK,eAAiBJ,EAASI,gBAlBhCF,EAuBFV,EAAOO,EAAStoB,KAAMuoB,EAASvoB,OAYxCf,EAAQgqB,oBAHR,SAA6Btd,GAC3B,OAAOud,KAAKpgB,MAAM6C,EAAIO,QAAQ,iBAAkB,MAuDlDjN,EAAQkqB,iBA/CR,SAA0BC,EAAYC,EAAWC,GA8B/C,GA7BAD,EAAYA,GAAa,GAErBD,IAEwC,MAAtCA,EAAWA,EAAWvlB,OAAS,IAA+B,MAAjBwlB,EAAU,KACzDD,GAAc,KAOhBC,EAAYD,EAAaC,GAiBvBC,EAAc,CAChB,IAAIC,EAAS5C,EAAS2C,GACtB,IAAKC,EACH,MAAM,IAAIhb,MAAM,oCAElB,GAAIgb,EAAO1b,KAAM,CAEf,IAAIpG,EAAQ8hB,EAAO1b,KAAK8Z,YAAY,KAChClgB,GAAS,IACX8hB,EAAO1b,KAAO0b,EAAO1b,KAAKtE,UAAU,EAAG9B,EAAQ,IAGnD4hB,EAAY3S,EAAKuQ,EAAYsC,GAASF,GAGxC,OAAOrI,EAAUqI,K,gBCrenBnqB,EAAOD,QAAU,CACbuqB,QAAS,EAAQ,KACjBC,OAAQ,EAAQ,KAChBC,cAAe,EAAQ,KACvBC,kBAAmB,EAAQ,KAC3BC,MAAO,EAAQ,KACfC,SAAU,EAAQ,KAClBvkB,IAAK,EAAQ,KACbK,IAAK,EAAQ,KACbmkB,cAAe,EAAQ,KACvBC,WAAY,EAAQ,KACpBxkB,QAAS,EAAQ,KACjBykB,YAAa,EAAQ,KACrBC,gBAAiB,EAAQ,KACzB3mB,UAAW,EAAQ,KACnBK,SAAU,EAAQ,KAClByR,SAAU,EAAQ,KAClBC,WAAY,EAAQ,KACpB6U,WAAY,EAAQ,KACpBC,aAAc,EAAQ,KACtBC,WAAY,EAAQ,KACpBC,eAAgB,EAAQ,KACxBC,IAAK,EAAQ,KACb9mB,OAAQ,EAAQ,KAChB+mB,SAAU,EAAQ,KAClBC,YAAa,EAAQ,KACrBjnB,WAAY,EAAQ,KACpBknB,oBAAqB,EAAQ,KAC7BC,sBAAuB,EAAQ,KAC/BC,MAAO,EAAQ,KACfrV,IAAK,EAAQ,GACbsV,KAAM,EAAQ,KACdC,SAAU,EAAQ,KAClBC,aAAc,EAAQ,KACtBvmB,OAAQ,EAAQ,KAChBwmB,WAAY,EAAQ,KACpBC,aAAc,EAAQ,KACtBzV,aAAc,EAAQ,KACtB3R,IAAK,EAAQ,KACbqnB,MAAO,EAAQ,KACfjnB,WAAY,EAAQ,O,gBCxCxB,IAAIknB,EAAQ,EAAQ,GAAYA,MAC5B1V,EAAa,EAAQ,IAAYE,KAGjCyV,EAAc,CACd,UAAa,SACb,aAAgB,SAChB,KAAQ,MACR,WAAc,SACd,MAAS,SACT,MAAS,SACT,OAAU,SACV,MAAS,MACT,eAAkB,SAClB,KAAQ,MACR,WAAc,SACd,MAAS,SACT,UAAa,SACb,UAAa,SACb,WAAc,SACd,UAAa,SACb,MAAS,SACT,eAAkB,SAClB,SAAY,SACZ,QAAW,SACX,KAAQ,MACR,SAAY,SACZ,SAAY,SACZ,cAAiB,SACjB,SAAY,SACZ,SAAY,SACZ,UAAa,SACb,UAAa,SACb,YAAe,SACf,eAAkB,SAClB,WAAc,SACd,WAAc,SACd,QAAW,SACX,WAAc,SACd,aAAgB,SAChB,cAAiB,SACjB,cAAiB,SACjB,cAAiB,SACjB,cAAiB,SACjB,WAAc,SACd,SAAY,SACZ,YAAe,SACf,QAAW,SACX,QAAW,SACX,WAAc,SACd,UAAa,SACb,YAAe,SACf,YAAe,SACf,QAAW,MACX,UAAa,SACb,WAAc,SACd,KAAQ,SACR,UAAa,SACb,KAAQ,SACR,KAAQ,SACR,MAAS,SACT,YAAe,SACf,SAAY,SACZ,QAAW,SACX,UAAa,SACb,OAAU,SACV,MAAS,SACT,MAAS,SACT,SAAY,SACZ,cAAiB,SACjB,UAAa,SACb,aAAgB,SAChB,UAAa,SACb,WAAc,SACd,UAAa,SACb,qBAAwB,SACxB,UAAa,SACb,UAAa,SACb,WAAc,SACd,UAAa,SACb,YAAe,SACf,cAAiB,SACjB,aAAgB,SAChB,eAAkB,MAClB,eAAkB,MAClB,eAAkB,SAClB,YAAe,SACf,KAAQ,MACR,UAAa,SACb,MAAS,SACT,QAAW,MACX,OAAU,SACV,iBAAoB,SACpB,WAAc,SACd,aAAgB,SAChB,aAAgB,SAChB,eAAkB,SAClB,gBAAmB,SACnB,kBAAqB,SACrB,gBAAmB,SACnB,gBAAmB,SACnB,aAAgB,SAChB,UAAa,SACb,UAAa,SACb,SAAY,SACZ,YAAe,SACf,KAAQ,SACR,QAAW,SACX,MAAS,SACT,UAAa,SACb,OAAU,SACV,UAAa,SACb,OAAU,SACV,cAAiB,SACjB,UAAa,SACb,cAAiB,SACjB,cAAiB,SACjB,WAAc,SACd,UAAa,SACb,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,WAAc,SACd,OAAU,SACV,cAAiB,MACjB,IAAO,MACP,UAAa,SACb,UAAa,SACb,YAAe,SACf,OAAU,SACV,WAAc,SACd,SAAY,SACZ,SAAY,SACZ,OAAU,SACV,OAAU,SACV,QAAW,SACX,UAAa,SACb,UAAa,SACb,UAAa,SACb,KAAQ,SACR,YAAe,SACf,UAAa,SACb,IAAO,SACP,KAAQ,SACR,QAAW,SACX,OAAU,SACV,UAAa,SACb,OAAU,SACV,MAAS,SACT,MAAS,MACT,WAAc,SACd,OAAU,MACV,YAAe,UAGfC,EAAc,CACd,IAAU,SACV,OAAU,SACV,MAAU,QACV,OAAU,OACV,SAAU,OACV,OAAU,QACV,OAAU,QACV,OAAU,SACV,SAAU,QACV,SAAU,OACV,OAAU,QACV,OAAU,QACV,OAAU,OACV,SAAU,QACV,SAAU,SACV,OAAU,QACV,OAAU,QACV,SAAU,OACV,OAAU,QACV,SAAU,OACV,OAAU,SACV,OAAU,SACV,OAAU,OACV,OAAU,OACV,OAAU,OACV,IAAO,MACP,OAAU,MACV,OAAU,SACV,OAAU,SACV,OAAU,SACV,OAAU,OACV,OAAU,MACV,SAAU,OACV,OAAU,SACV,OAAU,SACV,OAAU,QACV,OAAU,QACV,OAAU,UAGd,SAASC,EAAS9pB,EAAG+pB,EAAG3qB,GAOpB,OANIA,EAAI,IACJA,GAAK,GAELA,EAAI,IACJA,GAAK,GAELA,EAAI,EAAI,EACDY,EAAc,GAAT+pB,EAAI/pB,GAASZ,EAEzBA,EAAI,GACG2qB,EAEP3qB,EAAI,EAAI,EACDY,GAAK+pB,EAAI/pB,IAAM,EAAI,EAAIZ,GAAK,EAEhCY,EAGX,SAASgqB,EAASC,EAAGhqB,EAAG9B,EAAG0P,GACvB,IAAI7O,EACAkrB,EACApc,EAEJ,GAAU,IAAN7N,EACAjB,EAAIkrB,EAAIpc,EAAI3P,MACT,CACH,IAAI4rB,EAAI5rB,EAAI,GAAMA,GAAK,EAAI8B,GAAK9B,EAAI8B,EAAI9B,EAAI8B,EACxCD,EAAI,EAAI7B,EAAI4rB,EAEhB/qB,EAAI8qB,EAAS9pB,EAAG+pB,EAAGE,EAAI,EAAI,GAC3BC,EAAIJ,EAAS9pB,EAAG+pB,EAAGE,GACnBnc,EAAIgc,EAAS9pB,EAAG+pB,EAAGE,EAAI,EAAI,GAG/B,MAAO,CACHvY,KAAKyY,MAAU,IAAJnrB,GACX0S,KAAKyY,MAAU,IAAJD,GACXxY,KAAKyY,MAAU,IAAJrc,GACXD,GAIR,SAASuc,EAAMjrB,GAEX,OAAwB,KADxBA,EAAQA,EAAM0Z,SAAS,KACVvW,OAAe,IAAMnD,EAAQA,EAG9C,SAASkrB,EAAkBC,EAAc/K,EAAOgL,GAK5C,IAJA,IAAItc,EAASqc,EAAajc,KACtBmc,EAAO,GACPC,GAAW,EAEG,OAAXxc,GAAiB,CACpB,IAAI/F,EAAO+F,EAAOrF,KACd9G,EAAOoG,EAAKpG,KAEhB,OAAQA,GACJ,IAAK,SACL,IAAK,aACD,GAAI2oB,EACA,OAGJA,GAAW,EACXD,EAAK7kB,KAAK,CACN7D,KAAMA,EACN3C,MAAO8C,OAAOiG,EAAK/I,SAEvB,MAEJ,IAAK,WACD,GAAmB,MAAf+I,EAAK/I,MAAe,CACpB,IAAKsrB,EACD,OAEJA,GAAW,OACR,GAAIA,GAA2B,MAAfviB,EAAK/I,MACxB,OAEJ,MAEJ,QAEI,OAGR8O,EAASA,EAAOlJ,KAGpB,GAAIylB,EAAKloB,SAAWid,EAApB,CAMA,GAAoB,IAAhBiL,EAAKloB,OAAc,CACnB,GAAqB,WAAjBkoB,EAAK,GAAG1oB,KAGR,OAGJ0oB,EAAK,GAAG1oB,KAAO,QAGnB,GAAIyoB,GACA,GAAIC,EAAK,GAAG1oB,OAAS0oB,EAAK,GAAG1oB,MAAQ0oB,EAAK,GAAG1oB,OAAS0oB,EAAK,GAAG1oB,KAG1D,WAED,CACH,GAAqB,WAAjB0oB,EAAK,GAAG1oB,MACS,eAAjB0oB,EAAK,GAAG1oB,MACS,eAAjB0oB,EAAK,GAAG1oB,KAGR,OAGJ0oB,EAAK,GAAG1oB,KAAO,QAGnB,OAAO0oB,EAAKllB,KAAI,SAASolB,GACrB,IAAIvrB,EAAQuS,KAAKc,IAAI,EAAGkY,EAAIvrB,OAE5B,OAAQurB,EAAI5oB,MACR,IAAK,SAED3C,EAAQuS,KAAKC,IAAIxS,EAAO,KACxB,MAEJ,IAAK,aAID,GAFAA,EAAQuS,KAAKC,IAAIxS,EAAO,KAAO,KAE1BorB,EACD,OAAOprB,EAGXA,GAAQ,IACR,MAEJ,IAAK,QAED,OAAUA,EAAQ,IAAO,KAAO,IAAO,IAE3C,IAAK,QAED,OAAOuS,KAAKC,IAAIxS,EAAO,GAG/B,OAAOuS,KAAKyY,MAAMhrB,OAsI1B,SAASwrB,EAAYziB,EAAM6G,GACvB,IAAI6b,EAAQ1iB,EAAK/I,MAAMwV,cAGF,IAAjBiW,EAAMtoB,QACNsoB,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,KACnBA,EAAQA,EAAM,GAAKA,EAAM,GAAKA,EAAM,IAGpCf,EAAYe,GACZ7b,EAAKnG,KAAO,CACR9G,KAAM,aACNgG,IAAKI,EAAKJ,IACVrJ,KAAMorB,EAAYe,IAGtB1iB,EAAK/I,MAAQyrB,EAIrBjtB,EAAOD,QAAU,CACbmtB,iBAzJJ,SAA0B3iB,EAAM6G,EAAM9I,GAClC,IACIukB,EADAM,EAAe5iB,EAAKzJ,KAGxB,GAAqB,SAAjBqsB,GAA4C,SAAjBA,EAAyB,CAGpD,KAFAN,EAAOH,EAAkBniB,EAAKsL,SAAU,EAAoB,SAAjBsX,IAIvC,OAQJ,GALqB,SAAjBA,IACAN,EAAOR,EAASlkB,MAAM,KAAM0kB,GAC5BtiB,EAAKzJ,KAAO,QAGA,IAAZ+rB,EAAK,GAAU,CAKf,IAAIO,EAAoBhkB,KAAKikB,UAAYjkB,KAAKikB,SAASvsB,KACvD,GAAiB,IAAZ+rB,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,KACvC,sCAAsCzd,KAAKge,GAQ5C,YANAhc,EAAKnG,KAAO,CACR9G,KAAM,aACNgG,IAAKI,EAAKJ,IACVrJ,KAAM,gBAOlB,GAAgB,IAAZ+rB,EAAK,GAiBL,YAfAtiB,EAAKsL,SAASlE,MAAK,SAASpH,EAAM6G,EAAM9I,GAClB,aAAdiC,EAAKpG,KAOTiN,EAAKnG,KAAO,CACR9G,KAAM,SACNgG,IAAKI,EAAKJ,IACV3I,MAAO8U,EAAWuW,EAAK9Z,QAAS,OATb,MAAfxI,EAAK/I,OACL8G,EAAKsK,OAAOxB,MAgB5B+b,EAAe,MAGnB,GAAqB,QAAjBA,EAAwB,CAGxB,KAFAN,EAAOA,GAAQH,EAAkBniB,EAAKsL,SAAU,GAAG,IAI/C,OAIJgX,EAAOR,EAASlkB,MAAM,KAAM0kB,GAC5BM,EAAe,MAGnB,GAAqB,QAAjBA,EAAwB,CAGxB,KAFAN,EAAOA,GAAQH,EAAkBniB,EAAKsL,SAAU,GAAG,IAI/C,OAIJ,IAAIzO,EAAOgK,EAAKhK,KACZA,GAA2B,eAAnBA,EAAK6D,KAAK9G,MAClBmE,EAAKgK,OAAOhK,EAAK8H,WAAW,CACxBjM,KAAM,aACN3C,MAAO,MACP4F,GAGRgK,EAAKnG,KAAO,CACR9G,KAAM,WACNgG,IAAKI,EAAKJ,IACV3I,MAAOirB,EAAMI,EAAK,IAAMJ,EAAMI,EAAK,IAAMJ,EAAMI,EAAK,KAGxDG,EAAY5b,EAAKnG,KAAMmG,KA0D3Bkc,cAtDJ,SAAuB/iB,EAAM6G,GACzB,GAAyB,OAArBhI,KAAK8O,YAAT,CAIA,IAAI+U,EAAQ1iB,EAAKzJ,KAAKkW,cAEtB,GAAIiV,EAAY7pB,eAAe6qB,IAC3BjB,EAAMuB,iBAAiBnkB,KAAK8O,aAAasV,OAAOjjB,EAAM,SAAU,CAChE,IAAIkjB,EAAMxB,EAAYgB,GAElBQ,EAAI9oB,OAAS,GAAKsoB,EAAMtoB,OAExByM,EAAKnG,KAAO,CACR9G,KAAM,WACNgG,IAAKI,EAAKJ,IACV3I,MAAOisB,IAIG,SAAVR,IACAA,EAAQ,QAIZ1iB,EAAKzJ,KAAOmsB,MA8BpBD,YAAaA,I,cC5fjB,IAAI5qB,EAAiBnB,OAAOkB,UAAUC,eAoGtC,SAASsrB,EAAoBC,EAAYC,GAGrC,IAFA,IAAIC,EAAUF,EAAWjd,KAEN,OAAZmd,GAAkB,CAGrB,IAFA,IAAIC,EAAUF,EAAWld,KAEN,OAAZod,GAAkB,CACrB,GAAID,EAAQ5iB,KAAK8iB,gBAAkBD,EAAQ7iB,KAAK8iB,cAC5C,OAAO,EAGXD,EAAUA,EAAQ1mB,KAGtBymB,EAAUA,EAAQzmB,KAGtB,OAAO,EA0BXpH,EAAOD,QAAU,CACbiuB,iBA9IJ,SAA0B9d,EAAGC,GAIzB,IAHA,IAAI0d,EAAU3d,EAAEQ,KACZod,EAAU3d,EAAEO,KAEG,OAAZmd,GAAgC,OAAZC,GAAoBD,EAAQ5iB,KAAKyP,KAAOoT,EAAQ7iB,KAAKyP,IAC5EmT,EAAUA,EAAQzmB,KAClB0mB,EAAUA,EAAQ1mB,KAGtB,OAAmB,OAAZymB,GAAgC,OAAZC,GAsI3BG,oBAnIJ,SAA6B/d,EAAGC,GAI5B,IAHA,IAAI0d,EAAU3d,EAAEQ,KACZod,EAAU3d,EAAEO,KAEG,OAAZmd,GAAgC,OAAZC,GAAoBD,EAAQ5iB,KAAKyP,KAAOoT,EAAQ7iB,KAAKyP,IAC5EmT,EAAUA,EAAQzmB,KAClB0mB,EAAUA,EAAQ1mB,KAGtB,OAAmB,OAAZymB,GAAgC,OAAZC,GA2H3BI,oBAxHJ,SAA6BC,EAAeC,GAWxC,IAVA,IAAI9c,EAAS,CACT+c,GAAI,GACJC,IAAK,GACLC,IAAK,GACLC,aAAc,IAGdC,EAAextB,OAAOY,OAAO,MAC7B6sB,EAAoBztB,OAAOY,OAAO,MAE7ByO,EAAS8d,EAAc1d,KAAMJ,EAAQA,EAASA,EAAOlJ,KAC1DsnB,EAAkBpe,EAAOrF,KAAKyP,KAAM,EAGxC,IAASpK,EAAS6d,EAAczd,KAAMJ,EAAQA,EAASA,EAAOlJ,KAAO,EAC7D6D,EAAOqF,EAAOrF,MAET0jB,cACLF,EAAaxjB,EAAK0jB,aAAe1jB,EAAK2jB,WAGtCF,EAAkBzjB,EAAKyP,KACvBgU,EAAkBzjB,EAAKyP,KAAM,EAC7BpJ,EAAO+c,GAAGrmB,KAAKiD,IAEfqG,EAAOgd,IAAItmB,KAAKiD,GAIxB,IAASqF,EAAS8d,EAAc1d,KAAMJ,EAAQA,EAASA,EAAOlJ,KAAO,CACjE,IAAI6D,EAEAyjB,GAFAzjB,EAAOqF,EAAOrF,MAESyP,QAGlBtY,EAAe1B,KAAK+tB,EAAcxjB,EAAK0jB,eACtCF,EAAaxjB,EAAK0jB,cAAgB1jB,EAAK2jB,YACzCtd,EAAOid,IAAIvmB,KAAKiD,GAGpBqG,EAAOkd,aAAaxmB,KAAKiD,IAIjC,OAAOqG,GA4EPud,aAzEJ,SAAsBC,EAAMlrB,GAsBxB,OArBAA,EAAO+N,MAAK,SAASod,GAIjB,IAHA,IAAIC,EAASD,EAAWrU,GACpBpK,EAASwe,EAAKpe,KAEXJ,GAAQ,CACX,IAAI2e,EAAU3e,EAAOrF,KAAKyP,GAE1B,GAAIuU,IAAYD,EACZ,OAGJ,GAAIC,EAAUD,EACV,MAGJ1e,EAASA,EAAOlJ,KAGpB0nB,EAAKxc,OAAOwc,EAAK1e,WAAW2e,GAAaze,MAGtCwe,GAoDPpB,oBAAqBA,EACrBwB,iBA5BJ,SAASA,EAAiB3kB,GACtB,OAAQA,EAAKpG,MACT,IAAK,OAED,OAAOupB,EAAoBnjB,EAAK4kB,QAAQtZ,SAAUzM,MAEtD,IAAK,SAED,GAAImB,EAAK6kB,MAEL,OAAO7kB,EAAK6kB,MAAMvZ,SAAS3D,KAAKgd,EAAkB9lB,MAEtD,MAEJ,IAAK,cACD,OAAO,EAIf,OAAO,K,6BC1IX,IAAIsV,EAAO,EAAQ,GAEnB1e,EAAOD,QAEP,SAAsB6I,GACpB8V,EAAKnT,KAAK3C,EAAKQ,Q,6BCLjBpJ,EAAOD,QAAU,SAAUkL,EAAM2Y,GACxBA,IAAMA,EAAO,IACE,mBAATA,IAAqBA,EAAO,CAAE2F,IAAK3F,IAC9C,IAEiCyL,EAF7BC,EAAiC,kBAAhB1L,EAAK0L,QAAwB1L,EAAK0L,OAEnD/F,EAAM3F,EAAK2F,MAAkB8F,EAQ9BzL,EAAK2F,IAPG,SAAUhf,GACb,OAAO,SAAU2F,EAAGC,GAChB,IAAIof,EAAO,CAAEztB,IAAKoO,EAAG1O,MAAO+I,EAAK2F,IAC7Bsf,EAAO,CAAE1tB,IAAKqO,EAAG3O,MAAO+I,EAAK4F,IACjC,OAAOkf,EAAEE,EAAMC,MAKvBC,EAAO,GACX,OAAO,SAAUC,EAAWnlB,GAKxB,GAJIA,GAAQA,EAAKgH,QAAiC,mBAAhBhH,EAAKgH,SACnChH,EAAOA,EAAKgH,eAGHM,IAATtH,EAAJ,CACA,GAAmB,iBAARA,EAAkB,OAAOolB,SAASplB,GAAQ,GAAKA,EAAO,OACjE,GAAoB,iBAATA,EAAmB,OAAOyf,KAAK0F,UAAUnlB,GAEpD,IAAIhK,EAAGuH,EACP,GAAIL,MAAMC,QAAQ6C,GAAO,CAErB,IADAzC,EAAM,IACDvH,EAAI,EAAGA,EAAIgK,EAAK5F,OAAQpE,IACrBA,IAAGuH,GAAO,KACdA,GAAO4nB,EAAUnlB,EAAKhK,KAAO,OAEjC,OAAOuH,EAAM,IAGjB,GAAa,OAATyC,EAAe,MAAO,OAE1B,IAA4B,IAAxBklB,EAAKnpB,QAAQiE,GAAc,CAC3B,GAAI+kB,EAAQ,OAAOtF,KAAK0F,UAAU,aAClC,MAAM,IAAIE,UAAU,yCAGxB,IAAIC,EAAYJ,EAAKznB,KAAKuC,GAAQ,EAC9BlD,EAAOpG,OAAOoG,KAAKkD,GAAMic,KAAK+C,GAAOA,EAAIhf,IAE7C,IADAzC,EAAM,GACDvH,EAAI,EAAGA,EAAI8G,EAAK1C,OAAQpE,IAAK,CAC9B,IAAIuB,EAAMuF,EAAK9G,GACXiB,EAAQkuB,EAAUnlB,EAAKzI,IAEtBN,IACDsG,IAAKA,GAAO,KAChBA,GAAOkiB,KAAK0F,UAAU5tB,GAAO,IAAMN,GAGvC,OADAiuB,EAAK/I,OAAOmJ,EAAW,GAChB,IAAM/nB,EAAM,KAtChB,CAuCJmD,K,6BCxDPjL,EAAOD,QAAU,SAA2B+vB,EAAIC,EAAUC,GACxD,IAAIloB,EAAM,GACNmoB,GAA8B,IAArBH,EAAGhiB,OAAOmiB,OACrBC,EAAeJ,EAAGpR,KAAK1Q,qBAAqB8hB,EAAGhiB,OAAQgiB,EAAGK,MAAMC,IAAK,QACrEC,EAAMP,EAAGpT,KAAKqD,OAAO+P,EAAGhiB,QAC1B,GAAIgiB,EAAGlM,KAAK0M,eAAgB,CAC1B,IAAIC,EAAcT,EAAGpR,KAAKxQ,mBAAmB4hB,EAAGhiB,OAAQgiB,EAAGK,MAAMpM,UACjE,GAAIwM,EAAa,CACf,IAAIC,EAAe,oBAAsBD,EACzC,GAA+B,QAA3BT,EAAGlM,KAAK0M,eACP,MAAM,IAAIjhB,MAAMmhB,GADiBV,EAAGW,OAAOC,KAAKF,IAezD,GAXIV,EAAGa,QACL7oB,GAAO,mBACHmoB,IACFH,EAAGxiB,OAAQ,EACXxF,GAAO,UAETA,GAAO,sFACHuoB,IAAQP,EAAGlM,KAAKgN,YAAcd,EAAGlM,KAAKiN,eACxC/oB,GAAO,kBAA2BuoB,EAAM,SAGpB,kBAAbP,EAAGhiB,SAAyBoiB,IAAgBJ,EAAGhiB,OAAOyT,KAAO,CACtE,IACIuP,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAHF,gBAIXojB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAJ3B,gBAKXglB,EAAiBtB,EAAGuB,cAAgB,gBACpCC,GAAiBxB,EAAGlM,KAAK2N,UAEzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACvB,IAAkB,IAAdhB,EAAGhiB,OAAkB,CACnBgiB,EAAGa,MACLW,GAAgB,EAEhBxpB,GAAO,QAAU,EAAW,cAE1B2pB,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,6DAAiGgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kBAC9J,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,0CAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,mDAAsDgoB,EAAa,WAAI,YAAc,EAAU,KAExGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,oFAG/BgoB,EAAGa,MAEH7oB,GADEmoB,EACK,iBAEA,yCAGTnoB,GAAO,QAAU,EAAW,YAMhC,OAHIgoB,EAAGa,QACL7oB,GAAO,yBAEFA,EAET,GAAIgoB,EAAGa,MAAO,CACZ,IAAIoB,EAAOjC,EAAGa,MACZG,EAAOhB,EAAGtH,MAAQ,EAClBuI,EAAWjB,EAAGkB,UAAY,EAC1BliB,EAAQ,OAKV,GAJAghB,EAAGkC,OAASlC,EAAGjR,QAAQwB,SAASyP,EAAGpT,KAAKqD,OAAO+P,EAAGjwB,KAAKiO,SACvDgiB,EAAGrQ,OAASqQ,EAAGrQ,QAAUqQ,EAAGkC,cACrBlC,EAAGa,MACVb,EAAGmC,YAAc,MAACpgB,QACQA,IAAtBie,EAAGhiB,OAAOrD,SAAyBqlB,EAAGlM,KAAKsO,aAAepC,EAAGlM,KAAKuO,eAAgB,CACpF,IAAIC,EAAc,wCAClB,GAA+B,QAA3BtC,EAAGlM,KAAKuO,eACP,MAAM,IAAI9iB,MAAM+iB,GADiBtC,EAAGW,OAAOC,KAAK0B,GAGvDtqB,GAAO,wBACPA,GAAO,wBACPA,GAAO,qDACF,CACDgpB,EAAOhB,EAAGtH,MAEZ1Z,EAAQ,SADRiiB,EAAWjB,EAAGkB,YACgB,IAEhC,GADIX,IAAKP,EAAGrQ,OAASqQ,EAAGjR,QAAQyB,IAAIwP,EAAGrQ,OAAQ4Q,IAC3CJ,IAAWH,EAAGxiB,MAAO,MAAM,IAAI+B,MAAM,+BACzCvH,GAAO,aAAe,EAAS,aAE7B0pB,EAAS,QAAUV,EACrBQ,GAAiBxB,EAAGlM,KAAK2N,UAD3B,IAEEc,EAAkB,GAClBC,EAAkB,GAEhBC,EAAczC,EAAGhiB,OAAO3J,KAC1BquB,EAAe/qB,MAAMC,QAAQ6qB,GAa/B,GAZIA,GAAezC,EAAGlM,KAAK6O,WAAmC,IAAvB3C,EAAGhiB,OAAO2kB,WAC3CD,GACkC,GAAhCD,EAAYjsB,QAAQ,UAAeisB,EAAcA,EAAYrqB,OAAO,SAChD,QAAfqqB,IACTA,EAAc,CAACA,EAAa,QAC5BC,GAAe,IAGfA,GAAsC,GAAtBD,EAAY5tB,SAC9B4tB,EAAcA,EAAY,GAC1BC,GAAe,GAEb1C,EAAGhiB,OAAOyT,MAAQ2O,EAAc,CAClC,GAA0B,QAAtBJ,EAAGlM,KAAK8O,WACV,MAAM,IAAIrjB,MAAM,qDAAuDygB,EAAGuB,cAAgB,8BAC1D,IAAvBvB,EAAGlM,KAAK8O,aACjBxC,GAAe,EACfJ,EAAGW,OAAOC,KAAK,6CAA+CZ,EAAGuB,cAAgB,MAMrF,GAHIvB,EAAGhiB,OAAO6kB,UAAY7C,EAAGlM,KAAK+O,WAChC7qB,GAAO,IAAOgoB,EAAGK,MAAMC,IAAIuC,SAAS/tB,KAAKkrB,EAAI,aAE3CyC,EAAa,CACf,GAAIzC,EAAGlM,KAAKgP,YACV,IAAIC,EAAiB/C,EAAGpR,KAAKzS,cAAc6jB,EAAGlM,KAAKgP,YAAaL,GAElE,IAAIO,EAAchD,EAAGK,MAAMxkB,MAAM4mB,GACjC,GAAIM,GAAkBL,IAAgC,IAAhBM,GAAyBA,IAAgBC,EAAgBD,GAAe,CACxG5B,EAAcpB,EAAGqB,WAAa,QAChCC,EAAiBtB,EAAGuB,cAAgB,QAClCH,EAAcpB,EAAGqB,WAAa,QAChCC,EAAiBtB,EAAGuB,cAAgB,QAHtC,IAIE2B,EAAUR,EAAe,iBAAmB,gBAE9C,GADA1qB,GAAO,QAAWgoB,EAAGpR,KAAKsU,GAAST,EAAazjB,GAAO,GAAS,OAC5D+jB,EAAgB,CAClB,IAAII,EAAY,WAAanC,EAC3BoC,EAAW,UAAYpC,EACzBhpB,GAAO,QAAU,EAAc,aAAe,EAAU,KAC7B,SAAvBgoB,EAAGlM,KAAKgP,cACV9qB,GAAO,QAAU,EAAc,iCAAqC,EAAU,MAAQ,EAAc,gBAEtGA,GAAO,QAAU,EAAa,iBAC9B,IAAIqrB,EAAkB,GAClBC,EAAOP,EACX,GAAIO,EAGF,IAFA,IAAIC,EAAOC,GAAM,EACfC,EAAKH,EAAKzuB,OAAS,EACd2uB,EAAKC,GACVF,EAAQD,EAAKE,GAAM,GACfA,IACFxrB,GAAO,QAAU,EAAa,qBAC9BqrB,GAAmB,KAEM,SAAvBrD,EAAGlM,KAAKgP,aAAmC,SAATS,IACpCvrB,GAAO,QAAU,EAAc,kBAAsB,EAAU,mBAAqB,EAAa,MAAQ,EAAU,MAAQ,EAAU,QAAU,EAAc,aAAe,EAAU,SAE3K,UAATurB,EACFvrB,GAAO,QAAU,EAAc,mBAAuB,EAAc,kBAAsB,EAAa,WAAe,EAAU,cAAgB,EAAU,cAAgB,EAAa,UACrK,UAATurB,GAA8B,WAATA,GAC9BvrB,GAAO,QAAU,EAAc,oBAAwB,EAAU,iBAAmB,EAAc,mBAAuB,EAAU,OAAS,EAAU,QAAU,EAAU,IAC7J,WAATurB,IACFvrB,GAAO,SAAW,EAAU,SAE9BA,GAAO,MAAQ,EAAa,OAAS,EAAU,MAC7B,WAATurB,EACTvrB,GAAO,QAAU,EAAU,mBAAuB,EAAU,aAAe,EAAU,cAAgB,EAAa,sBAAwB,EAAU,kBAAsB,EAAU,WAAa,EAAa,YAC5L,QAATurB,EACTvrB,GAAO,QAAU,EAAU,cAAkB,EAAU,aAAe,EAAU,eAAiB,EAAa,YAC9E,SAAvBgoB,EAAGlM,KAAKgP,aAAmC,SAATS,IAC3CvrB,GAAO,QAAU,EAAc,mBAAuB,EAAc,mBAAuB,EAAc,oBAAwB,EAAU,aAAe,EAAa,OAAS,EAAU,OAIhMA,GAAO,IAAM,EAAoB,QAAU,EAAa,wBACpD2pB,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,qDAAyFgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,uBAE7KtpB,GADE0qB,EACK,GAAMD,EAAY/a,KAAK,KAEvB,GAAK,EAEd1P,GAAO,QACkB,IAArBgoB,EAAGlM,KAAK+N,WACV7pB,GAAO,0BAELA,GADE0qB,EACK,GAAMD,EAAY/a,KAAK,KAEvB,GAAK,EAEd1P,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAEL+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,cACP,IAAI0rB,EAAczC,EAAW,QAAWA,EAAW,GAAM,IAAM,aAE/DjpB,GAAO,IAAM,EAAU,MAAQ,EAAa,KACvCipB,IACHjpB,GAAO,OAAS,EAAgB,mBAElCA,GAAO,IAAM,EAAgB,KALLipB,EAAWjB,EAAGmC,YAAYlB,GAAY,sBAKH,OAAS,EAAa,WAC5E,EACDU,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,qDAAyFgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,uBAE7KtpB,GADE0qB,EACK,GAAMD,EAAY/a,KAAK,KAEvB,GAAK,EAEd1P,GAAO,QACkB,IAArBgoB,EAAGlM,KAAK+N,WACV7pB,GAAO,0BAELA,GADE0qB,EACK,GAAMD,EAAY/a,KAAK,KAEvB,GAAK,EAEd1P,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAEL+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAGrCA,GAAO,OAGX,GAAIgoB,EAAGhiB,OAAOyT,OAAS2O,EACrBpoB,GAAO,IAAOgoB,EAAGK,MAAMC,IAAI7O,KAAK3c,KAAKkrB,EAAI,QAAW,IAChDwB,IACFxpB,GAAO,qBAELA,GADEiqB,EACK,IAEA,QAAU,EAEnBjqB,GAAO,OACPwqB,GAAmB,SAEhB,CACL,IAAImB,EAAO3D,EAAGK,MACd,GAAIsD,EAGF,IAFA,IAAiBC,GAAM,EACrBC,EAAKF,EAAK9uB,OAAS,EACd+uB,EAAKC,GAEV,GAAIZ,EADJD,EAAcW,EAAKC,GAAM,IACS,CAIhC,GAHIZ,EAAY3uB,OACd2D,GAAO,QAAWgoB,EAAGpR,KAAK3T,cAAc+nB,EAAY3uB,KAAM2K,GAAU,QAElEghB,EAAGlM,KAAKsO,YACV,GAAwB,UAApBY,EAAY3uB,MAAoB2rB,EAAGhiB,OAAOyO,WAAY,CACpD0U,EAAUnB,EAAGhiB,OAAOyO,WAAxB,IAEIqX,EADY3yB,OAAOoG,KAAK4pB,GAE5B,GAAI2C,EAGF,IAFA,IAAIC,EAAcC,GAAM,EACtBC,EAAKH,EAAKjvB,OAAS,EACdmvB,EAAKC,GAAI,CAGd,QAAqBliB,KADjBmiB,EAAO/C,EADX4C,EAAeD,EAAKE,GAAM,KAEjBrpB,QAAuB,CAC9B,IAAIwpB,EAAYnlB,EAAQghB,EAAGpR,KAAKtS,YAAYynB,GAC5C,GAAI/D,EAAGgC,eACL,GAAIhC,EAAGlM,KAAKuO,eAAgB,CACtBC,EAAc,2BAA6B6B,EAC/C,GAA+B,QAA3BnE,EAAGlM,KAAKuO,eACP,MAAM,IAAI9iB,MAAM+iB,GADiBtC,EAAGW,OAAOC,KAAK0B,SAIvDtqB,GAAO,QAAU,EAAc,kBACJ,SAAvBgoB,EAAGlM,KAAKsO,cACVpqB,GAAO,OAAS,EAAc,gBAAkB,EAAc,YAEhEA,GAAO,MAAQ,EAAc,MACF,UAAvBgoB,EAAGlM,KAAKsO,YACVpqB,GAAO,IAAOgoB,EAAGoE,WAAWF,EAAKvpB,SAAY,IAE7C3C,GAAO,IAAOkiB,KAAK0F,UAAUsE,EAAKvpB,SAAY,IAEhD3C,GAAO,YAKV,GAAwB,SAApBgrB,EAAY3uB,MAAmBsD,MAAMC,QAAQooB,EAAGhiB,OAAOqmB,OAAQ,CACxE,IAAIC,EAAOtE,EAAGhiB,OAAOqmB,MACrB,GAAIC,EACF,CAAUd,GAAM,EAEhB,IAFA,IAAIU,EACFK,EAAKD,EAAKzvB,OAAS,EACd2uB,EAAKe,GAEV,QAAqBxiB,KADrBmiB,EAAOI,EAAKd,GAAM,IACT7oB,QAAuB,CAC1BwpB,EAAYnlB,EAAQ,IAAMwkB,EAAK,IACnC,GAAIxD,EAAGgC,eACL,GAAIhC,EAAGlM,KAAKuO,eAAgB,CACtBC,EAAc,2BAA6B6B,EAC/C,GAA+B,QAA3BnE,EAAGlM,KAAKuO,eACP,MAAM,IAAI9iB,MAAM+iB,GADiBtC,EAAGW,OAAOC,KAAK0B,SAIvDtqB,GAAO,QAAU,EAAc,kBACJ,SAAvBgoB,EAAGlM,KAAKsO,cACVpqB,GAAO,OAAS,EAAc,gBAAkB,EAAc,YAEhEA,GAAO,MAAQ,EAAc,MACF,UAAvBgoB,EAAGlM,KAAKsO,YACVpqB,GAAO,IAAOgoB,EAAGoE,WAAWF,EAAKvpB,SAAY,IAE7C3C,GAAO,IAAOkiB,KAAK0F,UAAUsE,EAAKvpB,SAAY,IAEhD3C,GAAO,OAOnB,IAAIwsB,EAAOxB,EAAY/kB,MACvB,GAAIumB,EAGF,IAFA,IAAIC,EAAOC,GAAM,EACfC,EAAKH,EAAK3vB,OAAS,EACd6vB,EAAKC,GAEV,GAAIC,EADJH,EAAQD,EAAKE,GAAM,IACQ,CACzB,IAAIG,EAAQJ,EAAM3vB,KAAKkrB,EAAIyE,EAAMpQ,QAAS2O,EAAY3uB,MAClDwwB,IACF7sB,GAAO,IAAM,EAAU,IACnBwpB,IACFe,GAAmB,MAU7B,GAJIf,IACFxpB,GAAO,IAAM,EAAoB,IACjCuqB,EAAkB,IAEhBS,EAAY3uB,OACd2D,GAAO,MACHyqB,GAAeA,IAAgBO,EAAY3uB,OAAS0uB,GAAgB,CACtE/qB,GAAO,WACP,IAEI2pB,EAFAP,EAAcpB,EAAGqB,WAAa,QAChCC,EAAiBtB,EAAGuB,cAAgB,SAClCI,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,qDAAyFgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,uBAE7KtpB,GADE0qB,EACK,GAAMD,EAAY/a,KAAK,KAEvB,GAAK,EAEd1P,GAAO,QACkB,IAArBgoB,EAAGlM,KAAK+N,WACV7pB,GAAO,0BAELA,GADE0qB,EACK,GAAMD,EAAY/a,KAAK,KAEvB,GAAK,EAEd1P,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAEL+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MAGPwpB,IACFxpB,GAAO,mBAELA,GADEiqB,EACK,IAEA,QAAU,EAEnBjqB,GAAO,OACPwqB,GAAmB,MA0B7B,SAASS,EAAgBD,GAEvB,IADA,IAAI/kB,EAAQ+kB,EAAY/kB,MACfxN,EAAI,EAAGA,EAAIwN,EAAMpJ,OAAQpE,IAChC,GAAIm0B,EAAe3mB,EAAMxN,IAAK,OAAO,EAGzC,SAASm0B,EAAeH,GACtB,YAAoC1iB,IAA7Bie,EAAGhiB,OAAOymB,EAAMpQ,UAA2BoQ,EAAMK,YAG1D,SAAoCL,GAElC,IADA,IAAIM,EAAON,EAAMK,WACRr0B,EAAI,EAAGA,EAAIs0B,EAAKlwB,OAAQpE,IAC/B,QAA2BsR,IAAvBie,EAAGhiB,OAAO+mB,EAAKt0B,IAAmB,OAAO,EANuBu0B,CAA2BP,GAQnG,OAnCIjD,IACFxpB,GAAO,IAAM,EAAoB,KAE/BiqB,GACE9B,GACFnoB,GAAO,6CACPA,GAAO,+CAEPA,GAAO,+BACPA,GAAO,gCAETA,GAAO,wBAEPA,GAAO,QAAU,EAAW,sBAAwB,EAAS,IAE/DA,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,GACtBiqB,IACFjqB,EAAMgoB,EAAGpR,KAAKrR,iBAAiBvF,EAAKmoB,IAkB/BnoB,I,6BC3eT9H,EAAOD,QAAU,SAAyB+vB,EAAIC,EAAUC,GACtD,IAUE+E,EAVEjtB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UAEzBziB,EAAQ,QAAUiiB,GAAY,IAC9BiE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB,IAAIgE,EAAqB,WAAZlF,EACXmF,EAAoBD,EAAS,mBAAqB,mBAClDE,EAAcrF,EAAGhiB,OAAOonB,GACxBE,EAActF,EAAGlM,KAAK9U,OAASqmB,GAAeA,EAAYrmB,MAC1DumB,EAAMJ,EAAS,IAAM,IACrBK,EAASL,EAAS,IAAM,IACxBM,OAAgB1jB,EAClB,GAAIujB,EAAa,CACf,IAAII,EAAmB1F,EAAGpR,KAAK7P,QAAQsmB,EAAYrmB,MAAOiiB,EAAUjB,EAAGmC,aACrEwD,EAAa,YAAc3E,EAC3B4E,EAAY,WAAa5E,EACzB6E,EAAgB,eAAiB7E,EAEjC8E,EAAS,QADTC,EAAU,KAAO/E,GACY,OAC/BhpB,GAAO,kBAAoB,EAAS,MAAQ,EAAqB,KAEjEA,GAAO,QAAU,EAAe,SAAW,EAAc,cADzD0tB,EAAmB,aAAe1E,GAC2D,SAAW,EAAc,oBAAwB,EAAc,sBAA0B,EAAc,mBACpM,IACIW,EADA8D,EAAgBL,GAChBzD,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,iBAAoBytB,GAAiB,mBAAqB,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kBACjK,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gBAAmB,EAAsB,wBAE9CgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,gBACHktB,IACFltB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,IAAM,EAAc,qBAAyB,EAAe,MAAQ,EAAiB,qBAAuB,EAAqB,IAAM,EAAQ,KAAO,EAAiB,OAAS,EAAU,IAAM,EAAW,KAAO,EAAqB,MAAQ,EAAU,IAAM,EAAW,IAAM,EAAiB,WAAa,EAAe,MAAQ,EAAqB,gBAAkB,EAAU,IAAM,EAAW,KAAO,EAAiB,MAAQ,EAAU,IAAM,EAAW,IAAM,EAAiB,SAAW,EAAU,QAAU,EAAU,aAAe,EAAS,MAAQ,EAAe,OAAU,EAAQ,QAAY,EAAQ,YAC9kB+J,IAAZof,IACFsE,EAAgBL,EAChB9D,EAAiBtB,EAAGuB,cAAgB,IAAM6D,EAC1CH,EAAeS,EACfR,EAAUI,OAEP,CAEHQ,EAASP,EACX,IAFIM,EAAsC,iBAAfR,IAENH,EAAS,CAC5B,IAAIa,EAAU,IAAOD,EAAS,IAC9B9tB,GAAO,SACHktB,IACFltB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,MAAQ,EAAiB,qBAAuB,EAAgB,IAAM,EAAQ,KAAO,EAAiB,MAAQ,EAAU,IAAM,EAAW,KAAO,EAAgB,MAAQ,EAAU,IAAM,EAAW,IAAM,EAAiB,SAAW,EAAU,QAAU,EAAU,WACrQ,CACD6tB,QAA6B9jB,IAAZof,GACnBwE,GAAa,EACbF,EAAgBL,EAChB9D,EAAiBtB,EAAGuB,cAAgB,IAAM6D,EAC1CH,EAAeI,EACfG,GAAU,MAENK,IAAeZ,EAAehhB,KAAKkhB,EAAS,MAAQ,OAAOE,EAAalE,IACxEkE,MAAiBQ,GAAgBZ,IACnCU,GAAa,EACbF,EAAgBL,EAChB9D,EAAiBtB,EAAGuB,cAAgB,IAAM6D,EAC1CI,GAAU,MAEVG,GAAa,EACbG,GAAU,MAGVC,EAAU,IAAOD,EAAS,IAC9B9tB,GAAO,SACHktB,IACFltB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,IAAM,EAAU,IAAM,EAAW,IAAM,EAAiB,OAAS,EAAU,QAAU,EAAU,QAG1GytB,EAAgBA,GAAiBxF,GAC7B0B,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,iBAAoBytB,GAAiB,UAAY,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,4BAA8B,EAAY,YAAc,EAAiB,gBAAkB,EAAe,OAClQ,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,0BAA6B,EAAW,IAE7CA,GADEktB,EACK,OAAU,EAEL,EAAiB,KAG7BlF,EAAGlM,KAAKgO,UACV9pB,GAAO,eAELA,GADEktB,EACK,kBAAoB,EAEpB,GAAK,EAEdltB,GAAO,2CAA8CgoB,EAAa,WAAI,YAAc,EAAU,KAEhGhoB,GAAO,OAEPA,GAAO,OAEL+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MACHwpB,IACFxpB,GAAO,YAEFA,I,6BC1JT9H,EAAOD,QAAU,SAA8B+vB,EAAIC,EAAUC,GAC3D,IAUE+E,EAVEjtB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UAEzBziB,EAAQ,QAAUiiB,GAAY,IAC9BiE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAGjBnpB,GAAO,QACHktB,IACFltB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,IAAM,EAAU,YALD,YAAZioB,EAAyB,IAAM,KAKG,IAAM,EAAiB,OACnE,IAAIwF,EAAgBxF,EAChB0B,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,iBAAoBytB,GAAiB,eAAiB,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,uBAAyB,EAAiB,OACvM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gCAELA,GADc,YAAZioB,EACK,OAEA,QAETjoB,GAAO,SAELA,GADEktB,EACK,OAAU,EAAiB,OAE3B,GAAK,EAEdltB,GAAO,YAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,eAELA,GADEktB,EACK,kBAAoB,EAEpB,GAAK,EAEdltB,GAAO,2CAA8CgoB,EAAa,WAAI,YAAc,EAAU,KAEhGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHwpB,IACFxpB,GAAO,YAEFA,I,6BC1ET9H,EAAOD,QAAU,SAA+B+vB,EAAIC,EAAUC,GAC5D,IAUE+E,EAVEjtB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UAEzBziB,EAAQ,QAAUiiB,GAAY,IAC9BiE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB,IAAIoE,EAAkB,aAAZtF,EAA0B,IAAM,IAC1CjoB,GAAO,QACHktB,IACFltB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,sBAExD,IAApBgoB,EAAGlM,KAAKrG,QACVzV,GAAO,IAAM,EAAU,WAEvBA,GAAO,eAAiB,EAAU,KAEpCA,GAAO,IAAM,EAAQ,IAAM,EAAiB,OAC5C,IAAIytB,EAAgBxF,EAChB0B,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,iBAAoBytB,GAAiB,gBAAkB,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,uBAAyB,EAAiB,OACxM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,8BAELA,GADc,aAAZioB,EACK,SAEA,UAETjoB,GAAO,SAELA,GADEktB,EACK,OAAU,EAAiB,OAE3B,GAAK,EAEdltB,GAAO,iBAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,eAELA,GADEktB,EACK,kBAAoB,EAEpB,GAAK,EAEdltB,GAAO,2CAA8CgoB,EAAa,WAAI,YAAc,EAAU,KAEhGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHwpB,IACFxpB,GAAO,YAEFA,I,6BC/ET9H,EAAOD,QAAU,SAAmC+vB,EAAIC,EAAUC,GAChE,IAUE+E,EAVEjtB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UAEzBziB,EAAQ,QAAUiiB,GAAY,IAC9BiE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAGjBnpB,GAAO,QACHktB,IACFltB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,gBAAkB,EAAU,aALb,iBAAZioB,EAA8B,IAAM,KAKW,IAAM,EAAiB,OAChF,IAAIwF,EAAgBxF,EAChB0B,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,iBAAoBytB,GAAiB,oBAAsB,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,uBAAyB,EAAiB,OAC5M,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gCAELA,GADc,iBAAZioB,EACK,OAEA,QAETjoB,GAAO,SAELA,GADEktB,EACK,OAAU,EAAiB,OAE3B,GAAK,EAEdltB,GAAO,iBAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,eAELA,GADEktB,EACK,kBAAoB,EAEpB,GAAK,EAEdltB,GAAO,2CAA8CgoB,EAAa,WAAI,YAAc,EAAU,KAEhGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHwpB,IACFxpB,GAAO,YAEFA,I,0wFC3ET,IAAIguB,EAAoB,EAAQ,IAKhC,SAASC,EAAelZ,EAAOmZ,GAC3B,SAASC,EAAatwB,EAAOuO,GACzB,OAAOgiB,EAAMzgB,MAAM9P,EAAOuO,GAAKvM,KAAI,SAASwuB,EAAMzgB,GAG9C,IAFA,IAAI0gB,EAAM/wB,OAAOM,EAAQ+P,EAAM,GAExB0gB,EAAIzxB,OAAS0xB,GAChBD,EAAM,IAAMA,EAGhB,OAAOA,EAAM,KAAOD,KACrB3e,KAAK,MAGZ,IAAI0e,EAAQrZ,EAAMjZ,OAAO4L,MAAM,eAC3B2mB,EAAOtZ,EAAMsZ,KACbG,EAASzZ,EAAMyZ,OACfC,EAAYxiB,KAAKc,IAAI,EAAGshB,EAAOH,GAAc,EAC7CQ,EAAUziB,KAAKC,IAAImiB,EAAOH,EAAYE,EAAMvxB,OAAS,GACrD0xB,EAAetiB,KAAKc,IAAI,EAAGxP,OAAOmxB,GAAS7xB,QAAU,EACrD8xB,EAAU,GAGdH,IAxBkB,OAwBS3xB,OAAS,IAAMuxB,EAAMC,EAAO,GAAG3R,OAAO,EAAG8R,EAAS,GAAG1pB,MAAM,QAAU,IAAIjI,QA1BlF,MA6Bd8xB,EAAUH,EA5BM,GA4BuB,EACvCA,EAASI,IAGb,IAAK,IAAIn2B,EAAIg2B,EAAWh2B,GAAKi2B,EAASj2B,IAC9BA,GAAK,GAAKA,EAAI21B,EAAMvxB,SACpBuxB,EAAM31B,GAAK21B,EAAM31B,GAAGyM,QAAQ,MAjClB,QAkCVkpB,EAAM31B,IACDk2B,EAAU,GAAKP,EAAM31B,GAAGoE,OAAS8xB,EAAU,IAAW,IACvDP,EAAM31B,GAAGikB,OAAOiS,EAASE,KACxBT,EAAM31B,GAAGoE,OAAS8xB,EAvCb,IAuCyC,EAAI,IAAW,KAI1E,MAAO,CACHR,EAAaM,EAAWJ,GACxB,IAAI1uB,MAAM6uB,EAASD,EAAe,GAAG7e,KAAK,KAAO,IACjDye,EAAaE,EAAMK,IACrBpkB,OAAO0R,SAAStM,KAAK,MAiC3BxX,EAAOD,QA9BW,SAASoiB,EAASve,EAAQG,EAAQoyB,EAAMG,GACtD,IAAIzZ,EAAQiZ,EAAkB,cAAe3T,GA0B7C,OAxBAtF,EAAMjZ,OAASA,EACfiZ,EAAM9Y,OAASA,EACf8Y,EAAMsZ,KAAOA,EACbtZ,EAAMyZ,OAASA,EAEfzZ,EAAMkZ,eAAiB,SAASC,GAC5B,OAAOD,EAAelZ,EAAO+Z,MAAMZ,GAAc,EAAIA,IAEzD/0B,OAAOC,eAAe2b,EAAO,mBAAoB,CAC7Czb,IAAK,WACD,MACI,gBAAkByb,EAAMsF,QAAU,KAClC4T,EAAelZ,EAAO,MAMlCA,EAAMga,WAAa,CACf9yB,OAAQA,EACRoyB,KAAMA,EACNG,OAAQA,GAGLzZ,I,cCvEX,SAASvJ,EAAQ1O,GACb,OAAOA,GAAQ,IAAUA,GAAQ,GAgBrC,SAAS4O,EAAkB5O,GACvB,OAAOA,GAAQ,IAAUA,GAAQ,GAKrC,SAASkyB,EAAkBlyB,GACvB,OAAOA,GAAQ,IAAUA,GAAQ,IAKrC,SAASmyB,EAASnyB,GACd,OAAO4O,EAAkB5O,IAASkyB,EAAkBlyB,GAKxD,SAASoyB,EAAWpyB,GAChB,OAAOA,GAAQ,IAKnB,SAASqyB,EAAYryB,GACjB,OAAOmyB,EAASnyB,IAASoyB,EAAWpyB,IAAkB,KAATA,EAYjD,SAASsyB,EAAetyB,GACpB,OACKA,GAAQ,GAAUA,GAAQ,GACjB,KAATA,GACAA,GAAQ,IAAUA,GAAQ,IACjB,MAATA,EAQT,SAAShC,EAAUgC,GACf,OAAgB,KAATA,GAA4B,KAATA,GAA4B,KAATA,EAKjD,SAAS6O,EAAa7O,GAClB,OAAOhC,EAAUgC,IAAkB,KAATA,GAA4B,IAATA,EAIjD,SAAS9B,EAAc2O,EAAO0lB,GAE1B,OAAc,KAAV1lB,KAKA7O,EAAUu0B,IA5FR,IA4FmBA,GAwG7B,IAAIC,EAAW,IAAI3vB,MAAM,KACzBxE,EAAiB4B,IAAM,IACvB5B,EAAiB6B,WAAa,IAC9B7B,EAAiB8D,MAAQ,IACzB9D,EAAiB+D,UAAY,IAC7B/D,EAAiB+B,aAAe,IAEhC,IAAK,IAAIzE,EAAI,EAAGA,EAAI62B,EAASzyB,OAAQpE,IACjC,QAAQ,GACJ,KAAKkT,EAAalT,GACd62B,EAAS72B,GAAK0C,EAAiB6B,WAC/B,MAEJ,KAAKwO,EAAQ/S,GACT62B,EAAS72B,GAAK0C,EAAiB8D,MAC/B,MAEJ,KAAKkwB,EAAY12B,GACb62B,EAAS72B,GAAK0C,EAAiB+D,UAC/B,MAEJ,KAAKkwB,EAAe32B,GAChB62B,EAAS72B,GAAK0C,EAAiB+B,aAC/B,MAEJ,QACIoyB,EAAS72B,GAAKA,GAAK0C,EAAiB4B,IAIhD,SAAS5B,EAAiB2B,GACtB,OAAOA,EAAO,IAAOwyB,EAASxyB,GAAQ3B,EAAiB+D,UAG3DhH,EAAOD,QAAU,CACbuT,QAASA,EACTC,WA1NJ,SAAoB3O,GAChB,OACI0O,EAAQ1O,IACPA,GAAQ,IAAUA,GAAQ,IAC1BA,GAAQ,IAAUA,GAAQ,KAuN/B4O,kBAAmBA,EACnBsjB,kBAAmBA,EACnBC,SAAUA,EACVC,WAAYA,EACZC,YAAaA,EACbp0B,OAxLJ,SAAgB+B,GACZ,OAAOqyB,EAAYryB,IAAS0O,EAAQ1O,IAAkB,KAATA,GAwL7CsyB,eAAgBA,EAChBt0B,UAAWA,EACX6Q,aAAcA,EACd3Q,cAAeA,EACfE,kBA9IJ,SAA2ByO,EAAO0lB,EAAQE,GAItC,OAAc,KAAV5lB,EAIIwlB,EAAYE,IACD,KAAXA,GACAr0B,EAAcq0B,EAAQE,KAK1BJ,EAAYxlB,IAMF,KAAVA,GAEO3O,EAAc2O,EAAO0lB,IAwHhCp0B,cA/GJ,SAAuB0O,EAAO0lB,EAAQE,GAKlC,OAAc,KAAV5lB,GAA8B,KAAVA,EAEhB6B,EAAQ6jB,GACD,EAMO,KAAXA,GAAqB7jB,EAAQ+jB,GAAS,EAAI,EAIvC,KAAV5lB,EAEO6B,EAAQ6jB,GAAU,EAAI,EAI7B7jB,EAAQ7B,GAED,EAKJ,GAkFPvO,MA1EJ,SAAe0B,GAEX,OAAa,QAATA,GAKS,QAATA,EAJO,EAQJ,GAgEP3B,iBAAkBA,I,gBCvPtB,IAAI6yB,EAAoB,EAAQ,IAC5BxrB,EAAW,EAAQ,IAkCvB,SAASF,EAAYG,EAAM+sB,GACvB,IAAIntB,EAAMI,GAAQA,EAAKJ,KAAOI,EAAKJ,IAAImtB,GAEvC,OAAIntB,EACO,CACHpG,OAAQoG,EAAIpG,OACZoyB,KAAMhsB,EAAIgsB,KACVG,OAAQnsB,EAAImsB,QAIb,KA2CXt2B,EAAOD,QAAU,CACbw3B,qBAzCuB,SAASpzB,EAAMqzB,GACtC,IAAI3a,EAAQiZ,EACR,uBACA3xB,GAAQqzB,EAAgB,KAAOA,EAAgB,IAAM,KAKzD,OAFA3a,EAAM4a,UAAYD,EAEX3a,GAkCP6a,WA/Ba,SAASvV,EAASwV,EAAQptB,EAAMqtB,GAC7C,IAAI/a,EAAQiZ,EAAkB,mBAAoB3T,GAC9C0V,EA3DR,SAAyBD,GAQrB,IAPA,IAAIE,EAASF,EAAYE,OACrBC,EAAeH,EAAYG,aAC3BxtB,EAAOwtB,EAAeD,EAAOnzB,OAASmzB,EAAOC,GAAcxtB,KAAO,KAClEytB,GAAkB,EAClBC,EAAU,EACVxd,EAAM,GAEDla,EAAI,EAAGA,EAAIu3B,EAAOnzB,OAAQpE,IAC3BA,IAAMw3B,IACNC,EAAiBvd,EAAI9V,QAGZ,OAAT4F,GAAiButB,EAAOv3B,GAAGgK,OAASA,IAChChK,GAAKw3B,EACLE,IAEAA,EAAU,GAIlBxd,GAAOqd,EAAOv3B,GAAGiB,MAGrB,MAAO,CACH+I,KAAMA,EACNkQ,IAAKA,EACLud,gBAAoC,IAApBA,EAAwBvd,EAAI9V,OAASqzB,EACrDtmB,KAAe,OAATnH,GAAiB0tB,EAAU,GA+BvBC,CAAgBN,GAC1BI,EAAiBH,EAAQG,gBAAkB,EAC3CG,EAAUN,EAAQttB,MAAQA,EAC1B2J,EAAM9J,EAAY+tB,EAAS,OAC3BxyB,EAAQkyB,EAAQnmB,KAAOwC,EAAM9J,EAAY+tB,EAAS,SAClD1d,EAAMod,EAAQpd,IAmBlB,OAjBAoC,EAAMub,WAAajW,EACnBtF,EAAM8a,OAASA,EAASrtB,EAASqtB,GAAU,YAC3C9a,EAAMpC,IAAMA,EACZoC,EAAMmb,eAAiBA,EACvBnb,EAAM1S,IAAM,CACRvG,OAASu0B,GAAWA,EAAQhuB,KAAOguB,EAAQhuB,IAAIvG,QAAW,YAC1D+B,MAAOA,EACPuO,IAAKA,GAET2I,EAAMsZ,KAAOxwB,EAAQA,EAAMwwB,UAAOtkB,EAClCgL,EAAMyZ,OAAS3wB,EAAQA,EAAM2wB,YAASzkB,EACtCgL,EAAM9Y,OAAS4B,EAAQA,EAAM5B,YAAS8N,EACtCgL,EAAMsF,QAAUA,EAAU,eACPtF,EAAM8a,OAAS,gBACd9a,EAAMpC,KAAO,kBAAoB,eAClC,IAAIhT,MAAMoV,EAAMmb,eAAiB,GAAGxgB,KAAK,KAAO,IAE5DqF,K,cCtFX,IACIwb,EAAyC,oBAAhBvT,YAA8BA,YAAcrd,MAEzEzH,EAAOD,QAAU,SAAqBme,EAAQhN,GAC1C,OAAe,OAAXgN,GAAmBA,EAAOvZ,OAASuM,EAC5B,IAAImnB,EAAgBtkB,KAAKc,IAAI3D,EAAO,KALpC,QAQJgN,I,gBCRX,IAAI4X,EAAoB,EAAQ,IAEhC91B,EAAOD,QAAU,SAAqBoiB,EAASmW,EAAOv0B,GAClD,IAAI8Y,EAAQiZ,EAAkB,cAAe3T,GAS7C,OAPAtF,EAAMyb,MAAQA,EACdzb,EAAM9Y,OAASA,EACf8Y,EAAMub,WAAajW,EACnBtF,EAAMsF,QAAUtF,EAAMub,WAAa,OACxBvb,EAAMyb,MAAQ,OACd,IAAI7wB,OAAOoV,EAAM9Y,QAAU8Y,EAAMyb,MAAM3zB,QAAU,GAAG6S,KAAK,KAAO,IAEpEqF,I,cCZX,IAAImG,EAAO,aAEX,SAASuV,EAAe/2B,GACpB,MAAwB,mBAAVA,EAAuBA,EAAQwhB,EAGjDhjB,EAAOD,QAAU,SAASwK,EAAMoN,EAAS/F,GA8BrC,IAAI4mB,EAAQxV,EACRyV,EAAQzV,EASZ,GAPuB,mBAAZrL,EACP6gB,EAAQ7gB,EACDA,IACP6gB,EAAQD,EAAe5gB,EAAQ6gB,OAC/BC,EAAQF,EAAe5gB,EAAQ8gB,QAG/BD,IAAUxV,GAAQyV,IAAUzV,EAC5B,MAAM,IAAI3T,MAAM,gFAxCpB,SAASqpB,EAAKnuB,GAGV,OAFAiuB,EAAM93B,KAAKkR,EAASrH,GAEZA,EAAKpG,MACT,IAAK,QACDoG,EAAK+Y,MAAMhc,QAAQoxB,GACnB,MAEJ,IAAK,aACDA,EAAKnuB,EAAKgZ,MACV,MAEJ,IAAK,OACL,IAAK,WACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,SACL,IAAK,QACL,IAAK,QACD,MAEJ,QACI,MAAM,IAAIlU,MAAM,iBAAmB9E,EAAKpG,MAGhDs0B,EAAM/3B,KAAKkR,EAASrH,GAiBxBmuB,CAAKnuB,K,gBClDT,IAAIX,EAAQ,EAAQ,IAEhB+uB,EAAQ,CAAEx0B,KAAM,SAChBy0B,EAAW,CAAEz0B,KAAM,YACnB00B,EAAiB,CAAE10B,KAAM,iBAI7B,SAAS20B,EAAgBlsB,EAAOmsB,EAAYC,GAExC,OAAID,IAAeJ,GAASK,IAAeJ,GAIvChsB,IAAU+rB,GAASI,IAAeJ,GAASK,IAAeL,EAHnD/rB,GAOQ,OAAfA,EAAMzI,MAAiByI,EAAMqsB,OAASL,GAAYG,IAAeJ,IACjEI,EAAansB,EAAMuR,KACnBvR,EAAQA,EAAMA,OAGX,CACHzI,KAAM,KACNyI,MAAOA,EACPuR,KAAM4a,EACNE,KAAMD,IAId,SAASE,EAAep4B,GACpB,OACIA,EAAK6D,OAAS,GA5BA,KA6Bd7D,EAAKmD,WAAWnD,EAAK6D,OAAS,IA5Bf,KA6Bf7D,EAAKmD,WAAWnD,EAAK6D,OAAS,GAItC,SAASw0B,EAAgB5V,GACrB,MACkB,YAAdA,EAAKpf,MACS,cAAdof,EAAKpf,MACS,aAAdof,EAAKpf,MACS,SAAdof,EAAKpf,MAAmB+0B,EAAe3V,EAAKziB,MA6SpD,SAASs4B,EAAgB7uB,GACrB,GAAoB,mBAATA,EACP,MAAO,CACHpG,KAAM,UACN0D,GAAI0C,GAIZ,OAAQA,EAAKpG,MACT,IAAK,QACD,IAAImN,EAnThB,SAAS+nB,EAAqBhW,EAAYC,EAAOgW,GAC7C,OAAQjW,GACJ,IAAK,IAcD,IAFA,IAAI/R,EAASqnB,EAEJp4B,EAAI+iB,EAAM3e,OAAS,EAAGpE,GAAK,EAAGA,IAAK,CAGxC+Q,EAASwnB,EAFLvV,EAAOD,EAAM/iB,GAIb+Q,EACAsnB,GAIR,OAAOtnB,EAEX,IAAK,IAaGA,EAASsnB,EAAb,IACIjxB,EAAM,KAEV,IAASpH,EAAI+iB,EAAM3e,OAAS,EAAGpE,GAAK,EAAGA,IAAK,CAIxC,GAAI44B,EAHA5V,EAAOD,EAAM/iB,MAID,OAARoH,GAAgBpH,EAAI,GAAK44B,EAAgB7V,EAAM/iB,EAAI,MAEnD+Q,EAASwnB,EACL,CACI30B,KAAM,OACNwD,IAJRA,EAAM1G,OAAOY,OAAO,OAMhB82B,EACArnB,IAII,OAAR3J,GAAc,CACd,IAAI7F,GAAOo3B,EAAe3V,EAAKziB,MAAQyiB,EAAKziB,KAAK2U,MAAM,GAAI,GAAK8N,EAAKziB,MAAMkW,cAC3E,GAAIlV,KAAO6F,IAAQ,EAAO,CACtBA,EAAI7F,GAAOyhB,EACX,UAKZ5b,EAAM,KAGN2J,EAASwnB,EACLvV,EACAoV,EACArnB,GAIR,OAAOA,EAEX,IAAK,KAMD,GAAIgS,EAAM3e,OAAS,EACf,MAAO,CACHR,KAAM,YACNmf,MAAOA,EACP8M,KAAK,GA6Bb,IAFI9e,EAASsnB,EAEJr4B,EAAI+iB,EAAM3e,OAAS,EAAGpE,GAAK,EAAGA,IAAK,CACxC,IAAIgjB,EAAOD,EAAM/iB,GAIbg5B,EADAjW,EAAM3e,OAAS,EACF00B,EACThW,EACAC,EAAMlR,QAAO,SAASonB,GAClB,OAAOA,IAAiBjW,MAE5B,GAGSoV,EAGjBrnB,EAASwnB,EACLvV,EACAgW,EACAjoB,GAIR,OAAOA,EAEX,IAAK,KAMD,GAAIgS,EAAM3e,OAAS,EACf,MAAO,CACHR,KAAM,YACNmf,MAAOA,EACP8M,KAAK,GA6Bb,IAFI9e,EAASgoB,EAAwBX,EAAQC,EAEpCr4B,EAAI+iB,EAAM3e,OAAS,EAAGpE,GAAK,EAAGA,IAAK,CACxC,IACIg5B,EADAhW,EAAOD,EAAM/iB,GAIbg5B,EADAjW,EAAM3e,OAAS,EACF00B,EACThW,EACAC,EAAMlR,QAAO,SAASonB,GAClB,OAAOA,IAAiBjW,MAE5B,GAGSoV,EAGjBrnB,EAASwnB,EACLvV,EACAgW,EACAjoB,GAIR,OAAOA,GAmGM+nB,CACT9uB,EAAK8Y,WACL9Y,EAAK+Y,MAAM3b,IAAIyxB,IACf,GAWJ,OARI7uB,EAAKmZ,gBACLpS,EAASwnB,EACLxnB,EACAunB,EACAD,IAIDtnB,EAEX,IAAK,aACD,OAhHZ,SAAmC/G,GAC/B,IAAI+G,EAASqnB,EACTc,EAAYL,EAAgB7uB,EAAKgZ,MAErC,GAAiB,IAAbhZ,EAAKsK,IAEL4kB,EAAYX,EACRW,EACAZ,EACAD,IAKJtnB,EAASwnB,EACLW,EACA,KACAb,IAGGza,KAAO2a,EACVH,EACAA,EACArnB,GAGA/G,EAAKoZ,QACLrS,EAAO6M,KAAK8a,KAAOH,EACf,CAAE30B,KAAM,QAASwzB,OAAQptB,GACzB+G,EACAsnB,SAKR,IAAK,IAAIr4B,EAAIgK,EAAKyJ,KAAO,EAAGzT,GAAKgK,EAAKsK,IAAKtU,IACnCgK,EAAKoZ,OAASrS,IAAWqnB,IACzBrnB,EAASwnB,EACL,CAAE30B,KAAM,QAASwzB,OAAQptB,GACzB+G,EACAsnB,IAIRtnB,EAASwnB,EACLW,EACAX,EACIH,EACAA,EACArnB,GAEJsnB,GAKZ,GAAiB,IAAbruB,EAAKyJ,IAEL1C,EAASwnB,EACLH,EACAA,EACArnB,QAIJ,IAAS/Q,EAAI,EAAGA,EAAIgK,EAAKyJ,IAAM,EAAGzT,IAC1BgK,EAAKoZ,OAASrS,IAAWqnB,IACzBrnB,EAASwnB,EACL,CAAE30B,KAAM,QAASwzB,OAAQptB,GACzB+G,EACAsnB,IAIRtnB,EAASwnB,EACLW,EACAnoB,EACAsnB,GAKZ,OAAOtnB,EA8BQooB,CAA0BnvB,GAErC,IAAK,OACL,IAAK,WACD,MAAO,CACHpG,KAAMoG,EAAKpG,KACXrD,KAAMyJ,EAAKzJ,KACX62B,OAAQptB,GAGhB,IAAK,UACD,MAAO,CACHpG,KAAMoG,EAAKpG,KACXrD,KAAMyJ,EAAKzJ,KAAKkW,cAChB2gB,OAAQptB,GAGhB,IAAK,YACD,MAAO,CACHpG,KAAMoG,EAAKpG,KACXrD,KAAM,IAAMyJ,EAAKzJ,KAAKkW,cACtB2gB,OAAQptB,GAGhB,IAAK,WACD,MAAO,CACHpG,KAAMoG,EAAKpG,KACXrD,KAAMyJ,EAAKzJ,KAAKkW,cAAgB,IAChC2gB,OAAQptB,GAGhB,IAAK,SAED,OAA0B,IAAtBA,EAAK/I,MAAMmD,OACJ,CACHR,KAAM,QACN3C,MAAO+I,EAAK/I,MAAM+V,OAAO,GACzBogB,OAAQptB,GAKT,CACHpG,KAAMoG,EAAKpG,KACX3C,MAAO+I,EAAK/I,MAAMgjB,OAAO,EAAGja,EAAK/I,MAAMmD,OAAS,GAAGqI,QAAQ,OAAQ,KACnE2qB,OAAQptB,GAGhB,IAAK,QACD,MAAO,CACHpG,KAAMoG,EAAKpG,KACX3C,MAAO+I,EAAK/I,MACZm2B,OAAQptB,GAGhB,IAAK,QACD,MAAO,CACHpG,KAAMoG,EAAKpG,KACXwzB,OAAQptB,GAGhB,QACI,MAAM,IAAI8E,MAAM,qBAAsB9E,EAAKpG,OAIvDnE,EAAOD,QAAU,CACb44B,MAAOA,EACPC,SAAUA,EACVC,eAAgBA,EAChBO,gBAAiB,SAASO,EAAY5a,GAKlC,MAJ0B,iBAAf4a,IACPA,EAAa/vB,EAAM+vB,IAGhB,CACHx1B,KAAM,aACNyI,MAAOwsB,EAAgBO,GACvBhC,OAAQ5Y,GAAO,KACfnb,OAAQ+1B,M,gBCncpB,IAAIjmB,EAAU,EAAQ,GAAmBA,QACrCtQ,EAAS,EAAQ,GAAmBA,OACpCV,EAAO,EAAQ,GAAmBA,KAElCk3B,EAAQl3B,EAAKwC,MACb20B,EAASn3B,EAAK2C,OACdy0B,EAASp3B,EAAK4B,OACdy1B,EAAWr3B,EAAK+B,SAChBu1B,EAAMt3B,EAAKgC,IACXu1B,EAAOv3B,EAAKqD,KACZm0B,EAAYx3B,EAAK0B,UACjB+1B,EAAaz3B,EAAK2B,WAClB+1B,EAAkB13B,EAAKuD,gBACvBo0B,EAAoB33B,EAAKiE,kBACzB2zB,EAAQ53B,EAAKyD,MACbo0B,EAAQ73B,EAAKsD,MAQjBhG,EAAOD,QAAU,SAA2B6R,GACxC,OAAQxI,KAAKC,QAAQsB,WACjB,KAAKsvB,EACD,OAAO7wB,KAAK8M,WAEhB,KAAKokB,EAGD,OAFA1oB,EAAQ4oB,MAAQ,KAChB5oB,EAAQ6oB,eAAgB,EACjBrxB,KAAKiiB,WAEhB,KAAK+O,EACD,OAAOhxB,KAAKkiB,YAAYliB,KAAKsxB,aAAc9oB,EAAQ+oB,YAEvD,KAAKN,EACD,OAAOjxB,KAAKuhB,SAASvhB,KAAKsxB,aAAc9oB,EAAQ+oB,YAEpD,KAAKd,EACD,OAAOzwB,KAAK/D,SAEhB,KAAK60B,EACD,OAAO9wB,KAAKhF,YAEhB,KAAK+1B,EACD,OAAO/wB,KAAK/E,aAEhB,KAAKy1B,EACD,OAAO1wB,KAAK9E,SAEhB,KAAKy1B,EACD,OAAO32B,EAAOgG,KAAKC,QAAQzF,OAAQwF,KAAKC,QAAQI,WAAYL,KAAKC,QAAQqL,SAAU,QAC7EtL,KAAK1E,MACL0E,KAAK3E,SAAS2E,KAAKsxB,aAAc9oB,EAAQ+oB,YAEnD,KAAKX,EACD,OAAO5wB,KAAK1E,MAEhB,KAAKk1B,EAED,OAAIlmB,EAAQtK,KAAKC,QAAQzF,OAAQwF,KAAKC,QAAQI,WAxClD,MAyCQiK,EAAQtK,KAAKC,QAAQzF,OAAQwF,KAAKC,QAAQI,WAAa,EA5CxD,IA6CQL,KAAKiN,eAELjN,KAAK+M,aAGpB,KAAKokB,EACD,IAAI31B,EAAOwE,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,YAEvD,GAnDE,KAmDE7E,GAtDD,KAuDCA,GAtDD,KAuDCA,GAtDE,KAuDFA,EACA,OAAOwE,KAAKiiB,WA3DX,KAgEDzmB,GACAwE,KAAKyT,MAAM,gCAAiCzT,KAAKC,QAAQI,WAAa,M,cC/EtFzJ,EAAOD,QAAU,WACbqJ,KAAKC,QAAQkM,SAEb,IAAIM,EAAWzM,KAAKwxB,qBAChBxxB,KAAK4hB,cAKT,OAFA5hB,KAAKC,QAAQkM,SAENM,I,cCXX7V,EAAOD,QAAU,CACb6J,MAAO,WACH,OAAOR,KAAKwxB,qBACRxxB,KAAKwiB,mB,cCDjB5rB,EAAOD,QAAU,CACb6J,MAAO,WACH,OAAOR,KAAKwxB,qBACRxxB,KAAKgiB,KALK,O,cCEtBprB,EAAOD,QAAU,CACb6J,MAAO,WACH,OAAOR,KAAKwxB,qBACRxxB,KAAKgiB,KALQ,O,cCezBprB,EAAOD,QAAU,SAAwBwK,GACrCA,EAAKsL,SAASlE,MAAK,SAASpH,EAAM6G,EAAM9I,GAClB,eAAdiC,EAAKpG,MAAqD,SAA5BoG,EAAKzJ,KAAKkW,gBACpC1O,EAAKoI,OAASpI,EAAKqI,KAEnBS,EAAKnG,KAAO,CACR9G,KAAM,SACNgG,IAAKI,EAAKJ,IACV3I,MAAO,KAvB3B,SAA0C8G,EAAM8I,GAC5C,IAAI3I,EAAO2I,EAAK3I,KACZrB,EAAOgK,EAAKhK,KAEH,OAATA,EACuB,eAAnBA,EAAK6D,KAAK9G,MAAmC,OAATsE,GAAoC,eAAnBA,EAAKwC,KAAK9G,MAC/DmE,EAAKsK,OAAOxL,GAEA,OAATqB,GAAoC,eAAnBA,EAAKwC,KAAK9G,MAClCmE,EAAKsK,OAAOnK,GAGhBH,EAAKsK,OAAOxB,GAcAypB,CAAiCvyB,EAAM8I,S,6BCxBvD,IAAI0pB,EAAgB,EAAQ,IACxBjc,EAAU,EAAQ,IAClBkc,EAAQ,EAAQ,IAChBpc,EAAe,EAAQ,IACvBqc,EAAkB,EAAQ,IAC1BC,EAAU,EAAQ,IAClBltB,EAAQ,EAAQ,IAChBmtB,EAAkB,EAAQ,IAC1Bxc,EAAO,EAAQ,GAEnB1e,EAAOD,QAAUo7B,EAEjBA,EAAIh5B,UAAUmd,SA0Ed,SAAkB8b,EAAcnwB,GAC9B,IAAIuU,EACJ,GAA2B,iBAAhB4b,GAET,KADA5b,EAAIpW,KAAKiyB,UAAUD,IACX,MAAM,IAAI/rB,MAAM,8BAAgC+rB,EAAe,SAClE,CACL,IAAIE,EAAYlyB,KAAKmyB,WAAWH,GAChC5b,EAAI8b,EAAUhc,UAAYlW,KAAKmW,SAAS+b,GAG1C,IAAIE,EAAQhc,EAAEvU,IACG,IAAbuU,EAAEyQ,SAAiB7mB,KAAKqZ,OAASjD,EAAEiD,QACvC,OAAO+Y,GArFTL,EAAIh5B,UAAU2c,QAgGd,SAAiBhR,EAAQ2tB,GACvB,IAAIH,EAAYlyB,KAAKmyB,WAAWztB,OAAQ+D,EAAW4pB,GACnD,OAAOH,EAAUhc,UAAYlW,KAAKmW,SAAS+b,IAjG7CH,EAAIh5B,UAAUu5B,UA8Gd,SAAmB5tB,EAAQhM,EAAK65B,EAAiBF,GAC/C,GAAIh0B,MAAMC,QAAQoG,GAAQ,CACxB,IAAK,IAAIvN,EAAE,EAAGA,EAAEuN,EAAOnJ,OAAQpE,IAAK6I,KAAKsyB,UAAU5tB,EAAOvN,QAAIsR,EAAW8pB,EAAiBF,GAC1F,OAAOryB,KAET,IAAIsR,EAAKtR,KAAK2W,OAAOjS,GACrB,QAAW+D,IAAP6I,GAAiC,iBAANA,EAC7B,MAAM,IAAIrL,MAAM,4BAIlB,OAFAusB,EAAYxyB,KADZtH,EAAM+c,EAAQmB,YAAYle,GAAO4Y,IAEjCtR,KAAK8V,SAASpd,GAAOsH,KAAKmyB,WAAWztB,EAAQ6tB,EAAiBF,GAAO,GAC9DryB,MAxHT+xB,EAAIh5B,UAAU05B,cAqId,SAAuB/tB,EAAQhM,EAAKg6B,GAElC,OADA1yB,KAAKsyB,UAAU5tB,EAAQhM,EAAKg6B,GAAgB,GACrC1yB,MAtIT+xB,EAAIh5B,UAAU45B,eAiJd,SAAwBjuB,EAAQkuB,GAC9B,IAAI/K,EAAUnjB,EAAOmjB,QACrB,QAAgBpf,IAAZof,GAA2C,iBAAXA,EAClC,MAAM,IAAI5hB,MAAM,4BAElB,KADA4hB,EAAUA,GAAW7nB,KAAKgW,MAAM6c,aAgBlC,SAAqBvf,GACnB,IAAIwf,EAAOxf,EAAK0C,MAAM8c,KAMtB,OALAxf,EAAK0C,MAAM6c,YAA6B,iBAARC,EACJxf,EAAKqD,OAAOmc,IAASA,EACrBxf,EAAK2e,UAAUc,GACbA,OACAtqB,EACvB6K,EAAK0C,MAAM6c,YAvB6BA,CAAY7yB,OAIzD,OAFAA,KAAKqnB,OAAOC,KAAK,6BACjBtnB,KAAKqZ,OAAS,MACP,EAET,IAAI+Y,EAAQpyB,KAAKkW,SAAS2R,EAASnjB,GACnC,IAAK0tB,GAASQ,EAAiB,CAC7B,IAAI7Z,EAAU,sBAAwB/Y,KAAKgzB,aAC3C,GAAiC,OAA7BhzB,KAAKgW,MAAM2c,eACV,MAAM,IAAI1sB,MAAM8S,GADmB/Y,KAAKqnB,OAAO5T,MAAMsF,GAG5D,OAAOqZ,GAhKTL,EAAIh5B,UAAUk5B,UAqLd,SAAmBgB,GACjB,IAAIf,EAAYgB,EAAclzB,KAAMizB,GACpC,cAAef,GACb,IAAK,SAAU,OAAOA,EAAUhc,UAAYlW,KAAKmW,SAAS+b,GAC1D,IAAK,SAAU,OAAOlyB,KAAKiyB,UAAUC,GACrC,IAAK,YAAa,OAKtB,SAA4B5e,EAAMqC,GAChC,IAAIW,EAAMb,EAAQ/Q,OAAOpN,KAAKgc,EAAM,CAAE5O,OAAQ,IAAMiR,GACpD,GAAIW,EAAK,CACP,IAAI5R,EAAS4R,EAAI5R,OACbjO,EAAO6f,EAAI7f,KACX4f,EAASC,EAAID,OACbD,EAAIsb,EAAcp6B,KAAKgc,EAAM5O,EAAQjO,OAAMgS,EAAW4N,GAS1D,OARA/C,EAAK6f,WAAWxd,GAAO,IAAIJ,EAAa,CACtCI,IAAKA,EACLsC,UAAU,EACVvT,OAAQA,EACRjO,KAAMA,EACN4f,OAAQA,EACRH,SAAUE,IAELA,GApBkBgd,CAAmBpzB,KAAMizB,KAzLtDlB,EAAIh5B,UAAUs6B,aAiOd,SAAsBrB,GACpB,GAAIA,aAAwBvuB,OAG1B,OAFA6vB,EAAkBtzB,KAAMA,KAAK8V,SAAUkc,GACvCsB,EAAkBtzB,KAAMA,KAAK6V,MAAOmc,GAC7BhyB,KAET,cAAegyB,GACb,IAAK,YAIH,OAHAsB,EAAkBtzB,KAAMA,KAAK8V,UAC7Bwd,EAAkBtzB,KAAMA,KAAK6V,OAC7B7V,KAAKuzB,OAAOtqB,QACLjJ,KACT,IAAK,SACH,IAAIkyB,EAAYgB,EAAclzB,KAAMgyB,GAIpC,OAHIE,GAAWlyB,KAAKuzB,OAAOC,IAAItB,EAAUpyB,iBAClCE,KAAK8V,SAASkc,UACdhyB,KAAK6V,MAAMmc,GACXhyB,KACT,IAAK,SACH,IAAI2Y,EAAY3Y,KAAKgW,MAAM2C,UACvB7Y,EAAW6Y,EAAYA,EAAUqZ,GAAgBA,EACrDhyB,KAAKuzB,OAAOC,IAAI1zB,GAChB,IAAIwR,EAAKtR,KAAK2W,OAAOqb,GACjB1gB,IACFA,EAAKmE,EAAQmB,YAAYtF,UAClBtR,KAAK8V,SAASxE,UACdtR,KAAK6V,MAAMvE,IAGxB,OAAOtR,MA7PT+xB,EAAIh5B,UAAU06B,UA4Zd,SAAmB/7B,EAAMg8B,GACF,iBAAVA,IAAoBA,EAAS,IAAIjwB,OAAOiwB,IAEnD,OADA1zB,KAAK2zB,SAASj8B,GAAQg8B,EACf1zB,MA9ZT+xB,EAAIh5B,UAAUi6B,WAoYd,SAAoB3Z,EAAQ9K,GAE1B,KADA8K,EAASA,GAAUrZ,KAAKqZ,QACX,MAAO,YAMpB,IAJA,IAAIua,OAAkCnrB,KADtC8F,EAAUA,GAAW,IACGqlB,UAA0B,KAAOrlB,EAAQqlB,UAC7DtwB,OAA8BmF,IAApB8F,EAAQjL,QAAwB,OAASiL,EAAQjL,QAE3DuwB,EAAO,GACF18B,EAAE,EAAGA,EAAEkiB,EAAO9d,OAAQpE,IAAK,CAClC,IAAI28B,EAAIza,EAAOliB,GACX28B,IAAGD,GAAQvwB,EAAUwwB,EAAEC,SAAW,IAAMD,EAAE/a,QAAU6a,GAE1D,OAAOC,EAAKxnB,MAAM,GAAIunB,EAAUr4B,SA9YlCw2B,EAAIh5B,UAAUo5B,WA0Qd,SAAoBztB,EAAQguB,EAAgBI,EAAMkB,GAChD,GAAqB,iBAAVtvB,GAAuC,kBAAVA,EACtC,MAAM,IAAIuB,MAAM,sCAClB,IAAI0S,EAAY3Y,KAAKgW,MAAM2C,UACvB7Y,EAAW6Y,EAAYA,EAAUjU,GAAUA,EAC3CuvB,EAASj0B,KAAKuzB,OAAOv7B,IAAI8H,GAC7B,GAAIm0B,EAAQ,OAAOA,EAEnBD,EAAkBA,IAAgD,IAA7Bh0B,KAAKgW,MAAMke,cAEhD,IAAI5iB,EAAKmE,EAAQmB,YAAY5W,KAAK2W,OAAOjS,IACrC4M,GAAM0iB,GAAiBxB,EAAYxyB,KAAMsR,GAE7C,IACI6iB,EADAC,GAA6C,IAA9Bp0B,KAAKgW,MAAM2c,iBAA6BD,EAEvD0B,KAAkBD,EAAgB7iB,GAAMA,GAAMmE,EAAQmB,YAAYlS,EAAOmjB,WAC3E7nB,KAAK2yB,eAAejuB,GAAQ,GAE9B,IAAI6S,EAAY9B,EAAQ0B,IAAI7f,KAAK0I,KAAM0E,GAEnCwtB,EAAY,IAAI3c,EAAa,CAC/BjE,GAAIA,EACJ5M,OAAQA,EACR6S,UAAWA,EACXzX,SAAUA,EACVgzB,KAAMA,IAGK,KAATxhB,EAAG,IAAa0iB,IAAiBh0B,KAAK6V,MAAMvE,GAAM4gB,GACtDlyB,KAAKuzB,OAAOc,IAAIv0B,EAAUoyB,GAEtBkC,GAAgBD,GAAen0B,KAAK2yB,eAAejuB,GAAQ,GAE/D,OAAOwtB,GA1STH,EAAIh5B,UAAUod,SA+Sd,SAAkB+b,EAAWz7B,GAC3B,GAAIy7B,EAAUoC,UAOZ,OANApC,EAAUhc,SAAWqe,EACrBA,EAAa7vB,OAASwtB,EAAUxtB,OAChC6vB,EAAalb,OAAS,KACtBkb,EAAa99B,KAAOA,GAAc89B,GACF,IAA5BrC,EAAUxtB,OAAOmiB,SACnB0N,EAAa1N,QAAS,GACjB0N,EAIT,IAAIC,EAMApe,EARJ8b,EAAUoC,WAAY,EAGlBpC,EAAUY,OACZ0B,EAAcx0B,KAAKgW,MACnBhW,KAAKgW,MAAQhW,KAAKy0B,WAIpB,IAAMre,EAAIsb,EAAcp6B,KAAK0I,KAAMkyB,EAAUxtB,OAAQjO,EAAMy7B,EAAU3a,WACrE,MAAMuc,GAEJ,aADO5B,EAAUhc,SACX4d,EAER,QACE5B,EAAUoC,WAAY,EAClBpC,EAAUY,OAAM9yB,KAAKgW,MAAQwe,GAOnC,OAJAtC,EAAUhc,SAAWE,EACrB8b,EAAUwC,KAAOte,EAAEse,KACnBxC,EAAUtc,OAASQ,EAAER,OACrBsc,EAAUz7B,KAAO2f,EAAE3f,KACZ2f,EAIP,SAASme,IAEP,IAAII,EAAYzC,EAAUhc,SACtBhO,EAASysB,EAAU51B,MAAMiB,KAAMke,WAEnC,OADAqW,EAAalb,OAASsb,EAAUtb,OACzBnR,IAvVX6pB,EAAIh5B,UAAU67B,aAAe,EAAQ,IACrC,IAAIC,EAAgB,EAAQ,IAC5B9C,EAAIh5B,UAAU+7B,WAAaD,EAAcrgB,IACzCud,EAAIh5B,UAAUg8B,WAAaF,EAAc78B,IACzC+5B,EAAIh5B,UAAUi8B,cAAgBH,EAAcrrB,OAC5CuoB,EAAIh5B,UAAUk8B,gBAAkBJ,EAAc3e,SAE9C,IAAIgf,EAAe,EAAQ,IAC3BnD,EAAIoD,gBAAkBD,EAAa9b,WACnC2Y,EAAIjZ,gBAAkBoc,EAAa1b,WACnCuY,EAAID,gBAAkBA,EAEtB,IAAIiB,EAAiB,yCAEjBqC,EAAsB,CAAE,mBAAoB,cAAe,cAAe,kBAC1EC,EAAoB,CAAC,eAQzB,SAAStD,EAAIvX,GACX,KAAMxa,gBAAgB+xB,GAAM,OAAO,IAAIA,EAAIvX,GAC3CA,EAAOxa,KAAKgW,MAAQV,EAAKnT,KAAKqY,IAAS,GAwbzC,SAAmBlH,GACjB,IAAI+T,EAAS/T,EAAK0C,MAAMqR,OACxB,IAAe,IAAXA,EACF/T,EAAK+T,OAAS,CAACiO,IAAK1b,EAAM0N,KAAM1N,EAAMnG,MAAOmG,OACxC,CAEL,QADenR,IAAX4e,IAAsBA,EAAS7T,WACZ,iBAAV6T,GAAsBA,EAAOiO,KAAOjO,EAAOC,MAAQD,EAAO5T,OACrE,MAAM,IAAIxN,MAAM,qDAClBqN,EAAK+T,OAASA,GA/bhBkO,CAAUv1B,MACVA,KAAK8V,SAAW,GAChB9V,KAAK6V,MAAQ,GACb7V,KAAKmzB,WAAa,GAClBnzB,KAAK2zB,SAAW9B,EAAQrX,EAAKkZ,QAE7B1zB,KAAKuzB,OAAS/Y,EAAK7a,OAAS,IAAIgyB,EAChC3xB,KAAKw1B,gBAAkB,GACvBx1B,KAAKy1B,cAAgB,GACrBz1B,KAAK+mB,MAAQpiB,IACb3E,KAAK2W,OAwTP,SAAqB6D,GACnB,OAAQA,EAAKpD,UACX,IAAK,OAAQ,OAAOse,EACpB,IAAK,KAAM,OAAO/e,EAClB,QAAS,OAAOgf,GA5TJC,CAAYpb,GAE1BA,EAAKqb,aAAerb,EAAKqb,cAAgBpd,IACf,YAAtB+B,EAAKsb,gBAA6Btb,EAAKub,wBAAyB,QAC7CttB,IAAnB+R,EAAK7B,YAAyB6B,EAAK7B,UAAYiZ,GACnD5xB,KAAKy0B,UAgaP,SAA8BnhB,GAE5B,IADA,IAAI0iB,EAAW1gB,EAAKnT,KAAKmR,EAAK0C,OACrB7e,EAAE,EAAGA,EAAEi+B,EAAoB75B,OAAQpE,WACnC6+B,EAASZ,EAAoBj+B,IACtC,OAAO6+B,EApaUC,CAAqBj2B,MAElCwa,EAAKqX,SAwYX,SAA2Bve,GACzB,IAAK,IAAI5b,KAAQ4b,EAAK0C,MAAM6b,QAAS,CACnC,IAAI6B,EAASpgB,EAAK0C,MAAM6b,QAAQn6B,GAChC4b,EAAKmgB,UAAU/7B,EAAMg8B,IA3YLwC,CAAkBl2B,MAChCwa,EAAKG,UA+YX,SAA4BrH,GAC1B,IAAK,IAAI5b,KAAQ4b,EAAK0C,MAAM2E,SAAU,CACpC,IAAII,EAAUzH,EAAK0C,MAAM2E,SAASjjB,GAClC4b,EAAKwhB,WAAWp9B,EAAMqjB,IAlZLob,CAAmBn2B,MAiXxC,SAA8BsT,GAC5B,IAAI8iB,EACA9iB,EAAK0C,MAAMtQ,QACb0wB,EAAc,EAAQ,IACtB9iB,EAAKmf,cAAc2D,EAAaA,EAAYnP,KAAK,IAEnD,IAAwB,IAApB3T,EAAK0C,MAAM8c,KAAgB,OAC/B,IAAIuD,EAAa,EAAQ,IACrB/iB,EAAK0C,MAAMtQ,QAAO2wB,EAAavE,EAAgBuE,EAAYhB,IAC/D/hB,EAAKmf,cAAc4D,EAAYtD,GAAgB,GAC/Czf,EAAKuC,MAAM,iCAAmCkd,EA1X9CuD,CAAqBt2B,MACG,iBAAbwa,EAAKsY,MAAkB9yB,KAAKyyB,cAAcjY,EAAKsY,MACtDtY,EAAK6O,UAAUrpB,KAAK80B,WAAW,WAAY,CAACuB,WAAY,CAACt7B,KAAM,aA4XrE,SAA2BuY,GACzB,IAAIijB,EAAcjjB,EAAK0C,MAAMwgB,QAC7B,IAAKD,EAAa,OAClB,GAAIl4B,MAAMC,QAAQi4B,GAAcjjB,EAAKgf,UAAUiE,QAC1C,IAAK,IAAI79B,KAAO69B,EAAajjB,EAAKgf,UAAUiE,EAAY79B,GAAMA,GA/XnE+9B,CAAkBz2B,MA2JpB,SAASkzB,EAAc5f,EAAM2f,GAE3B,OADAA,EAASxd,EAAQmB,YAAYqc,GACtB3f,EAAKwC,SAASmd,IAAW3f,EAAKuC,MAAMod,IAAW3f,EAAK6f,WAAWF,GA8CxE,SAASK,EAAkBhgB,EAAMkjB,EAASE,GACxC,IAAK,IAAIzD,KAAUuD,EAAS,CAC1B,IAAItE,EAAYsE,EAAQvD,GACnBf,EAAUY,MAAU4D,IAASA,EAAM1wB,KAAKitB,KAC3C3f,EAAKigB,OAAOC,IAAItB,EAAUpyB,iBACnB02B,EAAQvD,KAqGrB,SAAStc,EAAOjS,GAEd,OADIA,EAAOuiB,KAAKjnB,KAAKqnB,OAAOC,KAAK,qBAAsB5iB,EAAOuiB,KACvDviB,EAAO4M,GAIhB,SAASqkB,EAAQjxB,GAEf,OADIA,EAAO4M,IAAItR,KAAKqnB,OAAOC,KAAK,oBAAqB5iB,EAAO4M,IACrD5M,EAAOuiB,IAIhB,SAASyO,EAAYhxB,GACnB,GAAIA,EAAOuiB,KAAOviB,EAAO4M,IAAM5M,EAAOuiB,KAAOviB,EAAO4M,GAClD,MAAM,IAAIrL,MAAM,mCAClB,OAAOvB,EAAOuiB,KAAOviB,EAAO4M,GA+E9B,SAASkhB,EAAYlf,EAAMhC,GACzB,GAAIgC,EAAKwC,SAASxE,IAAOgC,EAAKuC,MAAMvE,GAClC,MAAM,IAAIrL,MAAM,0BAA4BqL,EAAK,oBAyBrD,SAASsI,O,gBCzfT,IAAI+c,EAAU,EAAQ,GAClBn2B,EAAQm2B,EAAQn2B,MAChBo2B,EAAW,EAAQ,KACnB11B,EAAWy1B,EAAQz1B,SAEvB,SAAS21B,EAAYn/B,EAAM6W,EAASuoB,EAAWj1B,GAK3C,OAJI0M,EAAQwoB,OACRvjB,QAAQC,MAAM,MAAQ/b,EAAO,mBAAoBqc,KAAKijB,MAAQF,GAG3Dj1B,EAuCX,SAASo1B,EAAqB1oB,GApC9B,IAA6B6Q,EACrB8X,EA0CJ,MAJ8B,mBAF9B3oB,EAXJ,SAAc/O,GACV,IAAI0I,EAAS,GAEb,IAAK,IAAIxP,KAAO8G,EACZ0I,EAAOxP,GAAO8G,EAAI9G,GAGtB,OAAOwP,EAIG/F,CAAKoM,IAEI8Y,QAAyB9Y,EAAQwoB,QAChDxoB,EAAQ8Y,QAxCajI,EAwCgB7Q,EAAQwoB,MArC1C,SAAgBI,EAAOC,GAC1B,IAAIrK,EAAOoK,EAMX,GAJIC,IACArK,EAAO,MAAQhZ,KAAKijB,MAAQE,GAAa,KAAMG,QAAQ,GAAK,MAAQtK,GAGpE3N,EAAQ,GAAKgY,EAAK,CAClB,IAAI/lB,EAAMnQ,EAASk2B,GAGL,IAAVhY,GAAe/N,EAAI9V,OAAS,MAC5B8V,EAAMA,EAAI+J,OAAO,EAAG,KAAO,OAG/B2R,GAAQ,OAAS1b,EAAM,KAG3BmC,QAAQC,MAAMsZ,GACdmK,EAAYnjB,KAAKijB,SAqBdzoB,EAGX,SAAS+oB,EAAWF,EAAK7oB,EAASgpB,GACzBl5B,MAAMC,QAAQi5B,KACfA,EAAW,CAACA,IAGhBA,EAASr5B,SAAQ,SAASO,GACtBA,EAAG24B,EAAK7oB,MAIhB,SAASipB,EAAOhvB,EAAShO,EAAQ+T,GAG7B,IAAIkpB,GAFJlpB,EAAUA,GAAW,IAEEkpB,UAAY,YAI/BL,EAAMP,EAAY,UAAWtoB,EAASwF,KAAKijB,MAC3Cx2B,EAAMhG,EAAQ,CACVgO,QAASA,EACTivB,SAAUA,EACVC,UAAWhd,QAAQnM,EAAQopB,cAK/BppB,EAAQqpB,gBACRf,EAAY,iBAAkBtoB,EAASwF,KAAKijB,MACxCM,EAAWF,EAAK7oB,EAASA,EAAQqpB,iBAKzC,IAcYC,EAdRC,EAAiBjB,EAAY,WAAYtoB,EAASwF,KAAKijB,MACvDJ,EAASQ,EAAKH,EAAqB1oB,KAyBvC,OArBIA,EAAQwpB,eACRlB,EAAY,gBAAiBtoB,EAASwF,KAAKijB,MACvCM,EAAWQ,EAAgBvpB,EAASA,EAAQwpB,gBAKhDxpB,EAAQopB,UACCd,EAAY,4BAA6BtoB,EAASwF,KAAKijB,QACxDa,EAAM32B,EAAS42B,EAAeV,IAAK,CAAEO,WAAW,KAChDp5B,IAAIy5B,MAAQP,EAChBI,EAAIt5B,IAAI05B,iBAAiBR,EAAUj9B,GAC5Bq9B,IAGFhB,EAAY,WAAYtoB,EAASwF,KAAKijB,MAAO,CAClD3lB,IAAKnQ,EAAS42B,EAAeV,KAC7B74B,IAAK,OAejB3H,EAAOD,QAAU,CACbuhC,QAAS,EAAQ,KAAmBA,QAGpCV,OAZJ,SAA0Bh9B,EAAQ+T,GAC9B,OAAOipB,EAAO,aAAch9B,EAAQ+T,IAYpC4pB,YATJ,SAAqB39B,EAAQ+T,GACzB,OAAOipB,EAAO,kBAAmBh9B,EAAQ+T,IAWzCggB,OAAQ12B,OAAOyH,OAAO,CAClBs3B,SAAUA,GACXD,K,gBCvIP,EAAQ,IACR//B,EAAOD,QAAU2c,KAAK8kB,MAAMz/B,KAAK2a,O,6BCLjC,uNAAI+kB,EACY,oBAAqB/kB,KADjC+kB,EAEQ,WAAY/kB,MAAQ,aAAcpb,OAF1CmgC,EAIA,eAAgB/kB,MAChB,SAAUA,MACV,WACE,IAEE,OADA,IAAIglB,MACG,EACP,MAAOxE,GACP,OAAO,GALX,GANAuE,EAcQ,aAAc/kB,KAdtB+kB,EAeW,gBAAiB/kB,KAOhC,GAAI+kB,EACF,IAAIE,EAAc,CAChB,qBACA,sBACA,6BACA,sBACA,uBACA,sBACA,uBACA,wBACA,yBAGEC,EACF5jB,YAAYC,QACZ,SAASrV,GACP,OAAOA,GAAO+4B,EAAYr7B,QAAQrF,OAAOkB,UAAU+Y,SAASxa,KAAKkI,KAAS,GAIhF,SAASi5B,EAAc/gC,GAIrB,GAHoB,iBAATA,IACTA,EAAOuE,OAAOvE,IAEZ,4BAA4BsO,KAAKtO,GACnC,MAAM,IAAI8uB,UAAU,0CAEtB,OAAO9uB,EAAKkW,cAGd,SAAS8qB,EAAetgC,GAItB,MAHqB,iBAAVA,IACTA,EAAQ6D,OAAO7D,IAEVA,EAIT,SAASugC,EAAY5N,GACnB,IAAIta,EAAW,CACbzS,KAAM,WACJ,IAAI5F,EAAQ2yB,EAAMphB,QAClB,MAAO,CAACivB,UAAgBnwB,IAAVrQ,EAAqBA,MAAOA,KAU9C,OANIigC,IACF5nB,EAASvY,OAAOuY,UAAY,WAC1B,OAAOA,IAIJA,EAGF,SAASooB,EAAQC,GACtB94B,KAAKzB,IAAM,GAEPu6B,aAAmBD,EACrBC,EAAQ56B,SAAQ,SAAS9F,EAAOV,GAC9BsI,KAAKqJ,OAAO3R,EAAMU,KACjB4H,MACM3B,MAAMC,QAAQw6B,GACvBA,EAAQ56B,SAAQ,SAAS66B,GACvB/4B,KAAKqJ,OAAO0vB,EAAO,GAAIA,EAAO,MAC7B/4B,MACM84B,GACTjhC,OAAOma,oBAAoB8mB,GAAS56B,SAAQ,SAASxG,GACnDsI,KAAKqJ,OAAO3R,EAAMohC,EAAQphC,MACzBsI,MAgEP,SAASg5B,EAASC,GAChB,GAAIA,EAAKC,SACP,OAAOC,QAAQC,OAAO,IAAI5S,UAAU,iBAEtCyS,EAAKC,UAAW,EAGlB,SAASG,EAAgBC,GACvB,OAAO,IAAIH,SAAQ,SAAS1jB,EAAS2jB,GACnCE,EAAOC,OAAS,WACd9jB,EAAQ6jB,EAAOpxB,SAEjBoxB,EAAOE,QAAU,WACfJ,EAAOE,EAAO7lB,WAKpB,SAASgmB,EAAsBC,GAC7B,IAAIJ,EAAS,IAAIK,WACbC,EAAUP,EAAgBC,GAE9B,OADAA,EAAOO,kBAAkBH,GAClBE,EAoBT,SAASE,EAAYC,GACnB,GAAIA,EAAI1tB,MACN,OAAO0tB,EAAI1tB,MAAM,GAEjB,IAAI2tB,EAAO,IAAIC,WAAWF,EAAIG,YAE9B,OADAF,EAAKjnB,IAAI,IAAIknB,WAAWF,IACjBC,EAAKllB,OAIhB,SAASqlB,IA0FP,OAzFAn6B,KAAKk5B,UAAW,EAEhBl5B,KAAKo6B,UAAY,SAASnB,GAhM5B,IAAoBz5B,EAiMhBQ,KAAKq6B,UAAYpB,EACZA,EAEsB,iBAATA,EAChBj5B,KAAKs6B,UAAYrB,EACRZ,GAAgBC,KAAKv/B,UAAUwhC,cAActB,GACtDj5B,KAAKw6B,UAAYvB,EACRZ,GAAoBoC,SAAS1hC,UAAUwhC,cAActB,GAC9Dj5B,KAAK06B,cAAgBzB,EACZZ,GAAwBsC,gBAAgB5hC,UAAUwhC,cAActB,GACzEj5B,KAAKs6B,UAAYrB,EAAKnnB,WACbumB,GAAuBA,KA5MlB74B,EA4M6Cy5B,IA3MjD2B,SAAS7hC,UAAUwhC,cAAc/6B,KA4M3CQ,KAAK66B,iBAAmBf,EAAYb,EAAKnkB,QAEzC9U,KAAKq6B,UAAY,IAAI/B,KAAK,CAACt4B,KAAK66B,oBACvBxC,IAAwBzjB,YAAY7b,UAAUwhC,cAActB,IAAST,EAAkBS,IAChGj5B,KAAK66B,iBAAmBf,EAAYb,GAEpCj5B,KAAKs6B,UAAYrB,EAAOphC,OAAOkB,UAAU+Y,SAASxa,KAAK2hC,GAhBvDj5B,KAAKs6B,UAAY,GAmBdt6B,KAAK84B,QAAQ9gC,IAAI,kBACA,iBAATihC,EACTj5B,KAAK84B,QAAQ/lB,IAAI,eAAgB,4BACxB/S,KAAKw6B,WAAax6B,KAAKw6B,UAAUz/B,KAC1CiF,KAAK84B,QAAQ/lB,IAAI,eAAgB/S,KAAKw6B,UAAUz/B,MACvCs9B,GAAwBsC,gBAAgB5hC,UAAUwhC,cAActB,IACzEj5B,KAAK84B,QAAQ/lB,IAAI,eAAgB,qDAKnCslB,IACFr4B,KAAK05B,KAAO,WACV,IAAIoB,EAAW9B,EAASh5B,MACxB,GAAI86B,EACF,OAAOA,EAGT,GAAI96B,KAAKw6B,UACP,OAAOrB,QAAQ1jB,QAAQzV,KAAKw6B,WACvB,GAAIx6B,KAAK66B,iBACd,OAAO1B,QAAQ1jB,QAAQ,IAAI6iB,KAAK,CAACt4B,KAAK66B,oBACjC,GAAI76B,KAAK06B,cACd,MAAM,IAAIz0B,MAAM,wCAEhB,OAAOkzB,QAAQ1jB,QAAQ,IAAI6iB,KAAK,CAACt4B,KAAKs6B,cAI1Ct6B,KAAK+6B,YAAc,WACjB,OAAI/6B,KAAK66B,iBACA7B,EAASh5B,OAASm5B,QAAQ1jB,QAAQzV,KAAK66B,kBAEvC76B,KAAK05B,OAAO3kB,KAAK0kB,KAK9Bz5B,KAAK6zB,KAAO,WACV,IA3FoB6F,EAClBJ,EACAM,EAyFEkB,EAAW9B,EAASh5B,MACxB,GAAI86B,EACF,OAAOA,EAGT,GAAI96B,KAAKw6B,UACP,OAjGkBd,EAiGI15B,KAAKw6B,UAhG3BlB,EAAS,IAAIK,WACbC,EAAUP,EAAgBC,GAC9BA,EAAO0B,WAAWtB,GACXE,EA8FE,GAAI55B,KAAK66B,iBACd,OAAO1B,QAAQ1jB,QA5FrB,SAA+BskB,GAI7B,IAHA,IAAIC,EAAO,IAAIC,WAAWF,GACtBkB,EAAQ,IAAI58B,MAAM27B,EAAKz+B,QAElBpE,EAAI,EAAGA,EAAI6iC,EAAKz+B,OAAQpE,IAC/B8jC,EAAM9jC,GAAK8E,OAAO0f,aAAaqe,EAAK7iC,IAEtC,OAAO8jC,EAAM7sB,KAAK,IAqFS8sB,CAAsBl7B,KAAK66B,mBAC7C,GAAI76B,KAAK06B,cACd,MAAM,IAAIz0B,MAAM,wCAEhB,OAAOkzB,QAAQ1jB,QAAQzV,KAAKs6B,YAI5BjC,IACFr4B,KAAKm7B,SAAW,WACd,OAAOn7B,KAAK6zB,OAAO9e,KAAKqmB,KAI5Bp7B,KAAKq7B,KAAO,WACV,OAAOr7B,KAAK6zB,OAAO9e,KAAK6L,KAAKpgB,QAGxBR,KA1MT64B,EAAQ9/B,UAAUsQ,OAAS,SAAS3R,EAAMU,GACxCV,EAAO+gC,EAAc/gC,GACrBU,EAAQsgC,EAAetgC,GACvB,IAAIkjC,EAAWt7B,KAAKzB,IAAI7G,GACxBsI,KAAKzB,IAAI7G,GAAQ4jC,EAAWA,EAAW,KAAOljC,EAAQA,GAGxDygC,EAAQ9/B,UAAkB,OAAI,SAASrB,UAC9BsI,KAAKzB,IAAIk6B,EAAc/gC,KAGhCmhC,EAAQ9/B,UAAUf,IAAM,SAASN,GAE/B,OADAA,EAAO+gC,EAAc/gC,GACdsI,KAAK4T,IAAIlc,GAAQsI,KAAKzB,IAAI7G,GAAQ,MAG3CmhC,EAAQ9/B,UAAU6a,IAAM,SAASlc,GAC/B,OAAOsI,KAAKzB,IAAIvF,eAAey/B,EAAc/gC,KAG/CmhC,EAAQ9/B,UAAUga,IAAM,SAASrb,EAAMU,GACrC4H,KAAKzB,IAAIk6B,EAAc/gC,IAASghC,EAAetgC,IAGjDygC,EAAQ9/B,UAAUmF,QAAU,SAASq9B,EAAUC,GAC7C,IAAK,IAAI9jC,KAAQsI,KAAKzB,IAChByB,KAAKzB,IAAIvF,eAAetB,IAC1B6jC,EAASjkC,KAAKkkC,EAASx7B,KAAKzB,IAAI7G,GAAOA,EAAMsI,OAKnD64B,EAAQ9/B,UAAUkF,KAAO,WACvB,IAAI8sB,EAAQ,GAIZ,OAHA/qB,KAAK9B,SAAQ,SAAS9F,EAAOV,GAC3BqzB,EAAMnsB,KAAKlH,MAENihC,EAAY5N,IAGrB8N,EAAQ9/B,UAAU0iC,OAAS,WACzB,IAAI1Q,EAAQ,GAIZ,OAHA/qB,KAAK9B,SAAQ,SAAS9F,GACpB2yB,EAAMnsB,KAAKxG,MAENugC,EAAY5N,IAGrB8N,EAAQ9/B,UAAU81B,QAAU,WAC1B,IAAI9D,EAAQ,GAIZ,OAHA/qB,KAAK9B,SAAQ,SAAS9F,EAAOV,GAC3BqzB,EAAMnsB,KAAK,CAAClH,EAAMU,OAEbugC,EAAY5N,IAGjBsN,IACFQ,EAAQ9/B,UAAUb,OAAOuY,UAAYooB,EAAQ9/B,UAAU81B,SAqJzD,IAAI6M,EAAU,CAAC,SAAU,MAAO,OAAQ,UAAW,OAAQ,OAOpD,SAASC,EAAQzM,EAAO3gB,GAE7B,IAPuBqtB,EACnBC,EAMA5C,GADJ1qB,EAAUA,GAAW,IACF0qB,KAEnB,GAAI/J,aAAiByM,EAAS,CAC5B,GAAIzM,EAAMgK,SACR,MAAM,IAAI1S,UAAU,gBAEtBxmB,KAAKkX,IAAMgY,EAAMhY,IACjBlX,KAAK87B,YAAc5M,EAAM4M,YACpBvtB,EAAQuqB,UACX94B,KAAK84B,QAAU,IAAID,EAAQ3J,EAAM4J,UAEnC94B,KAAK47B,OAAS1M,EAAM0M,OACpB57B,KAAK1H,KAAO42B,EAAM52B,KAClB0H,KAAK+7B,OAAS7M,EAAM6M,OACf9C,GAA2B,MAAnB/J,EAAMmL,YACjBpB,EAAO/J,EAAMmL,UACbnL,EAAMgK,UAAW,QAGnBl5B,KAAKkX,IAAMjb,OAAOizB,GAYpB,GATAlvB,KAAK87B,YAAcvtB,EAAQutB,aAAe97B,KAAK87B,aAAe,eAC1DvtB,EAAQuqB,SAAY94B,KAAK84B,UAC3B94B,KAAK84B,QAAU,IAAID,EAAQtqB,EAAQuqB,UAErC94B,KAAK47B,QAjCkBA,EAiCOrtB,EAAQqtB,QAAU57B,KAAK47B,QAAU,MAhC3DC,EAAUD,EAAO7tB,cACd2tB,EAAQx+B,QAAQ2+B,IAAY,EAAIA,EAAUD,GAgCjD57B,KAAK1H,KAAOiW,EAAQjW,MAAQ0H,KAAK1H,MAAQ,KACzC0H,KAAK+7B,OAASxtB,EAAQwtB,QAAU/7B,KAAK+7B,OACrC/7B,KAAKg8B,SAAW,MAEK,QAAhBh8B,KAAK47B,QAAoC,SAAhB57B,KAAK47B,SAAsB3C,EACvD,MAAM,IAAIzS,UAAU,6CAEtBxmB,KAAKo6B,UAAUnB,GAOjB,SAASmC,EAAOnC,GACd,IAAIgD,EAAO,IAAIxB,SAYf,OAXAxB,EACGiD,OACA91B,MAAM,KACNlI,SAAQ,SAASi+B,GAChB,GAAIA,EAAO,CACT,IAAI/1B,EAAQ+1B,EAAM/1B,MAAM,KACpB1O,EAAO0O,EAAMuD,QAAQ/F,QAAQ,MAAO,KACpCxL,EAAQgO,EAAMgI,KAAK,KAAKxK,QAAQ,MAAO,KAC3Cq4B,EAAK5yB,OAAO7C,mBAAmB9O,GAAO8O,mBAAmBpO,QAGxD6jC,EAqBF,SAASG,EAASC,EAAU9tB,GAC5BA,IACHA,EAAU,IAGZvO,KAAKjF,KAAO,UACZiF,KAAKs8B,YAA4B7zB,IAAnB8F,EAAQ+tB,OAAuB,IAAM/tB,EAAQ+tB,OAC3Dt8B,KAAKu8B,GAAKv8B,KAAKs8B,QAAU,KAAOt8B,KAAKs8B,OAAS,IAC9Ct8B,KAAKw8B,WAAa,eAAgBjuB,EAAUA,EAAQiuB,WAAa,KACjEx8B,KAAK84B,QAAU,IAAID,EAAQtqB,EAAQuqB,SACnC94B,KAAKkX,IAAM3I,EAAQ2I,KAAO,GAC1BlX,KAAKo6B,UAAUiC,GAjDjBV,EAAQ5iC,UAAU+Z,MAAQ,WACxB,OAAO,IAAI6oB,EAAQ37B,KAAM,CAACi5B,KAAMj5B,KAAKq6B,aAmCvCF,EAAK7iC,KAAKqkC,EAAQ5iC,WAgBlBohC,EAAK7iC,KAAK8kC,EAASrjC,WAEnBqjC,EAASrjC,UAAU+Z,MAAQ,WACzB,OAAO,IAAIspB,EAASp8B,KAAKq6B,UAAW,CAClCiC,OAAQt8B,KAAKs8B,OACbE,WAAYx8B,KAAKw8B,WACjB1D,QAAS,IAAID,EAAQ74B,KAAK84B,SAC1B5hB,IAAKlX,KAAKkX,OAIdklB,EAAS3oB,MAAQ,WACf,IAAIgpB,EAAW,IAAIL,EAAS,KAAM,CAACE,OAAQ,EAAGE,WAAY,KAE1D,OADAC,EAAS1hC,KAAO,QACT0hC,GAGT,IAAIC,EAAmB,CAAC,IAAK,IAAK,IAAK,IAAK,KAE5CN,EAASO,SAAW,SAASzlB,EAAKolB,GAChC,IAA0C,IAAtCI,EAAiBx/B,QAAQo/B,GAC3B,MAAM,IAAIM,WAAW,uBAGvB,OAAO,IAAIR,EAAS,KAAM,CAACE,OAAQA,EAAQxD,QAAS,CAACpoB,SAAUwG,MAG1D,IAAI2lB,EAAevpB,KAAKupB,aAC/B,IACE,IAAIA,EACJ,MAAOC,IACPD,EAAe,SAAS9jB,EAASrhB,GAC/BsI,KAAK+Y,QAAUA,EACf/Y,KAAKtI,KAAOA,EACZ,IAAI+b,EAAQxN,MAAM8S,GAClB/Y,KAAK2Z,MAAQlG,EAAMkG,QAER5gB,UAAYlB,OAAOY,OAAOwN,MAAMlN,WAC7C8jC,EAAa9jC,UAAUyZ,YAAcqqB,EAGhC,SAASzE,EAAMlJ,EAAO6N,GAC3B,OAAO,IAAI5D,SAAQ,SAAS1jB,EAAS2jB,GACnC,IAAI4D,EAAU,IAAIrB,EAAQzM,EAAO6N,GAEjC,GAAIC,EAAQjB,QAAUiB,EAAQjB,OAAOkB,QACnC,OAAO7D,EAAO,IAAIyD,EAAa,UAAW,eAG5C,IAAIK,EAAM,IAAIC,eAEd,SAASC,IACPF,EAAIG,QAGNH,EAAI3D,OAAS,WACX,IAxFgB+D,EAChBxE,EAuFIvqB,EAAU,CACZ+tB,OAAQY,EAAIZ,OACZE,WAAYU,EAAIV,WAChB1D,SA3FcwE,EA2FQJ,EAAIK,yBAA2B,GA1FvDzE,EAAU,IAAID,EAGQyE,EAAW15B,QAAQ,eAAgB,KACzCwC,MAAM,SAASlI,SAAQ,SAAS6uB,GAClD,IAAI7U,EAAQ6U,EAAK3mB,MAAM,KACnB1N,EAAMwf,EAAMvO,QAAQuyB,OACxB,GAAIxjC,EAAK,CACP,IAAIN,EAAQ8f,EAAM9J,KAAK,KAAK8tB,OAC5BpD,EAAQzvB,OAAO3Q,EAAKN,OAGjB0gC,IAgFHvqB,EAAQ2I,IAAM,gBAAiBgmB,EAAMA,EAAIM,YAAcjvB,EAAQuqB,QAAQ9gC,IAAI,iBAC3E,IAAIihC,EAAO,aAAciE,EAAMA,EAAIT,SAAWS,EAAIO,aAClDhoB,EAAQ,IAAI2mB,EAASnD,EAAM1qB,KAG7B2uB,EAAI1D,QAAU,WACZJ,EAAO,IAAI5S,UAAU,4BAGvB0W,EAAIQ,UAAY,WACdtE,EAAO,IAAI5S,UAAU,4BAGvB0W,EAAIS,QAAU,WACZvE,EAAO,IAAIyD,EAAa,UAAW,gBAGrCK,EAAIU,KAAKZ,EAAQpB,OAAQoB,EAAQ9lB,KAAK,GAEV,YAAxB8lB,EAAQlB,YACVoB,EAAIW,iBAAkB,EACW,SAAxBb,EAAQlB,cACjBoB,EAAIW,iBAAkB,GAGpB,iBAAkBX,GAAO7E,IAC3B6E,EAAIY,aAAe,QAGrBd,EAAQlE,QAAQ56B,SAAQ,SAAS9F,EAAOV,GACtCwlC,EAAIa,iBAAiBrmC,EAAMU,MAGzB4kC,EAAQjB,SACViB,EAAQjB,OAAOiC,iBAAiB,QAASZ,GAEzCF,EAAIe,mBAAqB,WAEA,IAAnBf,EAAIgB,YACNlB,EAAQjB,OAAOoC,oBAAoB,QAASf,KAKlDF,EAAIkB,UAAkC,IAAtBpB,EAAQ3C,UAA4B,KAAO2C,EAAQ3C,cAIvEjC,EAAMiG,UAAW,EAEZ/qB,KAAK8kB,QACR9kB,KAAK8kB,MAAQA,EACb9kB,KAAKulB,QAAUA,EACfvlB,KAAKqoB,QAAUA,EACfroB,KAAK8oB,SAAWA,I,cClgBlB,IAAIjZ,EAGJA,EAAI,WACH,OAAOnjB,KADJ,GAIJ,IAECmjB,EAAIA,GAAK,IAAI9nB,SAAS,cAAb,GACR,MAAOy4B,GAEc,iBAAX/8B,SAAqBosB,EAAIpsB,QAOrCH,EAAOD,QAAUwsB,G,6BCjBjB,IAAI1N,EAAU,EAAQ,IAClBH,EAAO,EAAQ,GACf4f,EAAe,EAAQ,IACvBtD,EAAkB,EAAQ,IAE1B0M,EAAoB,EAAQ,IAM5Bn7B,EAAamS,EAAKnS,WAClBD,EAAQ,EAAQ,IAGhBiyB,EAAkBD,EAAa9b,WAySnC,SAASmlB,EAAe75B,EAAQjO,EAAM4f,GAEpC,IAAIlX,EAAQq/B,EAAUlnC,KAAK0I,KAAM0E,EAAQjO,EAAM4f,GAC/C,OAAIlX,GAAS,EAAU,CAAEA,MAAOA,EAAOm1B,WAAW,IAClDn1B,EAAQa,KAAKy1B,cAAcl6B,OAC3ByE,KAAKy1B,cAAct2B,GAAS,CAC1BuF,OAAQA,EACRjO,KAAMA,EACN4f,OAAQA,GAEH,CAAElX,MAAOA,EAAOm1B,WAAW,IAWpC,SAASmK,EAAa/5B,EAAQjO,EAAM4f,GAElC,IAAIlf,EAAIqnC,EAAUlnC,KAAK0I,KAAM0E,EAAQjO,EAAM4f,GACvClf,GAAK,GAAG6I,KAAKy1B,cAAcnY,OAAOnmB,EAAG,GAY3C,SAASqnC,EAAU95B,EAAQjO,EAAM4f,GAE/B,IAAK,IAAIlf,EAAE,EAAGA,EAAE6I,KAAKy1B,cAAcl6B,OAAQpE,IAAK,CAC9C,IAAIK,EAAIwI,KAAKy1B,cAAct+B,GAC3B,GAAIK,EAAEkN,QAAUA,GAAUlN,EAAEf,MAAQA,GAAQe,EAAE6e,QAAUA,EAAQ,OAAOlf,EAEzE,OAAQ,EAIV,SAASunC,EAAYvnC,EAAGwnC,GACtB,MAAO,cAAgBxnC,EAAI,iBAAmBme,EAAKvQ,eAAe45B,EAASxnC,IAAM,KAInF,SAASynC,EAAYznC,GACnB,MAAO,cAAgBA,EAAI,eAAiBA,EAAI,KAIlD,SAAS0nC,EAAW1nC,EAAGye,GACrB,YAAqBnN,IAAdmN,EAAOze,GAAmB,GAAK,aAAeA,EAAI,aAAeA,EAAI,KAI9E,SAAS2nC,EAAe3nC,GACtB,MAAO,iBAAmBA,EAAI,kBAAoBA,EAAI,KAIxD,SAAS4nC,EAAKvgC,EAAKwgC,GACjB,IAAKxgC,EAAIjD,OAAQ,MAAO,GAExB,IADA,IAAIC,EAAO,GACFrE,EAAE,EAAGA,EAAEqH,EAAIjD,OAAQpE,IAC1BqE,GAAQwjC,EAAU7nC,EAAGqH,GACvB,OAAOhD,EA9WT5E,EAAOD,QAYP,SAAS+e,EAAQhR,EAAQjO,EAAM8gB,EAAWlB,GAGxC,IAAI/C,EAAOtT,KACPwa,EAAOxa,KAAKgW,MACZJ,EAAS,MAAEnN,GACXisB,EAAO,GACPiK,EAAW,GACXM,EAAe,GACfC,EAAW,GACXC,EAAe,GACfC,EAAc,GAElB3oC,EAAOA,GAAQ,CAAEiO,OAAQA,EAAQkR,OAAQA,EAAQ8e,KAAMA,GAEvD,IAAIl9B,EAAI+mC,EAAejnC,KAAK0I,KAAM0E,EAAQjO,EAAM4f,GAC5CgpB,EAAcr/B,KAAKy1B,cAAcj+B,EAAE2H,OACvC,GAAI3H,EAAE88B,UAAW,OAAQ+K,EAAY9K,aAwBrC,SAASA,IAEP,IAAIre,EAAWmpB,EAAYnpB,SACvBhO,EAASgO,EAASnX,MAAMiB,KAAMke,WAElC,OADAqW,EAAalb,OAASnD,EAASmD,OACxBnR,GA3BT,IAAI2pB,EAAU7xB,KAAK2zB,SACf5M,EAAQ/mB,KAAK+mB,MAEjB,IACE,IAAI3Q,EAAIkpB,EAAa56B,EAAQjO,EAAM8gB,EAAWlB,GAC9CgpB,EAAYnpB,SAAWE,EACvB,IAAImpB,EAAKF,EAAY9K,aAUrB,OATIgL,IACFA,EAAG76B,OAAS0R,EAAE1R,OACd66B,EAAGlmB,OAAS,KACZkmB,EAAG7K,KAAOte,EAAEse,KACZ6K,EAAG3pB,OAASQ,EAAER,OACd2pB,EAAG9oC,KAAO2f,EAAE3f,KACZ8oC,EAAG1Y,OAASzQ,EAAEyQ,OACVrM,EAAKgN,aAAY+X,EAAG/kC,OAAS4b,EAAE5b,SAE9B4b,EACP,QACAqoB,EAAannC,KAAK0I,KAAM0E,EAAQjO,EAAM4f,GAYxC,SAASipB,EAAaE,EAASC,EAAOloB,EAAWlB,GAC/C,IAAIqpB,GAAUD,GAAUA,GAASA,EAAM/6B,QAAU86B,EACjD,GAAIC,EAAM/6B,QAAUjO,EAAKiO,OACvB,OAAOgR,EAAQpe,KAAKgc,EAAMksB,EAASC,EAAOloB,EAAWlB,GAEvD,IAgCIH,EAhCA2Q,GAA4B,IAAnB2Y,EAAQ3Y,OAEjBW,EAAa8W,EAAkB,CACjC/W,OAAO,EACP7iB,OAAQ86B,EACRE,OAAQA,EACRrpB,OAAQA,EACR5f,KAAMgpC,EACN1X,WAAY,GACZE,cAAe,IACf0X,UAAW,KACX7mB,gBAAiBoc,EAAa1b,WAC9BuN,MAAOA,EACP7Q,SAAUooB,EACVhpB,KAAMA,EACNG,QAASA,EACTmqB,WAAYA,EACZC,WAAYA,EACZ/U,WAAYA,EACZgV,cAAeA,EACftlB,KAAMA,EACNqX,QAASA,EACTxK,OAAQ/T,EAAK+T,OACb/T,KAAMA,IAGRkU,EAAauX,EAAKnpB,EAAQipB,GAAcE,EAAKJ,EAAUD,GACtCK,EAAKG,EAAUN,GAAeG,EAAKK,EAAaN,GAChDtX,EAEbhN,EAAKiN,cAAaD,EAAahN,EAAKiN,YAAYD,IAGpD,IAeEtR,EAdmB,IAAI7a,SACrB,OACA,QACA,UACA,OACA,SACA,WACA,cACA,QACA,aACA,kBACAmsB,EAGSuY,CACTzsB,EACAyT,EACA8K,EACAp7B,EACAmf,EACAspB,EACAE,EACAl8B,EACAC,EACAgyB,GAGFvf,EAAO,GAAKM,EACZ,MAAM4d,GAEN,MADAxgB,EAAK+T,OAAO5T,MAAM,yCAA0C+T,GACtDsM,EAiBR,OAdA5d,EAASxR,OAAS86B,EAClBtpB,EAASmD,OAAS,KAClBnD,EAASwe,KAAOA,EAChBxe,EAASN,OAASA,EAClBM,EAASzf,KAAOipC,EAASxpB,EAAWupB,EAChC5Y,IAAQ3Q,EAAS2Q,QAAS,IACN,IAApBrM,EAAKgN,aACPtR,EAAS1b,OAAS,CAChBgB,KAAMgsB,EACNmX,SAAUA,EACVO,SAAUA,IAIPhpB,EAGT,SAAS0pB,EAAWvpB,EAAQV,EAAK+pB,GAC/B/pB,EAAMF,EAAQyB,IAAIb,EAAQV,GAC1B,IACIqqB,EAASC,EADTC,EAAWxL,EAAK/e,GAEpB,QAAiBlN,IAAby3B,EAGF,OAAOC,EAFPH,EAAUpqB,EAAOsqB,GACjBD,EAAU,UAAYC,EAAW,KAGnC,IAAKR,GAAUjpC,EAAKi+B,KAAM,CACxB,IAAI0L,EAAY3pC,EAAKi+B,KAAK/e,GAC1B,QAAkBlN,IAAd23B,EAGF,OAAOD,EAFPH,EAAUvpC,EAAKmf,OAAOwqB,GACtBH,EAAUI,EAAY1qB,EAAKqqB,IAK/BC,EAAUI,EAAY1qB,GACtB,IAAIS,EAAIX,EAAQne,KAAKgc,EAAMgsB,EAAc7oC,EAAMkf,GAC/C,QAAUlN,IAAN2N,EAAiB,CACnB,IAAIkqB,EAAc/oB,GAAaA,EAAU5B,GACrC2qB,IACFlqB,EAAIX,EAAQM,UAAUuqB,EAAa9lB,EAAKvE,YAClCqqB,EACA5qB,EAAQpe,KAAKgc,EAAMgtB,EAAa7pC,EAAM8gB,EAAWlB,IAI3D,QAAU5N,IAAN2N,EAIF,OAeJ,SAAyBT,EAAKS,GAC5B,IAAImqB,EAAQ7L,EAAK/e,GACjBC,EAAO2qB,GAASnqB,EAlBdoqB,CAAgB7qB,EAAKS,GACd+pB,EAAY/pB,EAAG6pB,IAW1B,SAAwBtqB,UACf+e,EAAK/e,GAfV8qB,CAAe9qB,GAOnB,SAAS0qB,EAAY1qB,EAAKS,GACxB,IAAImqB,EAAQ3qB,EAAOra,OAGnB,OAFAqa,EAAO2qB,GAASnqB,EAChBse,EAAK/e,GAAO4qB,EACL,SAAWA,EAYpB,SAASJ,EAAYvqB,EAAQpa,GAC3B,MAAwB,iBAAVoa,GAAuC,kBAAVA,EACjC,CAAEpa,KAAMA,EAAMkJ,OAAQkR,EAAQ8qB,QAAQ,GACtC,CAAEllC,KAAMA,EAAMqrB,OAAQjR,KAAYA,EAAOiR,QAGrD,SAASgZ,EAAWc,GAClB,IAAIxhC,EAAQ8/B,EAAa0B,GAKzB,YAJcl4B,IAAVtJ,IACFA,EAAQ8/B,EAAa0B,GAAYhC,EAASpjC,OAC1CojC,EAASx/B,GAASwhC,GAEb,UAAYxhC,EAGrB,SAAS2rB,EAAW1yB,GAClB,cAAeA,GACb,IAAK,UACL,IAAK,SACH,MAAO,GAAKA,EACd,IAAK,SACH,OAAOkd,EAAKvQ,eAAe3M,GAC7B,IAAK,SACH,GAAc,OAAVA,EAAgB,MAAO,OAC3B,IAAIwoC,EAAWhP,EAAgBx5B,GAC3B+G,EAAQggC,EAAayB,GAKzB,YAJcn4B,IAAVtJ,IACFA,EAAQggC,EAAayB,GAAY1B,EAAS3jC,OAC1C2jC,EAAS//B,GAAS/G,GAEb,UAAY+G,GAIzB,SAAS2gC,EAAc/vB,EAAMrL,EAAQoT,EAAc4O,GACjD,IAAkC,IAA9BpT,EAAK0C,MAAM2c,eAA0B,CACvC,IAAIkO,EAAO9wB,EAAK+wB,WAAWC,aAC3B,GAAIF,IAASA,EAAKG,OAAM,SAASjmB,GAC/B,OAAOljB,OAAOkB,UAAUC,eAAe1B,KAAKwgB,EAAciD,MAE1D,MAAM,IAAI9U,MAAM,kDAAoD46B,EAAKzyB,KAAK,MAEhF,IAAIukB,EAAiB5iB,EAAK+wB,WAAWnO,eACrC,GAAIA,EAEF,IADYA,EAAejuB,GACf,CACV,IAAIqU,EAAU,8BAAgCzF,EAAK0f,WAAWL,EAAetZ,QAC7E,GAAiC,OAA7B/F,EAAK0C,MAAM2c,eACV,MAAM,IAAI1sB,MAAM8S,GADmBzF,EAAK+T,OAAO5T,MAAMsF,IAMhE,IAII7C,EAJAR,EAAU3F,EAAK+wB,WAAWprB,QAC1BgrB,EAAS3wB,EAAK+wB,WAAWJ,OACzBO,EAAQlxB,EAAK+wB,WAAWG,MAG5B,GAAIvrB,EACFQ,EAAWR,EAAQpe,KAAKgc,EAAM5O,EAAQoT,EAAc4O,QAC/C,GAAIua,EACT/qB,EAAW+qB,EAAM3pC,KAAKgc,EAAM5O,EAAQoT,EAAc4O,IACtB,IAAxBlM,EAAKmY,gBAA0Brf,EAAKqf,eAAezc,GAAU,QAC5D,GAAIwqB,EACTxqB,EAAWwqB,EAAOppC,KAAKgc,EAAMoT,EAAI3W,EAAKgL,QAASrW,EAAQoT,QAGvD,KADA5B,EAAWnG,EAAK+wB,WAAW5qB,UACZ,OAGjB,QAAiBzN,IAAbyN,EACF,MAAM,IAAIjQ,MAAM,mBAAqB8J,EAAKgL,QAAU,sBAEtD,IAAI5b,EAAQigC,EAAY7jC,OAGxB,OAFA6jC,EAAYjgC,GAAS+W,EAEd,CACL1a,KAAM,aAAe2D,EACrB+W,SAAUA,M;;0BC5ShB,SAAAgrB,I,2BAAyBC,EAAzB,qB,EAAA,gB,GACKA,EAAK5lC,OAAS,EAAG,C,EACf,GAAK4lC,EAAK,GAAG90B,MAAM,GAAI,G,QACtB+0B,EAAKD,EAAK5lC,OAAS,EAChB6C,EAAI,EAAGA,EAAIgjC,IAAMhjC,E,EACpBA,GAAK+iC,EAAK/iC,GAAGiO,MAAM,GAAI,G,SAExB+0B,GAAMD,EAAKC,GAAI/0B,MAAM,GACnB80B,EAAK/yB,KAAK,I,OAEV+yB,EAAK,GAId,SAAAE,EAAuBh+B,G,MACf,MAAQA,EAAM,IAGtB,SAAAi+B,EAAuB1pC,G,YACT6Q,IAAN7Q,EAAkB,YAAqB,OAANA,EAAa,OAASC,OAAOkB,UAAU+Y,SAASxa,KAAKM,GAAGwO,MAAM,KAAKqD,MAAMrD,MAAM,KAAKuD,QAAQiE,cAGrI,SAAAG,EAA4B1K,G,OACpBA,EAAI0K,cCpBZ,SAAAwzB,EAA0BC,G,IAMxBC,EAAWP,EAFD,QAEgB,YAG1BQ,EAAeL,EAAOA,EAAO,UAAYI,EAAW,IAAMA,EAAWA,EAAW,IAAMA,EAAWA,GAAY,IAAMJ,EAAO,cAAgBI,EAAW,IAAMA,EAAWA,GAAY,IAAMJ,EAAO,IAAMI,EAAWA,IAEhNE,EAAe,sCACfC,EAAaV,EAFE,0BAEkBS,G,EAEpBH,EAAQ,oBAAsB,K,EAC5BN,EAbL,WAEA,QAW6B,iBAF3BM,EAAQ,8EAAgF,MAGpGK,EAAUR,EAdA,WAciBH,EAdjB,WAEA,QAYyC,eAAiB,KACpEY,EAAYT,EAAOA,EAAOK,EAAe,IAAMR,EAAMa,EAAcJ,EAAc,UAAY,KAE7FK,GADaX,EAAOA,EAAO,WAAa,IAAMA,EAAO,eAAsB,IAAMA,EAAO,eAA2B,IAAMA,EAAO,cAAqB,UAChIA,EAAOA,EAAO,WAAa,IAAMA,EAAO,eAAsB,IAAMA,EAAO,eAA2B,IAAMA,EAAO,gBAAuB,e,EAChJA,EAAOW,EAAqB,MAAQA,EAAqB,MAAQA,EAAqB,MAAQA,GAC7GC,EAAOZ,EAAOI,EAAW,SACzBS,EAAQb,EAAOA,EAAOY,EAAO,MAAQA,GAAQ,IAAME,GACnDC,EAAgBf,EAAmEA,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAwD,SAAWA,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAOA,EAAwCY,GAAQ,UAAYZ,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAAYZ,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAAYZ,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAAmBA,EAAO,MAAiBC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAA2CC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAA2CA,G,EAClGZ,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,W,EACxDZ,EAAO,CAACe,EAAeC,EAAeC,EAAeC,EAAeC,EAAeC,EAAeC,EAAeC,EAAeC,GAAex0B,KAAK,MACnKy0B,EAAUxB,EAAOA,EAAOU,EAAe,IAAML,GAAgB,K,GAChDL,EAAOyB,EAAe,QAAUD,GACxBxB,EAAOyB,EAAezB,EAAO,eAAiBI,EAAW,QAAUoB,I,EAC3ExB,EAAO,OAASI,EAAW,OAASP,EAAMa,EAAcJ,EAAc,SAAW,KAC9FoB,EAAc1B,EAAO,MAAQA,EAAO2B,EAAqB,IAAMF,EAAe,IAAMG,GAAc,O,EACtF5B,EAAOA,EAAOK,EAAe,IAAMR,EAAMa,EAAcJ,IAAiB,KACpFuB,EAAQ7B,EAAO0B,EAAc,IAAMZ,EAAe,MAAQgB,EAAY,KAAYA,GAClFC,EAAQ/B,EAAOgC,UACfC,EAAajC,EAAOA,EAAOS,EAAY,KAAO,IAAMoB,EAAQ7B,EAAO,MAAQ+B,GAAS,KACpFG,EAASlC,EAAOK,EAAe,IAAMR,EAAMa,EAAcJ,EAAc,aACvE6B,EAAWnC,EAAOkC,EAAS,KAC3BE,EAAcpC,EAAOkC,EAAS,KAC9BG,EAAiBrC,EAAOA,EAAOK,EAAe,IAAMR,EAAMa,EAAcJ,EAAc,UAAY,KAClGgC,EAAgBtC,EAAOA,EAAO,MAAQmC,GAAY,KAClDI,EAAiBvC,EAAO,MAAQA,EAAOoC,EAAcE,GAAiB,K,EACrDtC,EAAOqC,EAAiBC,G,EACxBtC,EAAOoC,EAAcE,G,EACxB,MAAQJ,EAAS,IAE/BM,GADQxC,EAAOsC,EAAgB,IAAMC,EAAiB,IAAME,EAAiB,IAAMC,EAAiB,IAAMC,GACjG3C,EAAOA,EAAOkC,EAAS,IAAMrC,EAAM,WAAY+C,IAAe,MACvEC,EAAY7C,EAAOA,EAAOkC,EAAS,aAAe,KAClDY,EAAa9C,EAAOA,EAAO,SAAWiC,EAAaK,GAAiB,IAAMC,EAAiB,IAAMG,EAAiB,IAAMC,GACxHI,EAAO/C,EAAOQ,EAAU,MAAQsC,EAAa9C,EAAO,MAAQwC,GAAU,IAAMxC,EAAO,MAAQ6C,GAAa,KACxGG,EAAiBhD,EAAOA,EAAO,SAAWiC,EAAaK,GAAiB,IAAMC,EAAiB,IAAME,EAAiB,IAAME,GAC5HM,EAAYjD,EAAOgD,EAAiBhD,EAAO,MAAQwC,GAAU,IAAMxC,EAAO,MAAQ6C,GAAa,K,OAC9E7C,EAAO+C,EAAO,IAAME,GACrBjD,EAAOQ,EAAU,MAAQsC,EAAa9C,EAAO,MAAQwC,GAAU,KAEtCxC,EAAOA,EAAO,UAAYA,EAAO,IAAMS,EAAY,MAAQ,KAAOoB,EAAQ,IAAM7B,EAAO,OAAS+B,EAAQ,KAAO,MAAQ,KAAOO,EAAgB,IAAMC,EAAiB,IAAMG,EAAiB,IAAMC,EAAc,KAAO3C,EAAO,OAASwC,EAAS,KAAaxC,EAAO,OAAS6C,EAAY,KACvS7C,EAAOA,EAAO,UAAYA,EAAO,IAAMS,EAAY,MAAQ,KAAOoB,EAAQ,IAAM7B,EAAO,OAAS+B,EAAQ,KAAO,MAAQ,KAAOO,EAAgB,IAAMC,EAAiB,IAAME,EAAiB,IAAME,EAAc,KAAO3C,EAAO,OAASwC,EAAS,KAAaxC,EAAO,OAAS6C,EAAY,KAC1Q7C,EAAOA,EAAO,UAAYA,EAAO,IAAMS,EAAY,MAAQ,KAAOoB,EAAQ,IAAM7B,EAAO,OAAS+B,EAAQ,KAAO,MAAQ,KAAOO,EAAgB,IAAMC,EAAiB,IAAMG,EAAiB,IAAMC,EAAc,KAAO3C,EAAO,OAASwC,EAAS,KACrQxC,EAAO,OAAS6C,EAAY,KAC1B7C,EAAO,IAAMS,EAAY,MAA6BT,EAAO,OAAS+B,EAAQ,KAG/F,C,WACO,IAAI3/B,OAAOy9B,EAAM,MAnEpB,WAEA,QAiE6C,eAAgB,K,aACxD,IAAIz9B,OAAOy9B,EAAM,YAAaa,EAAcJ,GAAe,K,SAC/D,IAAIl+B,OAAOy9B,EAAM,kBAAmBa,EAAcJ,GAAe,K,SACjE,IAAIl+B,OAAOy9B,EAAM,kBAAmBa,EAAcJ,GAAe,K,kBACxD,IAAIl+B,OAAOy9B,EAAM,eAAgBa,EAAcJ,GAAe,K,UACtE,IAAIl+B,OAAOy9B,EAAM,SAAUa,EAAcJ,EAAc,iBAAkBsC,GAAa,K,aACnF,IAAIxgC,OAAOy9B,EAAM,SAAUa,EAAcJ,EAAc,kBAAmB,K,OAChF,IAAIl+B,OAAOy9B,EAAM,MAAOa,EAAcJ,GAAe,K,WACjD,IAAIl+B,OAAOs+B,EAAc,K,YACxB,IAAIt+B,OAAOy9B,EAAM,SAAUa,EAAcH,GAAa,K,YACtD,IAAIn+B,OAAOi+B,EAAc,K,YACzB,IAAIj+B,OAAO,KAAO0+B,EAAe,M,YACjC,IAAI1+B,OAAO,SAAWq/B,EAAe,IAAMzB,EAAOA,EAAO,eAAiBI,EAAW,QAAU,IAAMoB,EAAU,KAAO,WAItI,MAAetB,GAAU,GCrFzB,EAAeA,GAAU,G,8YCAnBgD,EAAS,WAaTC,EAAgB,QAChBC,EAAgB,aAChBC,EAAkB,4BAGlBrrB,EAAS,C,SACF,kD,YACC,iD,gBACI,iBAKZsrB,EAAQh6B,KAAKg6B,MACbC,EAAqB3oC,OAAO0f,aAUlC,SAASlI,EAAM1Y,G,MACR,IAAI6hC,WAAWvjB,EAAOte,IA8B7B,SAAS8pC,EAAUC,EAAQrmC,G,IACpByZ,EAAQ4sB,EAAO1+B,MAAM,KACvB8B,EAAS,GACTgQ,EAAM3c,OAAS,I,EAGT2c,EAAM,GAAK,I,EACXA,EAAM,I,IAKV6sB,EA/BP,SAAatiC,EAAOhE,G,QACbyJ,EAAS,GACX3M,EAASkH,EAAMlH,OACZA,K,EACCA,GAAUkD,EAAGgE,EAAMlH,I,OAEpB2M,EAyBS3J,E,EAFPumC,EAAOlhC,QAAQ8gC,EAAiB,MACnBt+B,MAAM,KACA3H,GAAI2P,KAAK,K,OAC9BlG,EAAS68B,EAgBjB,SAASC,EAAWF,G,QACbG,EAAS,GACXC,EAAU,EACR3pC,EAASupC,EAAOvpC,OACf2pC,EAAU3pC,GAAQ,C,IAClBnD,EAAQ0sC,EAAOjqC,WAAWqqC,K,GAC5B9sC,GAAS,OAAUA,GAAS,OAAU8sC,EAAU3pC,EAAQ,C,IAErD4pC,EAAQL,EAAOjqC,WAAWqqC,KACR,QAAX,MAARC,G,EACGvmC,OAAe,KAARxG,IAAkB,KAAe,KAAR+sC,GAAiB,Q,EAIjDvmC,KAAKxG,G,YAINwG,KAAKxG,G,OAGP6sC,EAWR,IAmCMG,EAAe,SAASC,EAAOC,G,OAG7BD,EAAQ,GAAK,IAAMA,EAAQ,MAAgB,GAARC,IAAc,IAQnDC,EAAQ,SAASC,EAAOC,EAAWC,G,IACpCC,EAAI,E,MACAD,EAAYf,EAAMa,EA1Kd,KA0K8BA,GAAS,E,GAC1Cb,EAAMa,EAAQC,GACOD,EAAQI,IAA2BD,GAhLrD,G,EAiLHhB,EAAMa,EA3JMl2B,I,OA6Jdq1B,EAAMgB,EAAI,GAAsBH,GAASA,EAhLpC,MA0LPpK,EAAS,SAASlM,G,IApDM2W,EAsDvBZ,EAAS,GACTa,EAAc5W,EAAM3zB,OACtBpE,EAAI,EACJyB,EA5LY,IA6LZmtC,EA9Le,GAoMfC,EAAQ9W,EAAM7P,YAlMD,KAmMb2mB,EAAQ,I,EACH,G,IAGJ,IAAIC,EAAI,EAAGA,EAAID,IAASC,EAExB/W,EAAMr0B,WAAWorC,IAAM,K,EACpB,a,EAEArnC,KAAKswB,EAAMr0B,WAAWorC,I,IAMzB,IAAI9mC,EAAQ6mC,EAAQ,EAAIA,EAAQ,EAAI,EAAG7mC,EAAQ2mC,GAAwC,C,QAOvFI,EAAO/uC,EACFgvC,EAAI,EAAGR,EAjOL,IAiOmCA,GAjOnC,GAiO8C,CAEpDxmC,GAAS2mC,G,EACN,iB,IAGDT,GA9FqBQ,EA8FA3W,EAAMr0B,WAAWsE,MA7F9B,GAAO,GACf0mC,EAAY,GAEhBA,EAAY,GAAO,GACfA,EAAY,GAEhBA,EAAY,GAAO,GACfA,EAAY,GAjJR,IAyONR,GAzOM,IAyOWA,EAAQV,GAAOJ,EAASptC,GAAKgvC,K,EAC3C,Y,GAGFd,EAAQc,E,IACP9tC,EAAIstC,GAAKI,EA7OL,EA6OoBJ,GAAKI,EA5OzB,MA4O8CJ,EAAII,E,GAExDV,EAAQhtC,E,UAIN+tC,EApPI,GAoPgB/tC,EACtB8tC,EAAIxB,EAAMJ,EAAS6B,I,EAChB,Y,GAGFA,E,IAIA1nC,EAAMumC,EAAO1pC,OAAS,E,EACrBgqC,EAAMpuC,EAAI+uC,EAAMxnC,EAAa,GAARwnC,GAIxBvB,EAAMxtC,EAAIuH,GAAO6lC,EAAS3rC,G,EACvB,Y,GAGF+rC,EAAMxtC,EAAIuH,G,GACVA,E,EAGE4e,OAAOnmB,IAAK,EAAGyB,G,OAIhBqD,OAAOoqC,cAAP,MAAApqC,OAAwBgpC,IAU1BqB,EAAS,SAASpX,G,IACjB+V,EAAS,GAMXa,G,EAHId,EAAW9V,IAGK3zB,OAGpB3C,EA5RY,IA6RZ4sC,EAAQ,EACRO,EA/Re,G,+BAkSnB,E,EAA2B7W,EAA3B,+CAAkC,C,IAAvBqX,EAAuB,QAC7BA,EAAe,K,EACX3nC,KAAKgmC,EAAmB2B,K,iFAI7BC,EAAcvB,EAAO1pC,OACrBkrC,EAAiBD,E,IAMjBA,G,EACI5nC,KA9SS,KAkTV6nC,EAAiBX,GAAa,C,IAIhCvuC,EAAIgtC,E,+BACR,E,EAA2BrV,EAA3B,+CAAkC,C,IAAvBqX,EAAuB,QAC7BA,GAAgB3tC,GAAK2tC,EAAehvC,I,EACnCgvC,I,iFAMAG,EAAwBD,EAAiB,EAC3ClvC,EAAIqB,EAAI+rC,GAAOJ,EAASiB,GAASkB,I,EAC9B,Y,IAGGnvC,EAAIqB,GAAK8tC,E,EACfnvC,E,mCAEJ,E,EAA2B23B,EAA3B,+CAAkC,C,IAAvBqX,EAAuB,Q,GAC7BA,EAAe3tC,KAAO4sC,EAAQjB,G,EAC3B,YAEHgC,GAAgB3tC,EAAG,C,QAElBoqB,EAAIwiB,EACCG,EArVA,IAqV8BA,GArV9B,GAqVyC,C,IAC3CttC,EAAIstC,GAAKI,EArVP,EAqVsBJ,GAAKI,EApV3B,MAoVgDJ,EAAII,E,GACxD/iB,EAAI3qB,E,UAGFsuC,EAAU3jB,EAAI3qB,EACd+tC,EA3VE,GA2VkB/tC,E,EACnBuG,KACNgmC,EAAmBQ,EAAa/sC,EAAIsuC,EAAUP,EAAY,K,EAEvDzB,EAAMgC,EAAUP,G,EAGdxnC,KAAKgmC,EAAmBQ,EAAapiB,EAAG,K,EACxCuiB,EAAMC,EAAOkB,EAAuBD,GAAkBD,G,EACrD,IACNC,I,+EAIFjB,IACA5sC,E,OAGIqsC,EAAO72B,KAAK,KA4Cdw4B,EAXU,SAAS1X,G,OACjB2V,EAAU3V,GAAO,SAAS4V,G,OACzBL,EAAcz+B,KAAK8+B,GACvB,OAASwB,EAAOxB,GAChBA,MAOC8B,EA9BY,SAAS1X,G,OACnB2V,EAAU3V,GAAO,SAAS4V,G,OACzBN,EAAcx+B,KAAK8+B,GACvB1J,EAAO0J,EAAOz4B,MAAM,GAAGuB,eACvBk3B,MC7SQ+B,EAA6C,GAE1D,SAAAC,EAA2BC,G,IACpBvvC,EAAIuvC,EAAIlsC,WAAW,G,OAGrBrD,EAAI,GAAQ,KAAOA,EAAEsa,SAAS,IAAI/D,cAC7BvW,EAAI,IAAS,IAAMA,EAAEsa,SAAS,IAAI/D,cAClCvW,EAAI,KAAU,KAAQA,GAAK,EAAK,KAAKsa,SAAS,IAAI/D,cAAgB,KAAY,GAAJvW,EAAU,KAAKsa,SAAS,IAAI/D,cACtG,KAAQvW,GAAK,GAAM,KAAKsa,SAAS,IAAI/D,cAAgB,KAASvW,GAAK,EAAK,GAAM,KAAKsa,SAAS,IAAI/D,cAAgB,KAAY,GAAJvW,EAAU,KAAKsa,SAAS,IAAI/D,cAK9J,SAAAi5B,EAA4B3jC,G,QACvBuiB,EAAS,GACTzuB,EAAI,EACF8vC,EAAK5jC,EAAI9H,OAERpE,EAAI8vC,GAAI,C,IACRzvC,EAAI0vC,SAAS7jC,EAAI+X,OAAOjkB,EAAI,EAAG,GAAI,I,GAErCK,EAAI,I,GACGyE,OAAO0f,aAAankB,G,GACzB,OAED,GAAIA,GAAK,KAAOA,EAAI,IAAK,C,GACxByvC,EAAK9vC,GAAM,EAAG,C,IACZgwC,EAAKD,SAAS7jC,EAAI+X,OAAOjkB,EAAI,EAAG,GAAI,I,GAChC8E,OAAO0f,cAAmB,GAAJnkB,IAAW,EAAW,GAAL2vC,Q,GAEvC9jC,EAAI+X,OAAOjkB,EAAG,G,GAEpB,OAED,GAAIK,GAAK,IAAK,C,GACbyvC,EAAK9vC,GAAM,EAAG,C,IACZgwC,EAAKD,SAAS7jC,EAAI+X,OAAOjkB,EAAI,EAAG,GAAI,IACpCiwC,EAAKF,SAAS7jC,EAAI+X,OAAOjkB,EAAI,EAAG,GAAI,I,GAChC8E,OAAO0f,cAAmB,GAAJnkB,IAAW,IAAa,GAAL2vC,IAAY,EAAW,GAALC,Q,GAE3D/jC,EAAI+X,OAAOjkB,EAAG,G,GAEpB,O,GAGKkM,EAAI+X,OAAOjkB,EAAG,G,GACnB,E,OAIAyuB,EAGR,SAAAyhB,EAAqCC,EAA0BC,G,SAC/DC,EAA2BnkC,G,IACnBokC,EAAST,EAAY3jC,G,OAClBokC,EAAOjkC,MAAM+jC,EAASG,YAAoBD,EAANpkC,E,OAG1CikC,EAAW/oB,SAAQ+oB,EAAW/oB,OAAStiB,OAAOqrC,EAAW/oB,QAAQ3a,QAAQ2jC,EAASI,YAAaH,GAAkB55B,cAAchK,QAAQ2jC,EAASK,WAAY,UACpIn/B,IAAxB6+B,EAAWO,WAAwBP,EAAWO,SAAW5rC,OAAOqrC,EAAWO,UAAUjkC,QAAQ2jC,EAASI,YAAaH,GAAkB5jC,QAAQ2jC,EAASO,aAAchB,GAAYljC,QAAQ2jC,EAASI,YAAa55B,SAC1LtF,IAApB6+B,EAAW7oB,OAAoB6oB,EAAW7oB,KAAOxiB,OAAOqrC,EAAW7oB,MAAM7a,QAAQ2jC,EAASI,YAAaH,GAAkB55B,cAAchK,QAAQ2jC,EAASQ,SAAUjB,GAAYljC,QAAQ2jC,EAASI,YAAa55B,SACxLtF,IAApB6+B,EAAW/hC,OAAoB+hC,EAAW/hC,KAAOtJ,OAAOqrC,EAAW/hC,MAAM3B,QAAQ2jC,EAASI,YAAaH,GAAkB5jC,QAAS0jC,EAAW/oB,OAASgpB,EAASS,SAAWT,EAASU,kBAAoBnB,GAAYljC,QAAQ2jC,EAASI,YAAa55B,SAC5NtF,IAArB6+B,EAAWY,QAAqBZ,EAAWY,MAAQjsC,OAAOqrC,EAAWY,OAAOtkC,QAAQ2jC,EAASI,YAAaH,GAAkB5jC,QAAQ2jC,EAASY,UAAWrB,GAAYljC,QAAQ2jC,EAASI,YAAa55B,SAC1KtF,IAAxB6+B,EAAWrvB,WAAwBqvB,EAAWrvB,SAAWhc,OAAOqrC,EAAWrvB,UAAUrU,QAAQ2jC,EAASI,YAAaH,GAAkB5jC,QAAQ2jC,EAASa,aAActB,GAAYljC,QAAQ2jC,EAASI,YAAa55B,IAE3Mu5B,EAGR,SAAAe,EAA4BhlC,G,OACpBA,EAAIO,QAAQ,UAAW,OAAS,IAGxC,SAAA0kC,EAAwB7pB,EAAa8oB,G,IAC9BhkC,EAAUkb,EAAKjb,MAAM+jC,EAASgB,cAAgB,GAC3CC,E,EAAWjlC,EAFrB,M,OAIKilC,EACIA,EAAQpiC,MAAM,KAAK7H,IAAI8pC,GAAoBj6B,KAAK,KAEhDqQ,EAIT,SAAAgqB,EAAwBhqB,EAAa8oB,G,IAC9BhkC,EAAUkb,EAAKjb,MAAM+jC,EAASmB,cAAgB,G,IAC1BnlC,EAF3B,GAEUilC,EAFV,KAEmBG,EAFnB,K,GAIKH,EAAS,C,UACUA,EAAQ56B,cAAcxH,MAAM,MAAMwiC,U,SAAjDtgC,EADK,KACCD,EADD,KAENwgC,EAAcxgC,EAAQA,EAAMjC,MAAM,KAAK7H,IAAI8pC,GAAsB,GACjES,EAAaxgC,EAAKlC,MAAM,KAAK7H,IAAI8pC,GACjCU,EAAyBxB,EAASgB,YAAYviC,KAAK8iC,EAAWA,EAAWvtC,OAAS,IAClFytC,EAAaD,EAAyB,EAAI,EAC1CE,EAAkBH,EAAWvtC,OAASytC,EACtCE,EAAS7qC,MAAc2qC,GAEpB5qC,EAAI,EAAGA,EAAI4qC,IAAc5qC,E,EAC1BA,GAAKyqC,EAAYzqC,IAAM0qC,EAAWG,EAAkB7qC,IAAM,GAG9D2qC,I,EACIC,EAAa,GAAKV,EAAeY,EAAOF,EAAa,GAAIzB,I,IAe3D4B,EAZgBD,EAAO38B,QAA4C,SAAC68B,EAAKC,EAAOlqC,G,IAChFkqC,GAAmB,MAAVA,EAAe,C,IACtBC,EAAcF,EAAIA,EAAI7tC,OAAS,GACjC+tC,GAAeA,EAAYnqC,MAAQmqC,EAAY/tC,SAAW4D,E,EACjD5D,S,EAERqD,KAAK,CAAEO,QAAO5D,OAAS,I,OAGtB6tC,IACL,IAEqChsB,MAAK,SAACtW,EAAGC,G,OAAMA,EAAExL,OAASuL,EAAEvL,UAAQ,GAExEguC,S,GACAJ,GAAqBA,EAAkB5tC,OAAS,EAAG,C,IAChDiuC,EAAWN,EAAO78B,MAAM,EAAG88B,EAAkBhqC,OAC7CsqC,EAAUP,EAAO78B,MAAM88B,EAAkBhqC,MAAQgqC,EAAkB5tC,Q,EAC/DiuC,EAASp7B,KAAK,KAAO,KAAOq7B,EAAQr7B,KAAK,U,EAEzC86B,EAAO96B,KAAK,K,OAGnBu6B,I,GACQ,IAAMA,GAGXY,E,OAEA9qB,EAIT,IAAMirB,EAAY,kIACZC,OAAuElhC,IAA3B,GAAIjF,MAAM,SAAU,GAEtE,SAAAhD,EAAsBopC,G,IAAkBr7B,EAAxC,uDAA6D,GACtD+4B,EAA2B,GAC3BC,GAA4B,IAAhBh5B,EAAQs7B,IAAgBC,EAAeC,EAE/B,WAAtBx7B,EAAQ8f,YAAwBub,GAAar7B,EAAQgQ,OAAShQ,EAAQgQ,OAAS,IAAM,IAAM,KAAOqrB,G,IAEhGrmC,EAAUqmC,EAAUpmC,MAAMkmC,G,GAE5BnmC,EAAS,CACRomC,G,EAEQprB,OAAShb,EAAQ,G,EACjBskC,SAAWtkC,EAAQ,G,EACnBkb,KAAOlb,EAAQ,G,EACfmb,KAAOwoB,SAAS3jC,EAAQ,GAAI,I,EAC5BgC,KAAOhC,EAAQ,IAAM,G,EACrB2kC,MAAQ3kC,EAAQ,G,EAChB0U,SAAW1U,EAAQ,GAG1BiqB,MAAM8Z,EAAW5oB,Q,EACTA,KAAOnb,EAAQ,M,EAIhBgb,OAAShb,EAAQ,SAAMkF,E,EACvBo/B,UAAwC,IAA5B+B,EAAU1sC,QAAQ,KAAcqG,EAAQ,QAAKkF,E,EACzDgW,MAAqC,IAA7BmrB,EAAU1sC,QAAQ,MAAeqG,EAAQ,QAAKkF,E,EACtDiW,KAAOwoB,SAAS3jC,EAAQ,GAAI,I,EAC5BgC,KAAOhC,EAAQ,IAAM,G,EACrB2kC,OAAqC,IAA5B0B,EAAU1sC,QAAQ,KAAcqG,EAAQ,QAAKkF,E,EACtDwP,UAAwC,IAA5B2xB,EAAU1sC,QAAQ,KAAcqG,EAAQ,QAAKkF,EAGhE+kB,MAAM8Z,EAAW5oB,Q,EACTA,KAAQkrB,EAAUpmC,MAAM,iCAAmCD,EAAQ,QAAKkF,IAIjF6+B,EAAW7oB,O,EAEHA,KAAOgqB,EAAeH,EAAehB,EAAW7oB,KAAM8oB,GAAWA,SAInD9+B,IAAtB6+B,EAAW/oB,aAAgD9V,IAAxB6+B,EAAWO,eAA8Cp/B,IAApB6+B,EAAW7oB,WAA0ChW,IAApB6+B,EAAW5oB,MAAuB4oB,EAAW/hC,WAA6BkD,IAArB6+B,EAAWY,WAE5Iz/B,IAAtB6+B,EAAW/oB,O,EACV8P,UAAY,gBACW5lB,IAAxB6+B,EAAWrvB,S,EACVoW,UAAY,W,EAEZA,UAAY,M,EANZA,UAAY,gBAUpB9f,EAAQ8f,WAAmC,WAAtB9f,EAAQ8f,WAA0B9f,EAAQ8f,YAAciZ,EAAWjZ,Y,EAChF5a,MAAQ6zB,EAAW7zB,OAAS,gBAAkBlF,EAAQ8f,UAAY,e,IAIxE2b,EAAgBnD,GAASt4B,EAAQgQ,QAAU+oB,EAAW/oB,QAAU,IAAI3Q,e,GAGrEW,EAAQ07B,gBAAoBD,GAAkBA,EAAcC,e,EAcpC3C,EAAYC,OAdyC,C,GAE7ED,EAAW7oB,OAASlQ,EAAQ27B,YAAeF,GAAiBA,EAAcE,Y,MAGjEzrB,KAAOmoB,EAAiBU,EAAW7oB,KAAK7a,QAAQ2jC,EAASI,YAAaX,GAAap5B,eAC7F,MAAOkmB,G,EACGrgB,MAAQ6zB,EAAW7zB,OAAS,kEAAoEqgB,E,EAIjFwT,EAAYyC,GAOrCC,GAAiBA,EAAcxpC,O,EACpBA,MAAM8mC,EAAY/4B,Q,EAGtBkF,MAAQ6zB,EAAW7zB,OAAS,yB,OAGjC6zB,EAGR,SAAA6C,EAA6B7C,EAA0B/4B,G,IAChDg5B,GAA4B,IAAhBh5B,EAAQs7B,IAAgBC,EAAeC,EACnDK,EAA0B,G,YAEJ3hC,IAAxB6+B,EAAWO,W,EACJjpC,KAAK0oC,EAAWO,U,EAChBjpC,KAAK,WAGQ6J,IAApB6+B,EAAW7oB,M,EAEJ7f,KAAK6pC,EAAeH,EAAersC,OAAOqrC,EAAW7oB,MAAO8oB,GAAWA,GAAU3jC,QAAQ2jC,EAASmB,aAAa,SAAC2B,EAAGC,EAAIC,G,MAAO,IAAMD,GAAMC,EAAK,MAAQA,EAAK,IAAM,QAG9I,iBAApBjD,EAAW5oB,O,EACX9f,KAAK,K,EACLA,KAAK0oC,EAAW5oB,KAAK5M,SAAS,MAGlCs4B,EAAU7uC,OAAS6uC,EAAUh8B,KAAK,SAAM3F,EAGhD,IAAM+hC,EAAO,WACPC,EAAO,cACPC,EAAO,gBAEPC,EAAO,yBAEb,SAAAC,EAAkC1b,G,QAC3B+V,EAAuB,GAEtB/V,EAAM3zB,Q,GACR2zB,EAAM1rB,MAAMgnC,G,EACPtb,EAAMtrB,QAAQ4mC,EAAM,SACtB,GAAItb,EAAM1rB,MAAMinC,G,EACdvb,EAAMtrB,QAAQ6mC,EAAM,UACtB,GAAIvb,EAAM1rB,MAAMknC,G,EACdxb,EAAMtrB,QAAQ8mC,EAAM,K,EACrBjhC,WACD,GAAc,MAAVylB,GAA2B,OAAVA,E,EACnB,OACF,C,IACA2b,EAAK3b,EAAM1rB,MAAMmnC,G,IACnBE,E,MAKG,IAAI5kC,MAAM,oC,IAJV/M,EAAI2xC,EAAG,G,EACL3b,EAAM7iB,MAAMnT,EAAEqC,Q,EACfqD,KAAK1F,G,OAOR+rC,EAAO72B,KAAK,IAGpB,SAAAuK,EAA0B2uB,G,IAA0B/4B,EAApD,uDAAyE,GAClEg5B,EAAYh5B,EAAQs7B,IAAMC,EAAeC,EACzCK,EAA0B,GAG1BJ,EAAgBnD,GAASt4B,EAAQgQ,QAAU+oB,EAAW/oB,QAAU,IAAI3Q,e,GAGtEo8B,GAAiBA,EAAcrxB,WAAWqxB,EAAcrxB,UAAU2uB,EAAY/4B,GAE9E+4B,EAAW7oB,K,GAEV8oB,EAASmB,YAAY1iC,KAAKshC,EAAW7oB,YAKpC,GAAIlQ,EAAQ27B,YAAeF,GAAiBA,EAAcE,W,MAGlDzrB,KAASlQ,EAAQs7B,IAAmGjD,EAAmBU,EAAW7oB,MAA3HmoB,EAAiBU,EAAW7oB,KAAK7a,QAAQ2jC,EAASI,YAAaX,GAAap5B,eAC7G,MAAOkmB,G,EACGrgB,MAAQ6zB,EAAW7zB,OAAS,+CAAkDlF,EAAQs7B,IAAgB,UAAV,SAAuB,kBAAoB/V,E,EAMzHwT,EAAYC,GAEd,WAAtBh5B,EAAQ8f,WAA0BiZ,EAAW/oB,S,EACtC3f,KAAK0oC,EAAW/oB,Q,EAChB3f,KAAK,M,IAGVksC,EAAYX,EAAoB7C,EAAY/4B,G,QAChC9F,IAAdqiC,IACuB,WAAtBv8B,EAAQ8f,W,EACDzvB,KAAK,M,EAGNA,KAAKksC,GAEXxD,EAAW/hC,MAAsC,MAA9B+hC,EAAW/hC,KAAK4I,OAAO,I,EACnCvP,KAAK,WAIO6J,IAApB6+B,EAAW/hC,KAAoB,C,IAC9BrM,EAAIouC,EAAW/hC,KAEdgJ,EAAQw8B,cAAkBf,GAAkBA,EAAce,e,EAC1DH,EAAkB1xC,SAGLuP,IAAdqiC,I,EACC5xC,EAAE0K,QAAQ,QAAS,S,EAGdhF,KAAK1F,G,YAGSuP,IAArB6+B,EAAWY,Q,EACJtpC,KAAK,K,EACLA,KAAK0oC,EAAWY,aAGCz/B,IAAxB6+B,EAAWrvB,W,EACJrZ,KAAK,K,EACLA,KAAK0oC,EAAWrvB,WAGpBmyB,EAAUh8B,KAAK,IAGvB,SAAA48B,EAAkC17B,EAAoB6P,G,IAAwB5Q,EAA9E,uDAAmG,GAAI08B,EAAvG,aACOC,EAAuB,G,OAExBD,I,EACGzqC,EAAMmY,EAAUrJ,EAAMf,GAAUA,G,EAC5B/N,EAAMmY,EAAUwG,EAAU5Q,GAAUA,M,EAEtCA,GAAW,IAER48B,UAAYhsB,EAASZ,Q,EAC1BA,OAASY,EAASZ,O,EAElBspB,SAAW1oB,EAAS0oB,S,EACpBppB,KAAOU,EAASV,K,EAChBC,KAAOS,EAAST,K,EAChBnZ,KAAOqlC,EAAkBzrB,EAAS5Z,MAAQ,I,EAC1C2iC,MAAQ/oB,EAAS+oB,aAEEz/B,IAAtB0W,EAAS0oB,eAA4Cp/B,IAAlB0W,EAASV,WAAwChW,IAAlB0W,EAAST,M,EAEvEmpB,SAAW1oB,EAAS0oB,S,EACpBppB,KAAOU,EAASV,K,EAChBC,KAAOS,EAAST,K,EAChBnZ,KAAOqlC,EAAkBzrB,EAAS5Z,MAAQ,I,EAC1C2iC,MAAQ/oB,EAAS+oB,QAEnB/oB,EAAS5Z,MAQmB,MAA5B4Z,EAAS5Z,KAAK4I,OAAO,G,EACjB5I,KAAOqlC,EAAkBzrB,EAAS5Z,YAElBkD,IAAlB6G,EAAKu4B,eAAwCp/B,IAAd6G,EAAKmP,WAAoChW,IAAd6G,EAAKoP,MAAwBpP,EAAK/J,KAErF+J,EAAK/J,K,EAGTA,KAAO+J,EAAK/J,KAAK8G,MAAM,EAAGiD,EAAK/J,KAAK8Z,YAAY,KAAO,GAAKF,EAAS5Z,K,EAFrEA,KAAO4Z,EAAS5Z,K,EAFhBA,KAAO,IAAM4Z,EAAS5Z,K,EAMvBA,KAAOqlC,EAAkBM,EAAO3lC,O,EAEjC2iC,MAAQ/oB,EAAS+oB,Q,EAnBjB3iC,KAAO+J,EAAK/J,UACIkD,IAAnB0W,EAAS+oB,M,EACLA,MAAQ/oB,EAAS+oB,M,EAEjBA,MAAQ54B,EAAK44B,O,EAkBfL,SAAWv4B,EAAKu4B,S,EAChBppB,KAAOnP,EAAKmP,K,EACZC,KAAOpP,EAAKoP,M,EAEbH,OAASjP,EAAKiP,Q,EAGftG,SAAWkH,EAASlH,SAEpBizB,EA0CR,SAAAE,EAAkC/nC,EAAYkL,G,OACtClL,GAAOA,EAAIyO,WAAWlO,QAAU2K,GAAYA,EAAQs7B,IAAiCC,EAAanC,YAAxCoC,EAAapC,YAAyCX,GCxiBxH,IAAMqE,EAA2B,C,OACvB,O,YAEI,E,MAEL,SAAU/D,EAA0B/4B,G,OAEtC+4B,EAAW7oB,O,EACJhL,MAAQ6zB,EAAW7zB,OAAS,+BAGjC6zB,G,UAGI,SAAUA,EAA0B/4B,G,OAE3C+4B,EAAW5oB,QAAsD,UAA5CziB,OAAOqrC,EAAW/oB,QAAQ3Q,cAA4B,GAAK,MAA4B,KAApB05B,EAAW5oB,O,EAC3FA,UAAOjW,GAId6+B,EAAW/hC,O,EACJA,KAAO,KAOZ+hC,IC5BH+D,EAA2B,C,OACvB,Q,WACIC,EAAKpB,W,MACVoB,EAAK9qC,M,UACD8qC,EAAK3yB,WCSZ4yB,EAAkB,GAIlBxJ,EAAe,mGACfN,EAAW,cACXC,EAAeL,EAAOA,EAAO,UAAYI,EAAW,IAAMA,EAAWA,EAAW,IAAMA,EAAWA,GAAY,IAAMJ,EAAO,cAAgBI,EAAW,IAAMA,EAAWA,GAAY,IAAMJ,EAAO,IAAMI,EAAWA,IAehN+J,EAAUtK,EADA,6DACe,aAqBzBwG,EAAa,IAAIjkC,OAAOs+B,EAAc,KACtC4F,EAAc,IAAIlkC,OAAOi+B,EAAc,KACvC+J,EAAiB,IAAIhoC,OAAOy9B,EAAM,MAzBxB,wDAyBwC,QAAS,QAASsK,GAAU,KAE9EE,GAAa,IAAIjoC,OAAOy9B,EAAM,MAAOa,EAjBrB,uCAiBmD,KACnE4J,GAAcD,GAIpB,SAAAlE,GAA0BnkC,G,IACnBokC,EAAST,EAAY3jC,G,OAClBokC,EAAOjkC,MAAMkkC,GAAoBD,EAANpkC,EAGrC,IAAMgoC,GAA8C,C,OAC1C,S,MAED,SAAU/D,EAA0B/4B,G,IACrCq9B,EAAmBtE,EACnBllC,EAAKwpC,EAAiBxpC,GAAMwpC,EAAiBrmC,KAAOqmC,EAAiBrmC,KAAKa,MAAM,KAAO,G,KAC5Eb,UAAOkD,EAEpBmjC,EAAiB1D,MAAO,C,QACvB2D,GAAiB,EACf/S,EAAwB,GACxBgT,EAAUF,EAAiB1D,MAAM9hC,MAAM,KAEpChI,EAAI,EAAGgjC,EAAK0K,EAAQvwC,OAAQ6C,EAAIgjC,IAAMhjC,EAAG,C,IAC3C2tC,EAASD,EAAQ1tC,GAAGgI,MAAM,K,OAExB2lC,EAAO,I,IACT,K,QACEC,EAAUD,EAAO,GAAG3lC,MAAM,KACvBhI,EAAI,EAAGgjC,EAAK4K,EAAQzwC,OAAQ6C,EAAIgjC,IAAMhjC,E,EAC3CQ,KAAKotC,EAAQ5tC,I,UAGb,U,EACa6tC,QAAUb,EAAkBW,EAAO,GAAIx9B,G,UAEpD,O,EACa0qB,KAAOmS,EAAkBW,EAAO,GAAIx9B,G,iBAGpC,E,EACT68B,EAAkBW,EAAO,GAAIx9B,IAAY68B,EAAkBW,EAAO,GAAIx9B,IAK7Es9B,IAAgBD,EAAiB9S,QAAUA,G,EAG/BoP,WAAQz/B,E,IAEpB,IAAIrK,EAAI,EAAGgjC,EAAKh/B,EAAG7G,OAAQ6C,EAAIgjC,IAAMhjC,EAAG,C,IACtC8tC,EAAO9pC,EAAGhE,GAAGgI,MAAM,K,KAEpB,GAAKglC,EAAkBc,EAAK,IAE5B39B,EAAQ07B,e,EAQP,GAAKmB,EAAkBc,EAAK,GAAI39B,GAASX,mB,MALxC,GAAKg5B,EAAiBwE,EAAkBc,EAAK,GAAI39B,GAASX,eAC9D,MAAOkmB,G,EACSrgB,MAAQm4B,EAAiBn4B,OAAS,2EAA6EqgB,E,EAM/H11B,GAAK8tC,EAAK99B,KAAK,K,OAGZw9B,G,UAGI,SAAUA,EAAmCr9B,G,IP7GlC/O,EO8GhB8nC,EAAasE,EACbxpC,EP9GA5C,OADgBA,EO+GHosC,EAAiBxpC,IP9GO5C,aAAenB,MAAQmB,EAA6B,iBAAfA,EAAIjE,QAAuBiE,EAAI4G,OAAS5G,EAAI2sC,aAAe3sC,EAAIlI,KAAO,CAACkI,GAAOnB,MAAMtF,UAAUsT,MAAM/U,KAAKkI,GAAS,G,GO+G9L4C,EAAI,C,IACF,IAAIhE,EAAI,EAAGgjC,EAAKh/B,EAAG7G,OAAQ6C,EAAIgjC,IAAMhjC,EAAG,C,IACtCguC,EAASnwC,OAAOmG,EAAGhE,IACnBiuC,EAAQD,EAAO/sB,YAAY,KAC3BitB,EAAaF,EAAO//B,MAAM,EAAGggC,GAAQzoC,QAAQ+jC,EAAaH,IAAkB5jC,QAAQ+jC,EAAa55B,GAAanK,QAAQ6nC,EAAgB3E,GACxIyF,EAASH,EAAO//B,MAAMggC,EAAQ,G,MAItB99B,EAAQs7B,IAA2EjD,EAAmB2F,GAAxF3F,EAAiBwE,EAAkBmB,EAAQh+B,GAASX,eAC5E,MAAOkmB,G,EACGrgB,MAAQ6zB,EAAW7zB,OAAS,wDAA2DlF,EAAQs7B,IAAgB,UAAV,SAAuB,kBAAoB/V,E,EAGzJ11B,GAAKkuC,EAAY,IAAMC,E,EAGhBhnC,KAAOnD,EAAGgM,KAAK,K,IAGrB0qB,EAAU8S,EAAiB9S,QAAU8S,EAAiB9S,SAAW,GAEnE8S,EAAiBK,UAASnT,EAAA,QAAqB8S,EAAiBK,SAChEL,EAAiB3S,OAAMH,EAAA,KAAkB8S,EAAiB3S,M,IAExDiQ,EAAS,G,IACV,IAAMxxC,KAAQohC,EACdA,EAAQphC,KAAU6zC,EAAE7zC,I,EAChBkH,KACNlH,EAAKkM,QAAQ+jC,EAAaH,IAAkB5jC,QAAQ+jC,EAAa55B,GAAanK,QAAQ8nC,GAAY5E,GAClG,IACAhO,EAAQphC,GAAMkM,QAAQ+jC,EAAaH,IAAkB5jC,QAAQ+jC,EAAa55B,GAAanK,QAAQ+nC,GAAa7E,I,OAI3GoC,EAAO3tC,S,EACC2sC,MAAQgB,EAAO96B,KAAK,MAGzBk5B,IC/JHkF,GAAY,kBAIZnB,GAAqD,C,OACjD,M,MAED,SAAU/D,EAA0B/4B,G,IACrChL,EAAU+jC,EAAW/hC,MAAQ+hC,EAAW/hC,KAAK/B,MAAMgpC,IACrDC,EAAgBnF,E,GAEhB/jC,EAAS,C,IACNgb,EAAShQ,EAAQgQ,QAAUkuB,EAAcluB,QAAU,MACnDmuB,EAAMnpC,EAAQ,GAAGqK,cACjB++B,EAAMppC,EAAQ,GACdqpC,EAAeruB,EAAf,KAAyBhQ,EAAQm+B,KAAOA,GACxC1C,EAAgBnD,EAAQ+F,G,EAEhBF,IAAMA,E,EACNC,IAAMA,E,EACNpnC,UAAOkD,EAEjBuhC,I,EACaA,EAAcxpC,MAAMisC,EAAel+B,S,EAGtCkF,MAAQg5B,EAAch5B,OAAS,yB,OAGvCg5B,G,UAGI,SAAUA,EAA6Bl+B,G,IAC5CgQ,EAAShQ,EAAQgQ,QAAUkuB,EAAcluB,QAAU,MACnDmuB,EAAMD,EAAcC,IACpBE,EAAeruB,EAAf,KAAyBhQ,EAAQm+B,KAAOA,GACxC1C,EAAgBnD,EAAQ+F,GAE1B5C,I,EACaA,EAAcrxB,UAAU8zB,EAAel+B,I,IAGlDs+B,EAAgBJ,EAChBE,EAAMF,EAAcE,I,SACZpnC,MAAUmnC,GAAOn+B,EAAQm+B,KAAvC,IAA8CC,EAEvCE,ICxDHC,GAAO,2DAIPzB,GAAsE,C,OAClE,W,MAED,SAAUoB,EAA6Bl+B,G,IACxCw+B,EAAiBN,E,SACRO,KAAOD,EAAeJ,I,EACtBA,SAAMlkC,EAEhB8F,EAAQ48B,UAAc4B,EAAeC,MAASD,EAAeC,KAAKxpC,MAAMspC,M,EAC7Dr5B,MAAQs5B,EAAet5B,OAAS,sBAGzCs5B,G,UAGI,SAAUA,EAA+Bx+B,G,IAC9Ck+B,EAAgBM,E,SAERJ,KAAOI,EAAeC,MAAQ,IAAIp/B,cACzC6+B,IC5BT5F,EAAQyE,EAAK/sB,QAAU+sB,EAGvBzE,EAAQoG,EAAM1uB,QAAU0uB,EAGxBpG,EAAQqG,GAAO3uB,QAAU2uB,GAGzBrG,EAAQsG,GAAI5uB,QAAU4uB,GAGtBtG,EAAQmG,GAAKzuB,QAAUyuB,G,yHNmfvB,SAAwBI,EAAgBC,EAAoB9+B,G,IACrD++B,EJpeP,SAAuBpC,EAAgB1wC,G,IAChCgF,EAAM0rC,E,GACR1wC,E,IACE,IAAM9B,KAAO8B,E,EACb9B,GAAO8B,EAAO9B,G,OAGb8G,EI6dmBF,CAAO,CAAEif,OAAS,QAAUhQ,G,OAC/CoK,EAAUqyB,EAAkBxqC,EAAM4sC,EAASE,GAAoB9sC,EAAM6sC,EAAaC,GAAoBA,GAAmB,GAAOA,I,YAKxI,SAA0BC,EAASh/B,G,MACf,iBAARg/B,E,EACJ50B,EAAUnY,EAAM+sC,EAAKh/B,GAAUA,GACX,WAAhB+yB,EAAOiM,K,EACX/sC,EAAMmY,EAAyB40B,EAAKh/B,GAAUA,IAG9Cg/B,G,QAKR,SAAsBC,EAAUC,EAAUl/B,G,MACrB,iBAATi/B,E,EACH70B,EAAUnY,EAAMgtC,EAAMj/B,GAAUA,GACZ,WAAjB+yB,EAAOkM,K,EACV70B,EAAyB60B,EAAMj/B,IAGnB,iBAATk/B,E,EACH90B,EAAUnY,EAAMitC,EAAMl/B,GAAUA,GACZ,WAAjB+yB,EAAOmM,K,EACV90B,EAAyB80B,EAAMl/B,IAGhCi/B,IAASC,G,kBAGjB,SAAgCpqC,EAAYkL,G,OACpClL,GAAOA,EAAIyO,WAAWlO,QAAU2K,GAAYA,EAAQs7B,IAA4BC,EAAa4D,OAAnC3D,EAAa2D,OAA+B5G,I,yGOliB9GlwC,EAAOD,QAAU,SAAoB0M,GAKnC,IAJA,IAGIjL,EAHAmD,EAAS,EACToD,EAAM0E,EAAI9H,OACVqQ,EAAM,EAEHA,EAAMjN,GACXpD,KACAnD,EAAQiL,EAAIxI,WAAW+Q,OACV,OAAUxT,GAAS,OAAUwT,EAAMjN,GAGtB,QAAX,OADbvG,EAAQiL,EAAIxI,WAAW+Q,MACSA,IAGpC,OAAOrQ,I,6BChBT,IAAIia,EAAW5e,EAAOD,QAAU,SAAU+N,EAAQ8V,EAAMmzB,GAEnC,mBAARnzB,IACTmzB,EAAKnzB,EACLA,EAAO,IAwDX,SAASozB,EAAUpzB,EAAMqzB,EAAKC,EAAMppC,EAAQgT,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,GAC3G,GAAIrT,GAA2B,iBAAVA,IAAuBrG,MAAMC,QAAQoG,GAAS,CAEjE,IAAK,IAAIhM,KADTm1C,EAAInpC,EAAQgT,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,GAC7DrT,EAAQ,CACtB,IAAI+S,EAAM/S,EAAOhM,GACjB,GAAI2F,MAAMC,QAAQmZ,IAChB,GAAI/e,KAAO8c,EAASu4B,cAClB,IAAK,IAAI52C,EAAE,EAAGA,EAAEsgB,EAAIlc,OAAQpE,IAC1By2C,EAAUpzB,EAAMqzB,EAAKC,EAAMr2B,EAAItgB,GAAIugB,EAAU,IAAMhf,EAAM,IAAMvB,EAAGwgB,EAAYD,EAAShf,EAAKgM,EAAQvN,QAEnG,GAAIuB,KAAO8c,EAASw4B,eACzB,GAAIv2B,GAAqB,iBAAPA,EAChB,IAAK,IAAInS,KAAQmS,EACfm2B,EAAUpzB,EAAMqzB,EAAKC,EAAMr2B,EAAInS,GAAOoS,EAAU,IAAMhf,EAAM,IAAoB4M,EAY/E1B,QAAQ,KAAM,MAAMA,QAAQ,MAAO,MAZmD+T,EAAYD,EAAShf,EAAKgM,EAAQY,QAEpH5M,KAAO8c,EAASmF,UAAaH,EAAKhD,WAAa9e,KAAO8c,EAASy4B,gBACxEL,EAAUpzB,EAAMqzB,EAAKC,EAAMr2B,EAAKC,EAAU,IAAMhf,EAAKif,EAAYD,EAAShf,EAAKgM,GAGnFopC,EAAKppC,EAAQgT,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,IApEhF61B,CAAUpzB,EAHc,mBADxBmzB,EAAKnzB,EAAKmzB,IAAMA,GACsBA,EAAKA,EAAGE,KAAO,aAC1CF,EAAGG,MAAQ,aAEKppC,EAAQ,GAAIA,IAIzC8Q,EAASmF,SAAW,CAClBuzB,iBAAiB,EACjBnjB,OAAO,EACPojB,UAAU,EACVC,sBAAsB,EACtBC,eAAe,EACfC,KAAK,GAGP94B,EAASu4B,cAAgB,CACvBhjB,OAAO,EACPwjB,OAAO,EACPC,OAAO,EACPC,OAAO,GAGTj5B,EAASw4B,cAAgB,CACvBU,aAAa,EACbv7B,YAAY,EACZw7B,mBAAmB,EACnB5N,cAAc,GAGhBvrB,EAASy4B,aAAe,CACtB5sC,SAAS,EACTutC,MAAM,EACNC,OAAO,EACPC,UAAU,EACVC,SAAS,EACTC,SAAS,EACTC,kBAAkB,EAClBC,kBAAkB,EAClBC,YAAY,EACZC,WAAW,EACXC,WAAW,EACXC,SAAS,EACT5b,QAAQ,EACR6b,UAAU,EACVC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,eAAe,I,6BCvDjB,IAAIhe,EAAQ/6B,EAAOD,QAAU,WAC3BqJ,KAAKuzB,OAAS,IAIhB5B,EAAM54B,UAAUs7B,IAAM,SAAmB37B,EAAKN,GAC5C4H,KAAKuzB,OAAO76B,GAAON,GAIrBu5B,EAAM54B,UAAUf,IAAM,SAAmBU,GACvC,OAAOsH,KAAKuzB,OAAO76B,IAIrBi5B,EAAM54B,UAAUy6B,IAAM,SAAmB96B,UAChCsH,KAAKuzB,OAAO76B,IAIrBi5B,EAAM54B,UAAUkQ,MAAQ,WACtBjJ,KAAKuzB,OAAS,K,6BCtBhB,IAAIje,EAAO,EAAQ,GAEfs6B,EAAO,6BACPC,EAAO,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAC3CC,EAAO,0DACPC,EAAW,wGACX16B,EAAM,+nCAGN26B,EAAc,oLAKdpf,EAAM,4rDACNkc,EAAO,+DACP/mC,EAAe,4BACfkqC,EAA4B,+DAC5B/pC,EAAwB,mDAK5B,SAAS2rB,EAAQv5B,GAEf,OADAA,EAAe,QAARA,EAAiB,OAAS,OAC1Bgd,EAAKnT,KAAK0vB,EAAQv5B,IA8D3B,SAAS43C,EAAK7sC,GAEZ,IAAIE,EAAUF,EAAIG,MAAMosC,GACxB,IAAKrsC,EAAS,OAAO,EAErB,IAAI4sC,GAAQ5sC,EAAQ,GAChB6sC,GAAS7sC,EAAQ,GACjB8sC,GAAO9sC,EAAQ,GAEnB,OAAO6sC,GAAS,GAAKA,GAAS,IAAMC,GAAO,GACnCA,IAAiB,GAATD,GAhBlB,SAAoBD,GAElB,OAAOA,EAAO,GAAM,IAAMA,EAAO,KAAQ,GAAKA,EAAO,KAAQ,GAc/BG,CAAWH,GAAQ,GAAKN,EAAKO,IAI7D,SAASG,EAAKltC,EAAKmtC,GACjB,IAAIjtC,EAAUF,EAAIG,MAAMssC,GACxB,IAAKvsC,EAAS,OAAO,EAErB,IAAIktC,EAAOltC,EAAQ,GACfmtC,EAASntC,EAAQ,GACjBwqB,EAASxqB,EAAQ,GACjBotC,EAAWptC,EAAQ,GACvB,OAASktC,GAAQ,IAAMC,GAAU,IAAM3iB,GAAU,IAChC,IAAR0iB,GAAwB,IAAVC,GAA0B,IAAV3iB,MAC9ByiB,GAAQG,GA1FnB/5C,EAAOD,QAAUk7B,EAQjBA,EAAQ+e,KAAO,CAEbV,KAAM,6BAENK,KAAM,8EACN,YAAa,0GAEbhD,IAAK,4CACL,gBAAiB,yEACjB,eAAgByC,EAChB94B,IAAK0Z,EAILigB,MAAO,mHACPC,SAAUf,EAEVgB,KAAM,4EAENC,KAAM,qpCACNta,MAAOA,EAEPsW,KAAMF,EAGN,eAAgB/mC,EAChB,4BAA6BkqC,EAE7B,wBAAyB/pC,GAI3B2rB,EAAQ2e,KAAO,CACbN,KAAMA,EACNK,KAAMA,EACN,YAoDF,SAAmBltC,GAEjB,IAAI4tC,EAAW5tC,EAAI+C,MAAM8qC,GACzB,OAA0B,GAAnBD,EAAS11C,QAAe20C,EAAKe,EAAS,KAAOV,EAAKU,EAAS,IAAI,IAtDtE1D,IA2DF,SAAalqC,GAEX,OAAO8tC,EAAiBnrC,KAAK3C,IAAQgS,EAAIrP,KAAK3C,IA5D9C,gBA3DW,yoCA4DX,eAAgB2sC,EAChB94B,IAAK0Z,EACLigB,MAAO,2IACPC,SAAUf,EACVgB,KAAM,4EACNC,KAAM,qpCACNta,MAAOA,EACPsW,KAAMF,EACN,eAAgB/mC,EAChB,4BAA6BkqC,EAC7B,wBAAyB/pC,GAsC3B,IAAIgrC,EAAsB,QAQ1B,IAAIC,EAAmB,OAOvB,IAAIC,EAAW,WACf,SAAS1a,EAAMrzB,GACb,GAAI+tC,EAASprC,KAAK3C,GAAM,OAAO,EAC/B,IAEE,OADA,IAAII,OAAOJ,IACJ,EACP,MAAMywB,GACN,OAAO,K,6BCzIX,IAAIud,EAAc,EAAQ,IACtB7uC,EAAS,EAAQ,GAAUA,OAE/B5L,EAAOD,QAAU,WACf,IAAIowB,EAAQ,CACV,CAAEhsB,KAAM,SACN4J,MAAO,CAAE,CAAE,QAAW,CAAC,qBACd,CAAE,QAAW,CAAC,qBAAuB,aAAc,WAC9D,CAAE5J,KAAM,SACN4J,MAAO,CAAE,YAAa,YAAa,UAAW,WAChD,CAAE5J,KAAM,QACN4J,MAAO,CAAE,WAAY,WAAY,QAAS,WAAY,gBACxD,CAAE5J,KAAM,SACN4J,MAAO,CAAE,gBAAiB,gBAAiB,WAAY,eAAgB,gBAC9D,CAAE,WAAc,CAAC,uBAAwB,wBACpD,CAAEA,MAAO,CAAE,OAAQ,QAAS,OAAQ,MAAO,QAAS,QAAS,QAAS,QAGpE2sC,EAAM,CAAE,OAAQ,YA4CpB,OAnCAvqB,EAAMC,IAAMxkB,EAAO8uC,GACnBvqB,EAAMxkB,MAAQC,EAFF,CAAE,SAAU,UAAW,SAAU,QAAS,SAAU,UAAW,SAI3EukB,EAAM7oB,SAAQ,SAAUqzC,GACtBA,EAAM5sC,MAAQ4sC,EAAM5sC,MAAMpG,KAAI,SAAUwc,GACtC,IAAIy2B,EACJ,GAAsB,iBAAXz2B,EAAqB,CAC9B,IAAIriB,EAAMb,OAAOoG,KAAK8c,GAAS,GAC/By2B,EAAez2B,EAAQriB,GACvBqiB,EAAUriB,EACV84C,EAAatzC,SAAQ,SAAUynC,GAC7B2L,EAAI1yC,KAAK+mC,GACT5e,EAAMC,IAAI2e,IAAK,KASnB,OANA2L,EAAI1yC,KAAKmc,GACEgM,EAAMC,IAAIjM,GAAW,CAC9BA,QAASA,EACTvf,KAAM61C,EAAYt2B,GAClByQ,WAAYgmB,MAKhBzqB,EAAMC,IAAIuC,SAAW,CACnBxO,QAAS,WACTvf,KAAM61C,EAAY9nB,UAGhBgoB,EAAMx2C,OAAMgsB,EAAMxkB,MAAMgvC,EAAMx2C,MAAQw2C,MAG5CxqB,EAAMpM,SAAWnY,EAAO8uC,EAAIxyC,OAxCb,CACb,UAAW,MAAO,KAAM,QAAS,SAAU,QAC3C,cAAe,UAAW,cAC1B,WAAY,WAAY,YACxB,mBAAoB,kBACpB,kBAAmB,OAAQ,UAoC7BioB,EAAM/L,OAAS,GAER+L,I,6BC7DTnwB,EAAOD,QAAU,CACf,KAAQ,EAAQ,IAChB43C,MAAO,EAAQ,IACfC,MAAO,EAAQ,IACf,SAAY,EAAQ,IACpBK,MAAO,EAAQ,IACfV,SAAU,EAAQ,IAClBpN,aAAc,EAAQ,IACtB,KAAQ,EAAQ,IAChBrN,OAAQ,EAAQ,IAChB,GAAM,EAAQ,IACd3I,MAAO,EAAQ,IACfgkB,QAAS,EAAQ,IACjBC,QAAS,EAAQ,IACjBO,SAAU,EAAQ,IAClBC,SAAU,EAAQ,IAClBJ,UAAW,EAAQ,IACnBC,UAAW,EAAQ,IACnBK,cAAe,EAAQ,IACvBC,cAAe,EAAQ,IACvBR,WAAY,EAAQ,IACpBb,IAAK,EAAQ,IACbG,MAAO,EAAQ,IACfa,QAAS,EAAQ,IACjBn8B,WAAY,EAAQ,IACpBk7B,cAAe,EAAQ,IACvBS,SAAU,EAAQ,IAClBW,YAAa,EAAQ,IACrBv5B,SAAU,EAAQ,M,6BC9BpBtf,EAAOD,QAAU,SAAsB+vB,EAAIC,EAAUC,GACnD,IAQIC,EAAQ4qB,EARR/yC,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EAEvB,GAAe,KAAXG,GAA6B,MAAXA,EAChBnB,EAAGgZ,QACL7Y,EAASH,EAAGxiB,MACZutC,EAAW,aAEX5qB,GAAmC,IAA1BH,EAAGjwB,KAAKiO,OAAOmiB,OACxB4qB,EAAW,sBAER,CACL,IAAIC,EAAUhrB,EAAGkZ,WAAWlZ,EAAGrQ,OAAQwR,EAASnB,EAAGgZ,QACnD,QAAgBj3B,IAAZipC,EAAuB,CACzB,IAAIC,EAAWjrB,EAAG5N,gBAAgBC,QAAQ2N,EAAGrQ,OAAQwR,GACrD,GAA2B,QAAvBnB,EAAGlM,KAAKo3B,YAAuB,CACjClrB,EAAGW,OAAO5T,MAAMk+B,IACZtpB,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,qDAAwEgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,sBAA0BtB,EAAGpR,KAAKrS,aAAa4kB,GAAY,QAChM,IAArBnB,EAAGlM,KAAK+N,WACV7pB,GAAO,0CAA+CgoB,EAAGpR,KAAKrS,aAAa4kB,GAAY,MAErFnB,EAAGlM,KAAKgO,UACV9pB,GAAO,cAAiBgoB,EAAGpR,KAAKvQ,eAAe8iB,GAAY,mCAAsCnB,EAAa,WAAI,YAAc,EAAU,KAE5IhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAE/BwpB,IACFxpB,GAAO,sBAEJ,IAA2B,UAAvBgoB,EAAGlM,KAAKo3B,YAMjB,MAAM,IAAIlrB,EAAG5N,gBAAgB4N,EAAGrQ,OAAQwR,EAAS8pB,GALjDjrB,EAAGW,OAAOC,KAAKqqB,GACXzpB,IACFxpB,GAAO,uBAKN,GAAIgzC,EAAQhR,OAAQ,CACzB,IAAImR,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACvBmrB,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC/ByyB,EAAIntC,OAASgtC,EAAQhtC,OACrBmtC,EAAI9pB,WAAa,GACjB8pB,EAAI5pB,cAAgBJ,EAEpBnpB,GAAO,IADKgoB,EAAGxQ,SAAS27B,GAAKjuC,QAAQ,oBAAqB8tC,EAAQl2C,MAC3C,IACnB0sB,IACFxpB,GAAO,QAAU,EAAe,aAGlCmoB,GAA4B,IAAnB6qB,EAAQ7qB,QAAoBH,EAAGxiB,QAA4B,IAAnBwtC,EAAQ7qB,OACzD4qB,EAAWC,EAAQl2C,KAGvB,GAAIi2C,EAAU,CACZ,IAAIppB,KAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,GACFgoB,EAAGlM,KAAKu3B,YACVrzC,GAAO,IAAM,EAAa,eAE1BA,GAAO,IAAM,EAAa,KAE5BA,GAAO,IAAM,EAAU,qBACH,MAAhBgoB,EAAGiZ,YACLjhC,GAAO,MAASgoB,EAAY,WAK9B,IAAIsrB,EADJtzC,GAAO,OAFWipB,EAAW,QAAWA,EAAW,GAAM,IAAM,cAEhC,OADPA,EAAWjB,EAAGmC,YAAYlB,GAAY,sBACC,gBAG/D,GADAjpB,EAAM2pB,EAAW5e,MACbod,EAAQ,CACV,IAAKH,EAAGxiB,MAAO,MAAM,IAAI+B,MAAM,0CAC3BiiB,IACFxpB,GAAO,QAAU,EAAW,MAE9BA,GAAO,gBAAkB,EAAmB,KACxCwpB,IACFxpB,GAAO,IAAM,EAAW,aAE1BA,GAAO,4KACHwpB,IACFxpB,GAAO,IAAM,EAAW,cAE1BA,GAAO,MACHwpB,IACFxpB,GAAO,QAAU,EAAW,aAG9BA,GAAO,SAAW,EAAmB,uCAAyC,EAAa,0CAA4C,EAAa,wCAChJwpB,IACFxpB,GAAO,YAIb,OAAOA,I,6BCzHT9H,EAAOD,QAAU,SAAwB+vB,EAAIC,EAAUC,GACrD,IAAIloB,EAAM,IACNmpB,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzB0pB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACnBurB,EAAiB,GACrBJ,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC3B8yB,EAAiBL,EAAIx7B,OACvB87B,GAAmB,EACjBnoB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIY,EAAMV,GAAM,EACdC,EAAKH,EAAKzuB,OAAS,EACd2uB,EAAKC,GACVS,EAAOZ,EAAKE,GAAM,IACbxD,EAAGlM,KAAK0M,eAAgC,iBAAR0D,GAAoB/yB,OAAOoG,KAAK2sB,GAAMrvB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAemmB,EAAMlE,EAAGK,MAAMC,QAC5HmrB,GAAmB,EACnBN,EAAIntC,OAASkmB,EACbinB,EAAI9pB,WAAaD,EAAc,IAAMoC,EAAK,IAC1C2nB,EAAI5pB,cAAgBD,EAAiB,IAAMkC,EAC3CxrB,GAAO,KAAQgoB,EAAGxQ,SAAS27B,GAAQ,IACnCA,EAAIx7B,OAAS67B,EACThqB,IACFxpB,GAAO,QAAU,EAAe,OAChCuzC,GAAkB,MAa1B,OARI/pB,IAEAxpB,GADEyzC,EACK,gBAEA,IAAOF,EAAe5lC,MAAM,GAAI,GAAM,KAGjD3N,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,K,6BCvC5B9H,EAAOD,QAAU,SAAwB+vB,EAAIC,EAAUC,GACrD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnB0qB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACnBurB,EAAiB,GACrBJ,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAI/B,GAHqByI,EAAQmZ,OAAM,SAASpW,GAC1C,OAAQlE,EAAGlM,KAAK0M,eAAgC,iBAAR0D,GAAoB/yB,OAAOoG,KAAK2sB,GAAMrvB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAemmB,EAAMlE,EAAGK,MAAMC,QAE/G,CAClB,IAAIkrB,EAAiBL,EAAIx7B,OACzB3X,GAAO,QAAU,EAAU,kBAAoB,EAAW,cAC1D,IAAI2zC,EAAgB3rB,EAAGgC,cACvBhC,EAAGgC,cAAgBmpB,EAAInpB,eAAgB,EACvC,IAAIsB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIY,EAAMV,GAAM,EACdC,EAAKH,EAAKzuB,OAAS,EACd2uB,EAAKC,GACVS,EAAOZ,EAAKE,GAAM,GAClB2nB,EAAIntC,OAASkmB,EACbinB,EAAI9pB,WAAaD,EAAc,IAAMoC,EAAK,IAC1C2nB,EAAI5pB,cAAgBD,EAAiB,IAAMkC,EAC3CxrB,GAAO,KAAQgoB,EAAGxQ,SAAS27B,GAAQ,IACnCA,EAAIx7B,OAAS67B,EACbxzC,GAAO,IAAM,EAAW,MAAQ,EAAW,OAAS,EAAe,UAAY,EAAW,OAC1FuzC,GAAkB,IAGtBvrB,EAAGgC,cAAgBmpB,EAAInpB,cAAgB2pB,EACvC3zC,GAAO,IAAM,EAAmB,SAAW,EAAW,sBAC9B,IAApBgoB,EAAG4B,cACL5pB,GAAO,sDAAyEgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kBACtI,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,oDAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACFgoB,EAAGgC,eAAiBR,IAEnBxB,EAAGxiB,MACLxF,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,uBAAyB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,4BACrHgoB,EAAGlM,KAAK2N,YACVzpB,GAAO,OAETA,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,QAEtBwpB,IACFxpB,GAAO,iBAGX,OAAOA,I,6BCvET9H,EAAOD,QAAU,SAA0B+vB,EAAIC,EAAUC,GACvD,IAAIloB,EAAM,IACNmpB,EAAUnB,EAAGhiB,OAAOiiB,GACpBqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAE1C4C,GADiB7C,EAAGlM,KAAK2N,UACdzB,EAAGpR,KAAKvQ,eAAe8iB,IAMtC,OALyB,IAArBnB,EAAGlM,KAAK+O,SACV7qB,GAAO,gBAAkB,EAAa,KACF,mBAApBgoB,EAAGlM,KAAK+O,WACxB7qB,GAAO,wBAA0B,EAAa,KAAQgoB,EAAGpR,KAAKvQ,eAAeijB,GAAmB,4BAE3FtpB,I,6BCXT9H,EAAOD,QAAU,SAAwB+vB,EAAIC,EAAUC,GACrD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnBkE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,IACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,MAKlG+C,IACHltB,GAAO,cAAgB,EAAS,qBAAuB,EAAgB,KAEzEA,GAAO,OAAS,EAAW,YAAc,EAAU,WAAa,EAAS,WAAa,EAAW,SACjG,IAAI2pB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,sDAAyEgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,oCAAsC,EAAS,OACrL,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,8CAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHwpB,IACFxpB,GAAO,YAEFA,I,6BCrDT9H,EAAOD,QAAU,SAA2B+vB,EAAIC,EAAUC,GACxD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnB0qB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GAEvBmrB,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC3BkzB,EAAO,IAAM5qB,EACf6qB,EAAWV,EAAIjqB,UAAYlB,EAAGkB,UAAY,EAC1C4qB,EAAY,OAASD,EACrBL,EAAiBxrB,EAAGrQ,OACpBo8B,EAAmB/rB,EAAGlM,KAAK0M,eAAmC,iBAAXW,GAAuBhwB,OAAOoG,KAAK4pB,GAAStsB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAeojB,EAASnB,EAAGK,MAAMC,KAEvJ,GADAtoB,GAAO,OAAS,EAAU,iBAAmB,EAAW,IACpD+zC,EAAiB,CACnB,IAAIJ,EAAgB3rB,EAAGgC,cACvBhC,EAAGgC,cAAgBmpB,EAAInpB,eAAgB,EACvCmpB,EAAIntC,OAASmjB,EACbgqB,EAAI9pB,WAAaD,EACjB+pB,EAAI5pB,cAAgBD,EACpBtpB,GAAO,QAAU,EAAe,sBAAwB,EAAS,SAAW,EAAS,MAAQ,EAAU,YAAc,EAAS,SAC9HmzC,EAAIlS,UAAYjZ,EAAGpR,KAAKtQ,YAAY0hB,EAAGiZ,UAAW2S,EAAM5rB,EAAGlM,KAAKtV,cAAc,GAC9E,IAAI2lB,EAAYnlB,EAAQ,IAAM4sC,EAAO,IACrCT,EAAIhpB,YAAY0pB,GAAYD,EAC5B,IAAI/mB,EAAQ7E,EAAGxQ,SAAS27B,GACxBA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAC5C9zC,GAAO,IAAOgoB,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAAc,IAEjEnsB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAExEA,GAAO,QAAU,EAAe,eAChCgoB,EAAGgC,cAAgBmpB,EAAInpB,cAAgB2pB,EACvC3zC,GAAO,UAAoC,EAAe,WAE1DA,GAAO,QAAU,EAAU,kBAE7B,IAAI2pB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,yDAA4EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kBACzI,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,8CAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAoBZ,OAnBAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,aACH+zC,IACF/zC,GAAO,cAAgB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,6BAE9GgoB,EAAGlM,KAAK2N,YACVzpB,GAAO,OAETA,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,K,6BC9E5B9H,EAAOD,QAAU,SAA+B+vB,EAAIC,EAAUC,GAC5D,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9ByqB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACnBurB,EAAiB,GACrBJ,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC3BszB,EAAc,GAChBC,EAAgB,GAChBC,EAAiBlsB,EAAGlM,KAAKq4B,cAC3B,IAAKC,KAAajrB,EAAS,CACzB,IAAI+C,EAAO/C,EAAQirB,GACfC,EAAQ10C,MAAMC,QAAQssB,GAAQ+nB,EAAgBD,EAClDK,EAAMD,GAAaloB,EAErBlsB,GAAO,OAAS,EAAU,aAC1B,IAAIs0C,EAAoBtsB,EAAGiZ,UAE3B,IAAK,IAAImT,KADTp0C,GAAO,cAAgB,EAAS,IACVi0C,EAEpB,IADAI,EAAQJ,EAAcG,IACZv3C,OAAQ,CAKhB,GAJAmD,GAAO,SAAW,EAAWgoB,EAAGpR,KAAKtS,YAAY8vC,GAAc,kBAC3DF,IACFl0C,GAAO,4CAA8C,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAa6vC,GAAc,OAE1G5qB,EAAe,CACjBxpB,GAAO,SACP,IAAIsrB,EAAO+oB,EACX,GAAI/oB,EAGF,IAFA,IAAkBE,GAAM,EACtBC,EAAKH,EAAKzuB,OAAS,EACd2uB,EAAKC,GAAI,CACdM,EAAeT,EAAKE,GAAM,GACtBA,IACFxrB,GAAO,QAITA,GAAO,SADLu0C,EAAWvtC,GADTwtC,EAAQxsB,EAAGpR,KAAKtS,YAAYynB,KAEF,kBAC1BmoB,IACFl0C,GAAO,8CAAgD,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAawnB,GAAiB,OAEnH/rB,GAAO,gBAAkB,EAAS,MAASgoB,EAAGpR,KAAKvQ,eAAe2hB,EAAGlM,KAAKtV,aAAeulB,EAAeyoB,GAAU,OAGtHx0C,GAAO,SACP,IAAIy0C,EAAgB,UAAYzrB,EAC9B0rB,EAAmB,OAAUD,EAAgB,OAC3CzsB,EAAGlM,KAAKub,yBACVrP,EAAGiZ,UAAYjZ,EAAGlM,KAAKtV,aAAewhB,EAAGpR,KAAKtQ,YAAYguC,EAAmBG,GAAe,GAAQH,EAAoB,MAAQG,GAElI,IAAI9qB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,6DAAgFgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,2BAA+BtB,EAAGpR,KAAKrS,aAAa6vC,GAAc,wBAA4B,EAAqB,iBAAqBC,EAAY,OAAI,YAAgBrsB,EAAGpR,KAAKrS,aAA6B,GAAhB8vC,EAAMx3C,OAAcw3C,EAAM,GAAKA,EAAM3kC,KAAK,OAAU,QAC9X,IAArBsY,EAAGlM,KAAK+N,WACV7pB,GAAO,4BACa,GAAhBq0C,EAAMx3C,OACRmD,GAAO,YAAegoB,EAAGpR,KAAKrS,aAAa8vC,EAAM,IAEjDr0C,GAAO,cAAiBgoB,EAAGpR,KAAKrS,aAAa8vC,EAAM3kC,KAAK,OAE1D1P,GAAO,kBAAqBgoB,EAAGpR,KAAKrS,aAAa6vC,GAAc,iBAE7DpsB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,mFAE9B,CACLA,GAAO,QACP,IAAI2rB,EAAO0oB,EACX,GAAI1oB,EAGF,IAFA,IAAII,EAAcH,GAAM,EACtBC,EAAKF,EAAK9uB,OAAS,EACd+uB,EAAKC,GAAI,CACdE,EAAeJ,EAAKC,GAAM,GAC1B,IAAI4oB,EAAQxsB,EAAGpR,KAAKtS,YAAYynB,GAE9BwoB,GADAG,EAAmB1sB,EAAGpR,KAAKrS,aAAawnB,GAC7B/kB,EAAQwtC,GACjBxsB,EAAGlM,KAAKub,yBACVrP,EAAGiZ,UAAYjZ,EAAGpR,KAAKjQ,QAAQ2tC,EAAmBvoB,EAAc/D,EAAGlM,KAAKtV,eAE1ExG,GAAO,SAAW,EAAa,kBAC3Bk0C,IACFl0C,GAAO,8CAAgD,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAawnB,GAAiB,OAEnH/rB,GAAO,qBACiB,IAApBgoB,EAAG4B,cACL5pB,GAAO,6DAAgFgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,2BAA+BtB,EAAGpR,KAAKrS,aAAa6vC,GAAc,wBAA4B,EAAqB,iBAAqBC,EAAY,OAAI,YAAgBrsB,EAAGpR,KAAKrS,aAA6B,GAAhB8vC,EAAMx3C,OAAcw3C,EAAM,GAAKA,EAAM3kC,KAAK,OAAU,QAC9X,IAArBsY,EAAGlM,KAAK+N,WACV7pB,GAAO,4BACa,GAAhBq0C,EAAMx3C,OACRmD,GAAO,YAAegoB,EAAGpR,KAAKrS,aAAa8vC,EAAM,IAEjDr0C,GAAO,cAAiBgoB,EAAGpR,KAAKrS,aAAa8vC,EAAM3kC,KAAK,OAE1D1P,GAAO,kBAAqBgoB,EAAGpR,KAAKrS,aAAa6vC,GAAc,iBAE7DpsB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,kFAIbA,GAAO,QACHwpB,IACF+pB,GAAkB,IAClBvzC,GAAO,YAIbgoB,EAAGiZ,UAAYqT,EACf,IAAId,EAAiBL,EAAIx7B,OACzB,IAAK,IAAIy8B,KAAaJ,EAAa,CAC7B9nB,EAAO8nB,EAAYI,IAClBpsB,EAAGlM,KAAK0M,eAAgC,iBAAR0D,GAAoB/yB,OAAOoG,KAAK2sB,GAAMrvB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAemmB,EAAMlE,EAAGK,MAAMC,QAC5HtoB,GAAO,IAAM,EAAe,iBAAmB,EAAWgoB,EAAGpR,KAAKtS,YAAY8vC,GAAc,kBACxFF,IACFl0C,GAAO,4CAA8C,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAa6vC,GAAc,OAE9Gp0C,GAAO,OACPmzC,EAAIntC,OAASkmB,EACbinB,EAAI9pB,WAAaD,EAAcpB,EAAGpR,KAAKtS,YAAY8vC,GACnDjB,EAAI5pB,cAAgBD,EAAiB,IAAMtB,EAAGpR,KAAK7O,eAAeqsC,GAClEp0C,GAAO,KAAQgoB,EAAGxQ,SAAS27B,GAAQ,IACnCA,EAAIx7B,OAAS67B,EACbxzC,GAAO,OACHwpB,IACFxpB,GAAO,QAAU,EAAe,OAChCuzC,GAAkB,MAQxB,OAJI/pB,IACFxpB,GAAO,MAAQ,EAAmB,QAAU,EAAU,iBAExDA,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,K,6BCpK5B9H,EAAOD,QAAU,SAAuB+vB,EAAIC,EAAUC,GACpD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnBkE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,IACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,MAKvG,IAAIqB,EAAK,IAAMxC,EACb2rB,EAAW,SAAW3rB,EACnBkE,IACHltB,GAAO,QAAU,EAAa,qBAAuB,EAAgB,KAEvEA,GAAO,OAAS,EAAW,IACvBktB,IACFltB,GAAO,cAAgB,EAAS,mBAAqB,EAAW,0CAA4C,EAAS,MAAQ,EAAW,oBAE1IA,GAAY,EAAW,qBAAuB,EAAO,OAAS,EAAO,IAAM,EAAa,YAAc,EAAO,iBAAmB,EAAU,KAAO,EAAa,IAAM,EAAO,SAAW,EAAW,oBAC7LktB,IACFltB,GAAO,SAETA,GAAO,SAAW,EAAW,SAC7B,IAAI2pB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,qDAAwEgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,qCAAuC,EAAS,OACrL,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,+DAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHwpB,IACFxpB,GAAO,YAEFA,I,6BC/DT9H,EAAOD,QAAU,SAAyB+vB,EAAIC,EAAUC,GACtD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAClC,IAAuB,IAAnBjB,EAAGlM,KAAKkZ,OAIV,OAHIxL,IACFxpB,GAAO,iBAEFA,EAET,IACEitB,EADEC,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB,IAAIyrB,EAAkB5sB,EAAGlM,KAAK+4B,eAC5BC,EAAgBn1C,MAAMC,QAAQg1C,GAChC,GAAI1nB,EAAS,CAIXltB,GAAO,SAHH+0C,EAAU,SAAW/rB,GAGI,cAAgB,EAAiB,WAF5DgsB,EAAY,WAAahsB,GAE6D,aAAe,EAAY,qBAAyB,EAAY,0BAA4B,EAAY,mBAD9LisB,EAAc,aAAejsB,GACqM,MAAQ,EAAc,OAAS,EAAY,0BAA8B,EAAc,OACvThB,EAAGxiB,QACLxF,GAAO,aAAe,EAAS,MAAQ,EAAY,YAErDA,GAAO,IAAM,EAAY,MAAQ,EAAY,sBACzCktB,IACFltB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,KACgB,UAAnB40C,IACF50C,GAAO,KAAO,EAAiB,QAAU,EAAY,IACjD80C,IACF90C,GAAO,yCAA2C,EAAiB,YAErEA,GAAO,SAETA,GAAO,KAAO,EAAY,OAAS,EAAgB,QAAW,EAAc,iBAAoB,EAAY,oBACxGgoB,EAAGxiB,MACLxF,GAAO,UAAY,EAAS,YAAc,EAAY,IAAM,EAAU,OAAS,EAAY,IAAM,EAAU,MAE3GA,GAAO,IAAM,EAAY,IAAM,EAAU,KAE3CA,GAAO,MAAQ,EAAY,SAAW,EAAU,cAC3C,CACL,IAAI+0C,EACJ,KADIA,EAAU/sB,EAAGmL,QAAQhK,IACX,CACZ,GAAuB,UAAnByrB,EAKF,OAJA5sB,EAAGW,OAAOC,KAAK,mBAAqBO,EAAU,gCAAkCnB,EAAGuB,cAAgB,KAC/FC,IACFxpB,GAAO,iBAEFA,EACF,GAAI80C,GAAiBF,EAAgBp2C,QAAQ2qB,IAAY,EAI9D,OAHIK,IACFxpB,GAAO,iBAEFA,EAEP,MAAM,IAAIuH,MAAM,mBAAqB4hB,EAAU,gCAAkCnB,EAAGuB,cAAgB,KAGxG,IAAIyrB,EACAC,GADAD,EAA8B,iBAAXD,KAAyBA,aAAmBhwC,SAAWgwC,EAAQv9B,WACvDu9B,EAAQ14C,MAAQ,SAC/C,GAAI24C,EAAW,CACb,IAAI7sB,GAA2B,IAAlB4sB,EAAQvvC,MACrBuvC,EAAUA,EAAQv9B,SAEpB,GAAIy9B,GAAe/sB,EAIjB,OAHIsB,IACFxpB,GAAO,iBAEFA,EAET,GAAImoB,EAAQ,CACV,IAAKH,EAAGxiB,MAAO,MAAM,IAAI+B,MAAM,+BAE/BvH,GAAO,iBADHk1C,EAAa,UAAYltB,EAAGpR,KAAKtS,YAAY6kB,GAAW,aACpB,IAAM,EAAU,aACnD,CACLnpB,GAAO,UACP,IAAIk1C,EAAa,UAAYltB,EAAGpR,KAAKtS,YAAY6kB,GAC7C6rB,IAAWE,GAAc,aAE3Bl1C,GADoB,mBAAX+0C,EACF,IAAM,EAAe,IAAM,EAAU,KAErC,IAAM,EAAe,SAAW,EAAU,KAEnD/0C,GAAO,QAGX,IAAI2pB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,uDAA0EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,yBAE9JtpB,GADEktB,EACK,GAAK,EAEL,GAAMlF,EAAGpR,KAAKvQ,eAAe8iB,GAEtCnpB,GAAO,QACkB,IAArBgoB,EAAGlM,KAAK+N,WACV7pB,GAAO,sCAELA,GADEktB,EACK,OAAU,EAAiB,OAE3B,GAAMlF,EAAGpR,KAAKrS,aAAa4kB,GAEpCnpB,GAAO,QAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,eAELA,GADEktB,EACK,kBAAoB,EAEpB,GAAMlF,EAAGpR,KAAKvQ,eAAe8iB,GAEtCnpB,GAAO,2CAA8CgoB,EAAa,WAAI,YAAc,EAAU,KAEhGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MACHwpB,IACFxpB,GAAO,YAEFA,I,6BCnJT9H,EAAOD,QAAU,SAAqB+vB,EAAIC,EAAUC,GAClD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnB0qB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACvBmrB,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC3By0B,EAAWntB,EAAGhiB,OAAa,KAC7BovC,EAAWptB,EAAGhiB,OAAa,KAC3BqvC,OAA4BtrC,IAAborC,IAA2BntB,EAAGlM,KAAK0M,eAAoC,iBAAZ2sB,GAAwBh8C,OAAOoG,KAAK41C,GAAUt4C,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAeovC,EAAUntB,EAAGK,MAAMC,MAC/KgtB,OAA4BvrC,IAAbqrC,IAA2BptB,EAAGlM,KAAK0M,eAAoC,iBAAZ4sB,GAAwBj8C,OAAOoG,KAAK61C,GAAUv4C,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAeqvC,EAAUptB,EAAGK,MAAMC,MAC/KkrB,EAAiBL,EAAIx7B,OACvB,GAAI09B,GAAgBC,EAAc,CAChC,IAAIC,EACJpC,EAAIvpB,cAAe,EACnBupB,EAAIntC,OAASmjB,EACbgqB,EAAI9pB,WAAaD,EACjB+pB,EAAI5pB,cAAgBD,EACpBtpB,GAAO,QAAU,EAAU,kBAAoB,EAAW,aAC1D,IAAI2zC,EAAgB3rB,EAAGgC,cACvBhC,EAAGgC,cAAgBmpB,EAAInpB,eAAgB,EACvChqB,GAAO,KAAQgoB,EAAGxQ,SAAS27B,GAAQ,IACnCA,EAAIx7B,OAAS67B,EACbL,EAAIvpB,cAAe,EACnB5pB,GAAO,cAAgB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,6BAChHgoB,EAAGgC,cAAgBmpB,EAAInpB,cAAgB2pB,EACnC0B,GACFr1C,GAAO,QAAU,EAAe,QAChCmzC,EAAIntC,OAASgiB,EAAGhiB,OAAa,KAC7BmtC,EAAI9pB,WAAarB,EAAGqB,WAAa,QACjC8pB,EAAI5pB,cAAgBvB,EAAGuB,cAAgB,QACvCvpB,GAAO,KAAQgoB,EAAGxQ,SAAS27B,GAAQ,IACnCA,EAAIx7B,OAAS67B,EACbxzC,GAAO,IAAM,EAAW,MAAQ,EAAe,KAC3Cq1C,GAAgBC,EAElBt1C,GAAO,SADPu1C,EAAY,WAAavsB,GACM,cAE/BusB,EAAY,SAEdv1C,GAAO,MACHs1C,IACFt1C,GAAO,aAGTA,GAAO,SAAW,EAAe,OAE/Bs1C,IACFnC,EAAIntC,OAASgiB,EAAGhiB,OAAa,KAC7BmtC,EAAI9pB,WAAarB,EAAGqB,WAAa,QACjC8pB,EAAI5pB,cAAgBvB,EAAGuB,cAAgB,QACvCvpB,GAAO,KAAQgoB,EAAGxQ,SAAS27B,GAAQ,IACnCA,EAAIx7B,OAAS67B,EACbxzC,GAAO,IAAM,EAAW,MAAQ,EAAe,KAC3Cq1C,GAAgBC,EAElBt1C,GAAO,SADPu1C,EAAY,WAAavsB,GACM,cAE/BusB,EAAY,SAEdv1C,GAAO,OAETA,GAAO,SAAW,EAAW,sBACL,IAApBgoB,EAAG4B,cACL5pB,GAAO,mDAAsEgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,gCAAkC,EAAc,OACnL,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,mCAAsC,EAAc,mBAEzDgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACFgoB,EAAGgC,eAAiBR,IAEnBxB,EAAGxiB,MACLxF,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,QACHwpB,IACFxpB,GAAO,YAETA,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,QAEtBwpB,IACFxpB,GAAO,iBAGX,OAAOA,I,6BCrGT9H,EAAOD,QAAU,SAAwB+vB,EAAIC,EAAUC,GACrD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnB0qB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACnBurB,EAAiB,GACrBJ,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC3BkzB,EAAO,IAAM5qB,EACf6qB,EAAWV,EAAIjqB,UAAYlB,EAAGkB,UAAY,EAC1C4qB,EAAY,OAASD,EACrBL,EAAiBxrB,EAAGrQ,OAEtB,GADA3X,GAAO,OAAS,EAAU,iBAAmB,EAAW,IACpDL,MAAMC,QAAQupB,GAAU,CAC1B,IAAIqsB,EAAmBxtB,EAAGhiB,OAAOwpC,gBACjC,IAAyB,IAArBgG,EAA4B,CAC9Bx1C,GAAO,IAAM,EAAW,MAAQ,EAAU,cAAiBmpB,EAAc,OAAI,KAC7E,IAAIssB,EAAqBnsB,EACzBA,EAAiBtB,EAAGuB,cAAgB,mBACpCvpB,GAAO,UAAY,EAAW,SAC9B,IAAI2pB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,gEAAmFgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,uBAA0BH,EAAc,OAAI,OAC5L,IAArBnB,EAAGlM,KAAK+N,WACV7pB,GAAO,0CAA8CmpB,EAAc,OAAI,YAErEnB,EAAGlM,KAAKgO,UACV9pB,GAAO,mDAAsDgoB,EAAa,WAAI,YAAc,EAAU,KAExGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MACPspB,EAAiBmsB,EACbjsB,IACF+pB,GAAkB,IAClBvzC,GAAO,YAGX,IAAIsrB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIY,EAAMV,GAAM,EACdC,EAAKH,EAAKzuB,OAAS,EACd2uB,EAAKC,GAEV,GADAS,EAAOZ,EAAKE,GAAM,GACbxD,EAAGlM,KAAK0M,eAAgC,iBAAR0D,GAAoB/yB,OAAOoG,KAAK2sB,GAAMrvB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAemmB,EAAMlE,EAAGK,MAAMC,KAAO,CACnItoB,GAAO,IAAM,EAAe,gBAAkB,EAAU,aAAe,EAAO,OAC9E,IAAImsB,EAAYnlB,EAAQ,IAAMwkB,EAAK,IACnC2nB,EAAIntC,OAASkmB,EACbinB,EAAI9pB,WAAaD,EAAc,IAAMoC,EAAK,IAC1C2nB,EAAI5pB,cAAgBD,EAAiB,IAAMkC,EAC3C2nB,EAAIlS,UAAYjZ,EAAGpR,KAAKtQ,YAAY0hB,EAAGiZ,UAAWzV,EAAIxD,EAAGlM,KAAKtV,cAAc,GAC5E2sC,EAAIhpB,YAAY0pB,GAAYroB,EAC5B,IAAIqB,EAAQ7E,EAAGxQ,SAAS27B,GACxBA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAC5C9zC,GAAO,IAAOgoB,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAAc,IAEjEnsB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAExEA,GAAO,OACHwpB,IACFxpB,GAAO,QAAU,EAAe,OAChCuzC,GAAkB,KAK1B,GAA+B,iBAApBiC,IAAiCxtB,EAAGlM,KAAK0M,eAA4C,iBAApBgtB,GAAgCr8C,OAAOoG,KAAKi2C,GAAkB34C,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAeyvC,EAAkBxtB,EAAGK,MAAMC,MAAO,CAC9M6qB,EAAIntC,OAASwvC,EACbrC,EAAI9pB,WAAarB,EAAGqB,WAAa,mBACjC8pB,EAAI5pB,cAAgBvB,EAAGuB,cAAgB,mBACvCvpB,GAAO,IAAM,EAAe,gBAAkB,EAAU,aAAgBmpB,EAAc,OAAI,iBAAmB,EAAS,MAASA,EAAc,OAAI,KAAO,EAAS,MAAQ,EAAU,YAAc,EAAS,SAC1MgqB,EAAIlS,UAAYjZ,EAAGpR,KAAKtQ,YAAY0hB,EAAGiZ,UAAW2S,EAAM5rB,EAAGlM,KAAKtV,cAAc,GAC1E2lB,EAAYnlB,EAAQ,IAAM4sC,EAAO,IACrCT,EAAIhpB,YAAY0pB,GAAYD,EACxB/mB,EAAQ7E,EAAGxQ,SAAS27B,GACxBA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAC5C9zC,GAAO,IAAOgoB,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAAc,IAEjEnsB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAEpEwpB,IACFxpB,GAAO,SAAW,EAAe,aAEnCA,GAAO,SACHwpB,IACFxpB,GAAO,QAAU,EAAe,OAChCuzC,GAAkB,WAGjB,GAAKvrB,EAAGlM,KAAK0M,eAAmC,iBAAXW,GAAuBhwB,OAAOoG,KAAK4pB,GAAStsB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAeojB,EAASnB,EAAGK,MAAMC,KAAO,CACnJ6qB,EAAIntC,OAASmjB,EACbgqB,EAAI9pB,WAAaD,EACjB+pB,EAAI5pB,cAAgBD,EACpBtpB,GAAO,cAAgB,EAAS,SAAqB,EAAS,MAAQ,EAAU,YAAc,EAAS,SACvGmzC,EAAIlS,UAAYjZ,EAAGpR,KAAKtQ,YAAY0hB,EAAGiZ,UAAW2S,EAAM5rB,EAAGlM,KAAKtV,cAAc,GAC1E2lB,EAAYnlB,EAAQ,IAAM4sC,EAAO,IACrCT,EAAIhpB,YAAY0pB,GAAYD,EACxB/mB,EAAQ7E,EAAGxQ,SAAS27B,GACxBA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAC5C9zC,GAAO,IAAOgoB,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAAc,IAEjEnsB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAEpEwpB,IACFxpB,GAAO,SAAW,EAAe,aAEnCA,GAAO,KAMT,OAJIwpB,IACFxpB,GAAO,IAAM,EAAmB,QAAU,EAAU,iBAEtDA,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,K,6BCzI5B9H,EAAOD,QAAU,SAA6B+vB,EAAIC,EAAUC,GAC1D,IASE+E,EATEjtB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BiE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjBnpB,GAAO,eAAiB,EAAS,QAC7BktB,IACFltB,GAAO,IAAM,EAAiB,8BAAgC,EAAiB,oBAEjFA,GAAO,aAAe,EAAS,MAAQ,EAAU,MAAQ,EAAiB,KACtEgoB,EAAGlM,KAAK45B,oBACV11C,GAAO,gCAAkC,EAAS,eAAiB,EAAS,UAAagoB,EAAGlM,KAAwB,oBAAI,IAExH9b,GAAO,YAAc,EAAS,yBAA2B,EAAS,KAEpEA,GAAO,MACHktB,IACFltB,GAAO,SAETA,GAAO,UACP,IAAI2pB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,2DAA8EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,4BAA8B,EAAiB,OAC1L,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,sCAELA,GADEktB,EACK,OAAU,EAEL,EAAiB,KAG7BlF,EAAGlM,KAAKgO,UACV9pB,GAAO,eAELA,GADEktB,EACK,kBAAoB,EAEpB,GAAK,EAEdltB,GAAO,2CAA8CgoB,EAAa,WAAI,YAAc,EAAU,KAEhGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHwpB,IACFxpB,GAAO,YAEFA,I,6BC1ET9H,EAAOD,QAAU,SAAsB+vB,EAAIC,EAAUC,GACnD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9ByqB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACvBmrB,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC/B,GAAKsH,EAAGlM,KAAK0M,eAAmC,iBAAXW,GAAuBhwB,OAAOoG,KAAK4pB,GAAStsB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAeojB,EAASnB,EAAGK,MAAMC,KAAO,CAC5I6qB,EAAIntC,OAASmjB,EACbgqB,EAAI9pB,WAAaD,EACjB+pB,EAAI5pB,cAAgBD,EACpBtpB,GAAO,QAAU,EAAU,eAC3B,IAGI21C,EAHAhC,EAAgB3rB,EAAGgC,cACvBhC,EAAGgC,cAAgBmpB,EAAInpB,eAAgB,EACvCmpB,EAAIvpB,cAAe,EAEfupB,EAAIr3B,KAAK2N,YACXksB,EAAmBxC,EAAIr3B,KAAK2N,UAC5B0pB,EAAIr3B,KAAK2N,WAAY,GAEvBzpB,GAAO,IAAOgoB,EAAGxQ,SAAS27B,GAAQ,IAClCA,EAAIvpB,cAAe,EACf+rB,IAAkBxC,EAAIr3B,KAAK2N,UAAYksB,GAC3C3tB,EAAGgC,cAAgBmpB,EAAInpB,cAAgB2pB,EACvC3zC,GAAO,QAAU,EAAe,SAChC,IAAI2pB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,oDAAuEgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kBACpI,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,sCAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,uBAAyB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,4BACrHgoB,EAAGlM,KAAK2N,YACVzpB,GAAO,YAGTA,GAAO,kBACiB,IAApBgoB,EAAG4B,cACL5pB,GAAO,oDAAuEgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kBACpI,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,sCAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,+EACHwpB,IACFxpB,GAAO,kBAGX,OAAOA,I,6BCjFT9H,EAAOD,QAAU,SAAwB+vB,EAAIC,EAAUC,GACrD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnB0qB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACnBurB,EAAiB,GACrBJ,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC3B8yB,EAAiBL,EAAIx7B,OACvBi+B,EAAa,YAAc5sB,EAC3B6sB,EAAkB,iBAAmB7sB,EACvChpB,GAAO,OAAS,EAAU,eAAiB,EAAe,cAAgB,EAAW,cAAgB,EAAoB,YACzH,IAAI2zC,EAAgB3rB,EAAGgC,cACvBhC,EAAGgC,cAAgBmpB,EAAInpB,eAAgB,EACvC,IAAIsB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIY,EAAMV,GAAM,EACdC,EAAKH,EAAKzuB,OAAS,EACd2uB,EAAKC,GACVS,EAAOZ,EAAKE,GAAM,IACbxD,EAAGlM,KAAK0M,eAAgC,iBAAR0D,GAAoB/yB,OAAOoG,KAAK2sB,GAAMrvB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAemmB,EAAMlE,EAAGK,MAAMC,OAC5H6qB,EAAIntC,OAASkmB,EACbinB,EAAI9pB,WAAaD,EAAc,IAAMoC,EAAK,IAC1C2nB,EAAI5pB,cAAgBD,EAAiB,IAAMkC,EAC3CxrB,GAAO,KAAQgoB,EAAGxQ,SAAS27B,GAAQ,IACnCA,EAAIx7B,OAAS67B,GAEbxzC,GAAO,QAAU,EAAe,YAE9BwrB,IACFxrB,GAAO,QAAU,EAAe,OAAS,EAAe,OAAS,EAAW,aAAe,EAAoB,OAAS,EAAoB,KAAO,EAAO,eAC1JuzC,GAAkB,KAEpBvzC,GAAO,QAAU,EAAe,OAAS,EAAW,MAAQ,EAAe,YAAc,EAAoB,MAAQ,EAAO,MA8BhI,OA3BAgoB,EAAGgC,cAAgBmpB,EAAInpB,cAAgB2pB,EACvC3zC,GAAY,EAAmB,QAAU,EAAW,sBAC5B,IAApBgoB,EAAG4B,cACL5pB,GAAO,sDAAyEgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,gCAAkC,EAAoB,OAC5L,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,2DAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACFgoB,EAAGgC,eAAiBR,IAEnBxB,EAAGxiB,MACLxF,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,sBAAwB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,2BACpHgoB,EAAGlM,KAAK2N,YACVzpB,GAAO,OAEFA,I,6BCtET9H,EAAOD,QAAU,SAA0B+vB,EAAIC,EAAUC,GACvD,IASE+E,EATEjtB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BiE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAGjBnpB,GAAO,QACHktB,IACFltB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,MALOktB,EAAU,eAAiBD,EAAe,KAAOjF,EAAGmZ,WAAWhY,IAKnD,SAAW,EAAU,WAC/C,IAAIQ,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,wDAA2EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,0BAE/JtpB,GADEktB,EACK,GAAK,EAEL,GAAMlF,EAAGpR,KAAKvQ,eAAe8iB,GAEtCnpB,GAAO,QACkB,IAArBgoB,EAAGlM,KAAK+N,WACV7pB,GAAO,uCAELA,GADEktB,EACK,OAAU,EAAiB,OAE3B,GAAMlF,EAAGpR,KAAKrS,aAAa4kB,GAEpCnpB,GAAO,QAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,eAELA,GADEktB,EACK,kBAAoB,EAEpB,GAAMlF,EAAGpR,KAAKvQ,eAAe8iB,GAEtCnpB,GAAO,2CAA8CgoB,EAAa,WAAI,YAAc,EAAU,KAEhGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EAgBZ,OAfAA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHwpB,IACFxpB,GAAO,YAEFA,I,6BCxET9H,EAAOD,QAAU,SAA6B+vB,EAAIC,EAAUC,GAC1D,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9ByqB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACnBurB,EAAiB,GACrBJ,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC3Bo1B,EAAO,MAAQ9sB,EACjB4qB,EAAO,MAAQ5qB,EACf6qB,EAAWV,EAAIjqB,UAAYlB,EAAGkB,UAAY,EAC1C4qB,EAAY,OAASD,EACrBkC,EAAkB,iBAAmB/sB,EACnCgtB,EAAc78C,OAAOoG,KAAK4pB,GAAW,IACvC8sB,EAAejuB,EAAGhiB,OAAOiqC,mBAAqB,GAC9CiG,EAAiB/8C,OAAOoG,KAAK02C,GAC7BE,EAAenuB,EAAGhiB,OAAO0pC,qBACzB0G,EAAkBJ,EAAYn5C,QAAUq5C,EAAer5C,OACvDw5C,GAAiC,IAAjBF,EAChBG,EAA6C,iBAAhBH,GAA4Bh9C,OAAOoG,KAAK42C,GAAct5C,OACnF05C,EAAoBvuB,EAAGlM,KAAK06B,iBAC5BC,EAAmBJ,GAAiBC,GAAuBC,EAC3DrC,EAAiBlsB,EAAGlM,KAAKq4B,cACzBX,EAAiBxrB,EAAGrQ,OAClB++B,EAAY1uB,EAAGhiB,OAAOoqC,SAC1B,GAAIsG,KAAe1uB,EAAGlM,KAAK9U,QAAS0vC,EAAU1vC,QAAU0vC,EAAU75C,OAASmrB,EAAGlM,KAAKqb,aAAc,IAAIwf,EAAgB3uB,EAAGpR,KAAK9S,OAAO4yC,GAKpI,GAJA12C,GAAO,OAAS,EAAU,iBAAmB,EAAe,WACxDk0C,IACFl0C,GAAO,QAAU,EAAoB,iBAEnCy2C,EAAkB,CAMpB,GAJEz2C,GADEk0C,EACK,IAAM,EAAoB,MAAQ,EAAoB,mBAAqB,EAAU,eAAiB,EAAS,OAAS,EAAS,IAAM,EAAoB,YAAc,EAAS,aAAe,EAAS,MAAQ,EAAoB,IAAM,EAAS,MAErP,aAAe,EAAS,OAAS,EAAU,OAEhDkC,EAAiB,CAEnB,GADAp2C,GAAO,oBAAsB,EAAS,cAClCg2C,EAAYn5C,OACd,GAAIm5C,EAAYn5C,OAAS,EACvBmD,GAAO,sBAAwB,EAAgB,mBAAqB,EAAS,SACxE,CACL,IAAIsrB,EAAO0qB,EACX,GAAI1qB,EAGF,IAFA,IAAkBsrB,GAAM,EACtBnrB,EAAKH,EAAKzuB,OAAS,EACd+5C,EAAKnrB,GACVM,EAAeT,EAAKsrB,GAAM,GAC1B52C,GAAO,OAAS,EAAS,OAAUgoB,EAAGpR,KAAKvQ,eAAe0lB,GAAiB,IAKnF,GAAImqB,EAAer5C,OAAQ,CACzB,IAAI8uB,EAAOuqB,EACX,GAAIvqB,EAGF,IAFA,IAAgBH,GAAM,EACpBK,EAAKF,EAAK9uB,OAAS,EACd2uB,EAAKK,GACVgrB,GAAalrB,EAAKH,GAAM,GACxBxrB,GAAO,OAAUgoB,EAAGmZ,WAAW0V,IAAe,SAAW,EAAS,KAIxE72C,GAAO,uBAAyB,EAAS,OAE3C,GAAyB,OAArBu2C,EACFv2C,GAAO,WAAa,EAAU,IAAM,EAAS,UACxC,CACL,IAAIs0C,EAAoBtsB,EAAGiZ,UACvB6V,EAAsB,OAAUhB,EAAO,OAI3C,GAHI9tB,EAAGlM,KAAKub,yBACVrP,EAAGiZ,UAAYjZ,EAAGpR,KAAKtQ,YAAY0hB,EAAGiZ,UAAW6U,EAAM9tB,EAAGlM,KAAKtV,eAE7D6vC,EACF,GAAIE,EACFv2C,GAAO,WAAa,EAAU,IAAM,EAAS,UACxC,CACLA,GAAO,IAAM,EAAe,aAC5B,IAAIy1C,EAAqBnsB,EACzBA,EAAiBtB,EAAGuB,cAAgB,yBAChCI,GAAaA,IAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,qEAAwFgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,qCAAwC,EAAwB,QACrN,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gBACHgoB,EAAGlM,KAAKub,uBACVr3B,GAAO,oCAEPA,GAAO,wCAETA,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,mDAAsDgoB,EAAa,WAAI,YAAc,EAAU,KAExGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,GAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCspB,EAAiBmsB,EACbjsB,IACFxpB,GAAO,iBAGN,GAAIs2C,EACT,GAAyB,WAArBC,EAAgC,CAClCv2C,GAAO,QAAU,EAAU,eAC3B,IAAI2zC,EAAgB3rB,EAAGgC,cACvBhC,EAAGgC,cAAgBmpB,EAAInpB,eAAgB,EACvCmpB,EAAIntC,OAASmwC,EACbhD,EAAI9pB,WAAarB,EAAGqB,WAAa,wBACjC8pB,EAAI5pB,cAAgBvB,EAAGuB,cAAgB,wBACvC4pB,EAAIlS,UAAYjZ,EAAGlM,KAAKub,uBAAyBrP,EAAGiZ,UAAYjZ,EAAGpR,KAAKtQ,YAAY0hB,EAAGiZ,UAAW6U,EAAM9tB,EAAGlM,KAAKtV,cAChH,IAAI2lB,EAAYnlB,EAAQ,IAAM8uC,EAAO,IACrC3C,EAAIhpB,YAAY0pB,GAAYiC,EAC5B,IAAIjpB,EAAQ7E,EAAGxQ,SAAS27B,GACxBA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAC5C9zC,GAAO,IAAOgoB,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAAc,IAEjEnsB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAExEA,GAAO,SAAW,EAAe,gBAAkB,EAAU,wHAA0H,EAAU,IAAM,EAAS,SAChNgoB,EAAGgC,cAAgBmpB,EAAInpB,cAAgB2pB,MAClC,CACLR,EAAIntC,OAASmwC,EACbhD,EAAI9pB,WAAarB,EAAGqB,WAAa,wBACjC8pB,EAAI5pB,cAAgBvB,EAAGuB,cAAgB,wBACvC4pB,EAAIlS,UAAYjZ,EAAGlM,KAAKub,uBAAyBrP,EAAGiZ,UAAYjZ,EAAGpR,KAAKtQ,YAAY0hB,EAAGiZ,UAAW6U,EAAM9tB,EAAGlM,KAAKtV,cAC5G2lB,EAAYnlB,EAAQ,IAAM8uC,EAAO,IACrC3C,EAAIhpB,YAAY0pB,GAAYiC,EACxBjpB,EAAQ7E,EAAGxQ,SAAS27B,GACxBA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAC5C9zC,GAAO,IAAOgoB,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAAc,IAEjEnsB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAEpEwpB,IACFxpB,GAAO,SAAW,EAAe,aAIvCgoB,EAAGiZ,UAAYqT,EAEb8B,IACFp2C,GAAO,OAETA,GAAO,OACHwpB,IACFxpB,GAAO,QAAU,EAAe,OAChCuzC,GAAkB,KAGtB,IAAIwD,EAAe/uB,EAAGlM,KAAKsO,cAAgBpC,EAAGgC,cAC9C,GAAIgsB,EAAYn5C,OAAQ,CACtB,IAAIivB,EAAOkqB,EACX,GAAIlqB,EAGF,IAFA,IAAIC,EAAcC,GAAM,EACtBC,EAAKH,EAAKjvB,OAAS,EACdmvB,EAAKC,GAAI,CAEd,IAAIC,EAAO/C,EADX4C,EAAeD,EAAKE,GAAM,IAE1B,GAAKhE,EAAGlM,KAAK0M,eAAgC,iBAAR0D,GAAoB/yB,OAAOoG,KAAK2sB,GAAMrvB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAemmB,EAAMlE,EAAGK,MAAMC,KAAO,CACnI,IAAIksB,EAAQxsB,EAAGpR,KAAKtS,YAAYynB,GAE9BirB,GADA7qB,EAAYnlB,EAAQwtC,EACNuC,QAAiChtC,IAAjBmiB,EAAKvpB,SACrCwwC,EAAIntC,OAASkmB,EACbinB,EAAI9pB,WAAaD,EAAcorB,EAC/BrB,EAAI5pB,cAAgBD,EAAiB,IAAMtB,EAAGpR,KAAK7O,eAAegkB,GAClEonB,EAAIlS,UAAYjZ,EAAGpR,KAAKjQ,QAAQqhB,EAAGiZ,UAAWlV,EAAc/D,EAAGlM,KAAKtV,cACpE2sC,EAAIhpB,YAAY0pB,GAAY7rB,EAAGpR,KAAKvQ,eAAe0lB,GAC/Cc,EAAQ7E,EAAGxQ,SAAS27B,GAExB,GADAA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAAG,CAC/CjnB,EAAQ7E,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAC7C,IAAIooB,GAAWpoB,MACV,CACDooB,GAAWT,EACf9zC,GAAO,QAAU,EAAc,MAAQ,EAAc,KAEvD,GAAIg3C,EACFh3C,GAAO,IAAM,EAAU,QAClB,CACL,GAAI22C,GAAiBA,EAAc5qB,GAAe,CAChD/rB,GAAO,SAAW,GAAa,kBAC3Bk0C,IACFl0C,GAAO,8CAAgD,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAawnB,GAAiB,OAEnH/rB,GAAO,OAAS,EAAe,aAC3Bs0C,EAAoBtsB,EAAGiZ,UACzBwU,EAAqBnsB,EADvB,IAOIK,GALF+qB,GAAmB1sB,EAAGpR,KAAKrS,aAAawnB,GACtC/D,EAAGlM,KAAKub,yBACVrP,EAAGiZ,UAAYjZ,EAAGpR,KAAKjQ,QAAQ2tC,EAAmBvoB,EAAc/D,EAAGlM,KAAKtV,eAE1E8iB,EAAiBtB,EAAGuB,cAAgB,aAChCI,GAAaA,IAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,yDAA4EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kCAAqC,GAAqB,QACnM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gBACHgoB,EAAGlM,KAAKub,uBACVr3B,GAAO,yBAEPA,GAAO,oCAAuC,GAAqB,MAErEA,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAEL+pB,EAAQ/pB,EACZA,EAAM2pB,GAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCspB,EAAiBmsB,EACjBztB,EAAGiZ,UAAYqT,EACft0C,GAAO,kBAEHwpB,GACFxpB,GAAO,SAAW,GAAa,kBAC3Bk0C,IACFl0C,GAAO,8CAAgD,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAawnB,GAAiB,OAEnH/rB,GAAO,OAAS,EAAe,uBAE/BA,GAAO,QAAU,GAAa,kBAC1Bk0C,IACFl0C,GAAO,8CAAgD,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAawnB,GAAiB,OAEnH/rB,GAAO,SAGXA,GAAO,IAAM,EAAU,OAGvBwpB,IACFxpB,GAAO,QAAU,EAAe,OAChCuzC,GAAkB,MAK1B,GAAI2C,EAAer5C,OAAQ,CACzB,IAAIyvB,GAAO4pB,EACX,GAAI5pB,GAGF,IAFA,IAAIuqB,GAAYI,IAAM,EACpB1qB,GAAKD,GAAKzvB,OAAS,EACdo6C,GAAK1qB,IAAI,CAEVL,EAAO+pB,EADXY,GAAavqB,GAAK2qB,IAAM,IAExB,GAAKjvB,EAAGlM,KAAK0M,eAAgC,iBAAR0D,GAAoB/yB,OAAOoG,KAAK2sB,GAAMrvB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAemmB,EAAMlE,EAAGK,MAAMC,KAAO,CACnI6qB,EAAIntC,OAASkmB,EACbinB,EAAI9pB,WAAarB,EAAGqB,WAAa,qBAAuBrB,EAAGpR,KAAKtS,YAAYuyC,IAC5E1D,EAAI5pB,cAAgBvB,EAAGuB,cAAgB,sBAAwBvB,EAAGpR,KAAK7O,eAAe8uC,IAEpF72C,GADEk0C,EACK,IAAM,EAAoB,MAAQ,EAAoB,mBAAqB,EAAU,eAAiB,EAAS,OAAS,EAAS,IAAM,EAAoB,YAAc,EAAS,aAAe,EAAS,MAAQ,EAAoB,IAAM,EAAS,MAErP,aAAe,EAAS,OAAS,EAAU,OAEpDl0C,GAAO,QAAWgoB,EAAGmZ,WAAW0V,IAAe,SAAW,EAAS,QACnE1D,EAAIlS,UAAYjZ,EAAGpR,KAAKtQ,YAAY0hB,EAAGiZ,UAAW6U,EAAM9tB,EAAGlM,KAAKtV,cAC5D2lB,EAAYnlB,EAAQ,IAAM8uC,EAAO,IACrC3C,EAAIhpB,YAAY0pB,GAAYiC,EACxBjpB,EAAQ7E,EAAGxQ,SAAS27B,GACxBA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAC5C9zC,GAAO,IAAOgoB,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAAc,IAEjEnsB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAEpEwpB,IACFxpB,GAAO,SAAW,EAAe,aAEnCA,GAAO,MACHwpB,IACFxpB,GAAO,SAAW,EAAe,aAEnCA,GAAO,OACHwpB,IACFxpB,GAAO,QAAU,EAAe,OAChCuzC,GAAkB,OAU5B,OAJI/pB,IACFxpB,GAAO,IAAM,EAAmB,QAAU,EAAU,iBAEtDA,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,K,6BCtU5B9H,EAAOD,QAAU,SAAgC+vB,EAAIC,EAAUC,GAC7D,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9ByqB,EAAQ,SAAW1qB,EACnBmqB,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GAEvBmrB,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAE/B,GADA1gB,GAAO,OAAS,EAAU,aACrBgoB,EAAGlM,KAAK0M,eAAmC,iBAAXW,GAAuBhwB,OAAOoG,KAAK4pB,GAAStsB,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAeojB,EAASnB,EAAGK,MAAMC,KAAO,CAC5I6qB,EAAIntC,OAASmjB,EACbgqB,EAAI9pB,WAAaD,EACjB+pB,EAAI5pB,cAAgBD,EACpB,IAAIwsB,EAAO,MAAQ9sB,EACjB4qB,EAAO,MAAQ5qB,EACfwC,EAAK,IAAMxC,EACXkuB,EAAe,OAAUpB,EAAO,OAEhChC,EAAY,QADDX,EAAIjqB,UAAYlB,EAAGkB,UAAY,GAE1C6sB,EAAkB,iBAAmB/sB,EACrCkrB,EAAiBlsB,EAAGlM,KAAKq4B,cACzBX,EAAiBxrB,EAAGrQ,OAClBu8B,IACFl0C,GAAO,QAAU,EAAoB,kBAGrCA,GADEk0C,EACK,IAAM,EAAoB,MAAQ,EAAoB,mBAAqB,EAAU,eAAiB,EAAS,OAAS,EAAS,IAAM,EAAoB,YAAc,EAAS,aAAe,EAAS,MAAQ,EAAoB,IAAM,EAAS,MAErP,aAAe,EAAS,OAAS,EAAU,OAEpDl0C,GAAO,iBAAmB,EAAS,cACnC,IAAImsB,EAAY2pB,EACZnC,EAAgB3rB,EAAGgC,cACvBhC,EAAGgC,cAAgBmpB,EAAInpB,eAAgB,EACvC,IAAI6C,EAAQ7E,EAAGxQ,SAAS27B,GACxBA,EAAIx7B,OAAS67B,EACTxrB,EAAGpR,KAAKlS,cAAcmoB,EAAOinB,GAAa,EAC5C9zC,GAAO,IAAOgoB,EAAGpR,KAAK5R,WAAW6nB,EAAOinB,EAAW3nB,GAAc,IAEjEnsB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAExEgoB,EAAGgC,cAAgBmpB,EAAInpB,cAAgB2pB,EACvC3zC,GAAO,SAAW,EAAe,gBAAkB,EAAO,aAAe,EAAS,KAAO,EAAO,YAAc,EAAO,iBAAmB,EAAO,oBAAsB,EAAS,sBACtJ,IAApBgoB,EAAG4B,cACL5pB,GAAO,8DAAiFgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,+BAAkC,EAAiB,QACjM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,iCAAqC,EAAiB,oBAE3DgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACFgoB,EAAGgC,eAAiBR,IAEnBxB,EAAGxiB,MACLxF,GAAO,wCAEPA,GAAO,8CAGPwpB,IACFxpB,GAAO,YAETA,GAAO,OAMT,OAJIwpB,IACFxpB,GAAO,SAAmC,EAAU,iBAEtDA,EAAMgoB,EAAGpR,KAAKzR,YAAYnF,K,6BC9E5B9H,EAAOD,QAAU,SAA2B+vB,EAAIC,EAAUC,GACxD,IAAIloB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnBkE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,IACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,MAKvG,IAAIwqB,EAAW,SAAW3rB,EAC1B,IAAKkE,EACH,GAAI/D,EAAQtsB,OAASmrB,EAAGlM,KAAKqb,cAAgBnP,EAAGhiB,OAAOyO,YAActb,OAAOoG,KAAKyoB,EAAGhiB,OAAOyO,YAAY5X,OAAQ,CAC7G,IAAI65C,EAAY,GACZprB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAI8oB,EAAWwC,GAAM,EACnBnrB,EAAKH,EAAKzuB,OAAS,EACd+5C,EAAKnrB,GAAI,CACd2oB,EAAY9oB,EAAKsrB,GAAM,GACvB,IAAIO,EAAenvB,EAAGhiB,OAAOyO,WAAW2/B,GAClC+C,IAAiBnvB,EAAGlM,KAAK0M,eAAwC,iBAAhB2uB,GAA4Bh+C,OAAOoG,KAAK43C,GAAct6C,OAAS,EAAImrB,EAAGpR,KAAK7Q,eAAeoxC,EAAcnvB,EAAGK,MAAMC,QACtKouB,EAAUA,EAAU75C,QAAUu3C,SAKhCsC,EAAYvtB,EAGpB,GAAI+D,GAAWwpB,EAAU75C,OAAQ,CAC/B,IAAIy3C,EAAoBtsB,EAAGiZ,UACzBmW,EAAgBlqB,GAAWwpB,EAAU75C,QAAUmrB,EAAGlM,KAAKqb,aACvD+c,EAAiBlsB,EAAGlM,KAAKq4B,cAC3B,GAAI3qB,EAEF,GADAxpB,GAAO,eAAiB,EAAS,KAC7Bo3C,EAAe,CACZlqB,IACHltB,GAAO,QAAU,EAAa,qBAAuB,EAAgB,MAEvE,IAEE00C,EAAmB,QADnBD,EAAgB,SAAWzrB,EAAO,KADhCwC,EAAK,IAAMxC,GACgC,KACA,OAC3ChB,EAAGlM,KAAKub,yBACVrP,EAAGiZ,UAAYjZ,EAAGpR,KAAKtQ,YAAYguC,EAAmBG,EAAezsB,EAAGlM,KAAKtV,eAE/ExG,GAAO,QAAU,EAAW,YACxBktB,IACFltB,GAAO,cAAgB,EAAS,mBAAqB,EAAW,0CAA4C,EAAS,MAAQ,EAAW,oBAE1IA,GAAO,aAAe,EAAO,SAAW,EAAO,MAAQ,EAAa,YAAc,EAAO,SAAW,EAAW,MAAQ,EAAU,IAAM,EAAa,IAAM,EAAO,oBAC7Jk0C,IACFl0C,GAAO,8CAAgD,EAAU,KAAO,EAAa,IAAM,EAAO,OAEpGA,GAAO,UAAY,EAAW,cAC1BktB,IACFltB,GAAO,SAETA,GAAO,UAAY,EAAW,UAC1B2pB,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,yDAA4EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gBACHgoB,EAAGlM,KAAKub,uBACVr3B,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,iBACF,CACLA,GAAO,SACP,IAAI2rB,EAAO+qB,EACX,GAAI/qB,EAGF,IAFA,IAAkBH,GAAM,EACtBK,EAAKF,EAAK9uB,OAAS,EACd2uB,EAAKK,GAAI,CACdE,EAAeJ,EAAKH,GAAM,GACtBA,IACFxrB,GAAO,QAITA,GAAO,SADLu0C,EAAWvtC,GADTwtC,EAAQxsB,EAAGpR,KAAKtS,YAAYynB,KAEF,kBAC1BmoB,IACFl0C,GAAO,8CAAgD,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAawnB,GAAiB,OAEnH/rB,GAAO,gBAAkB,EAAS,MAASgoB,EAAGpR,KAAKvQ,eAAe2hB,EAAGlM,KAAKtV,aAAeulB,EAAeyoB,GAAU,OAGtHx0C,GAAO,QACP,IAKI2pB,EAJF+qB,EAAmB,QADjBD,EAAgB,UAAYzrB,GACe,OAC3ChB,EAAGlM,KAAKub,yBACVrP,EAAGiZ,UAAYjZ,EAAGlM,KAAKtV,aAAewhB,EAAGpR,KAAKtQ,YAAYguC,EAAmBG,GAAe,GAAQH,EAAoB,MAAQG,IAE9H9qB,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,yDAA4EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gBACHgoB,EAAGlM,KAAKub,uBACVr3B,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAEL+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,kBAGT,GAAIo3C,EAAe,CACZlqB,IACHltB,GAAO,QAAU,EAAa,qBAAuB,EAAgB,MAEvE,IACEy0C,EACAC,EAAmB,QADnBD,EAAgB,SAAWzrB,EAAO,KADhCwC,EAAK,IAAMxC,GACgC,KACA,OAC3ChB,EAAGlM,KAAKub,yBACVrP,EAAGiZ,UAAYjZ,EAAGpR,KAAKtQ,YAAYguC,EAAmBG,EAAezsB,EAAGlM,KAAKtV,eAE3E0mB,IACFltB,GAAO,QAAU,EAAa,sBAAwB,EAAa,sBAC3C,IAApBgoB,EAAG4B,cACL5pB,GAAO,yDAA4EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gBACHgoB,EAAGlM,KAAKub,uBACVr3B,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,0FAA4F,EAAa,sBAElHA,GAAO,aAAe,EAAO,SAAW,EAAO,MAAQ,EAAa,YAAc,EAAO,aAAe,EAAU,IAAM,EAAa,IAAM,EAAO,oBAC9Ik0C,IACFl0C,GAAO,8CAAgD,EAAU,KAAO,EAAa,IAAM,EAAO,OAEpGA,GAAO,qBACiB,IAApBgoB,EAAG4B,cACL5pB,GAAO,yDAA4EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gBACHgoB,EAAGlM,KAAKub,uBACVr3B,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,mFACHktB,IACFltB,GAAO,aAEJ,CACL,IAAI8rB,EAAO4qB,EACX,GAAI5qB,EAGF,IAFA,IAAIC,EAAcC,GAAM,EACtBC,EAAKH,EAAKjvB,OAAS,EACdmvB,EAAKC,GAAI,CACdF,EAAeD,EAAKE,GAAM,GAC1B,IAAIwoB,EAAQxsB,EAAGpR,KAAKtS,YAAYynB,GAE9BwoB,GADAG,EAAmB1sB,EAAGpR,KAAKrS,aAAawnB,GAC7B/kB,EAAQwtC,GACjBxsB,EAAGlM,KAAKub,yBACVrP,EAAGiZ,UAAYjZ,EAAGpR,KAAKjQ,QAAQ2tC,EAAmBvoB,EAAc/D,EAAGlM,KAAKtV,eAE1ExG,GAAO,SAAW,EAAa,kBAC3Bk0C,IACFl0C,GAAO,8CAAgD,EAAU,MAAUgoB,EAAGpR,KAAKrS,aAAawnB,GAAiB,OAEnH/rB,GAAO,qBACiB,IAApBgoB,EAAG4B,cACL5pB,GAAO,yDAA4EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,gBACHgoB,EAAGlM,KAAKub,uBACVr3B,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,kFAKfgoB,EAAGiZ,UAAYqT,OACN9qB,IACTxpB,GAAO,gBAET,OAAOA,I,6BC3QT9H,EAAOD,QAAU,SAA8B+vB,EAAIC,EAAUC,GAC3D,IAUE+E,EAVEjtB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UACzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnBkE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAQlD,GANIkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,GAEZA,GAAW+D,KAAoC,IAAxBlF,EAAGlM,KAAKi1B,YAAuB,CACrD7jB,IACFltB,GAAO,QAAU,EAAW,SAAW,EAAiB,iBAAmB,EAAiB,mBAAqB,EAAW,4BAA8B,EAAiB,kBAAsB,EAAW,qBAE9MA,GAAO,YAAc,EAAU,aAAe,EAAW,6BACzD,IAAIq3C,EAAYrvB,EAAGhiB,OAAOqmB,OAASrE,EAAGhiB,OAAOqmB,MAAMhwB,KACjDquB,EAAe/qB,MAAMC,QAAQy3C,GAC/B,IAAKA,GAA0B,UAAbA,GAAsC,SAAbA,GAAyB3sB,IAAiB2sB,EAAU74C,QAAQ,WAAa,GAAK64C,EAAU74C,QAAQ,UAAY,GACrJwB,GAAO,uDAAyD,EAAU,QAAU,EAAU,WAAa,EAAW,oCACjH,CACLA,GAAO,yDAA2D,EAAU,QAC5E,IAAIkrB,EAAU,iBAAmBR,EAAe,IAAM,IACtD1qB,GAAO,QAAWgoB,EAAGpR,KAAKsU,GAASmsB,EAAW,QAAQ,GAAS,eAC3D3sB,IACF1qB,GAAO,sDAETA,GAAO,gDAAoD,EAAW,sEAExEA,GAAO,MACHktB,IACFltB,GAAO,SAETA,GAAO,SAAW,EAAW,SAC7B,IAAI2pB,EAAaA,GAAc,GAC/BA,EAAWzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,4DAA+EgoB,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,8BAC5I,IAArBtB,EAAGlM,KAAK+N,WACV7pB,GAAO,mGAELgoB,EAAGlM,KAAKgO,UACV9pB,GAAO,eAELA,GADEktB,EACK,kBAAoB,EAEpB,GAAK,EAEdltB,GAAO,2CAA8CgoB,EAAa,WAAI,YAAc,EAAU,KAEhGhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MACHwpB,IACFxpB,GAAO,iBAGLwpB,IACFxpB,GAAO,iBAGX,OAAOA,I,6BClFT,IAAIs3C,EAAW,CACb,aACA,UACA,mBACA,UACA,mBACA,YACA,YACA,UACA,kBACA,WACA,WACA,cACA,gBACA,gBACA,WACA,uBACA,OACA,SACA,SAGFp/C,EAAOD,QAAU,SAAU0/B,EAAY4f,GACrC,IAAK,IAAI9+C,EAAE,EAAGA,EAAE8+C,EAAqB16C,OAAQpE,IAAK,CAChDk/B,EAAazV,KAAKpgB,MAAMogB,KAAK0F,UAAU+P,IACvC,IAEI4P,EAFA9/B,EAAW8vC,EAAqB9+C,GAAGiP,MAAM,KACzCuU,EAAW0b,EAEf,IAAK4P,EAAE,EAAGA,EAAE9/B,EAAS5K,OAAQ0qC,IAC3BtrB,EAAWA,EAASxU,EAAS8/B,IAE/B,IAAKA,EAAE,EAAGA,EAAE+P,EAASz6C,OAAQ0qC,IAAK,CAChC,IAAIvtC,EAAMs9C,EAAS/P,GACfvhC,EAASiW,EAASjiB,GAClBgM,IACFiW,EAASjiB,GAAO,CACd81C,MAAO,CACL9pC,EACA,CAAEyT,KAAM,oFAOlB,OAAOke,I,6BC7CT,IAAIvd,EAAkB,EAAQ,IAAmBU,WAEjD5iB,EAAOD,QAYP,SAASi+B,EAAalwB,EAAQouB,EAAMyI,GAIlC,IAAIjoB,EAAOtT,KACX,GAAoC,mBAAzBA,KAAKgW,MAAMkgC,WACpB,MAAM,IAAIjwC,MAAM,2CAEC,mBAAR6sB,IACTyI,EAAWzI,EACXA,OAAOrqB,GAGT,IAAIxP,EAAIk9C,EAAiBzxC,GAAQqQ,MAAK,WACpC,IAAImd,EAAY5e,EAAK6e,WAAWztB,OAAQ+D,EAAWqqB,GACnD,OAAOZ,EAAUhc,UAqBnB,SAASkgC,EAAclkB,GACrB,IAAM,OAAO5e,EAAK6C,SAAS+b,GAC3B,MAAM4B,GACJ,GAAIA,aAAahb,EAAiB,OAAOu9B,EAAkBviB,GAC3D,MAAMA,EAIR,SAASuiB,EAAkBviB,GACzB,IAAIne,EAAMme,EAAE7a,cACZ,GAAIq9B,EAAM3gC,GAAM,MAAM,IAAI1P,MAAM,UAAY0P,EAAM,kBAAoBme,EAAE9a,WAAa,uBAErF,IAAIu9B,EAAgBjjC,EAAKkiB,gBAAgB7f,GAMzC,OALK4gC,IACHA,EAAgBjjC,EAAKkiB,gBAAgB7f,GAAOrC,EAAK0C,MAAMkgC,WAAWvgC,IACpDZ,KAAKyhC,EAAeA,GAG7BD,EAAcxhC,MAAK,SAAU0C,GAClC,IAAK6+B,EAAM3gC,GACT,OAAOwgC,EAAiB1+B,GAAK1C,MAAK,WAC3BuhC,EAAM3gC,IAAMrC,EAAKgf,UAAU7a,EAAK9B,OAAKlN,EAAWqqB,SAGxD/d,MAAK,WACN,OAAOqhC,EAAclkB,MAGvB,SAASskB,WACAljC,EAAKkiB,gBAAgB7f,GAG9B,SAAS2gC,EAAM3gC,GACb,OAAOrC,EAAKuC,MAAMF,IAAQrC,EAAKwC,SAASH,KAtDfygC,CAAclkB,MAGzCqJ,GACFtiC,EAAE8b,MACA,SAASqB,GAAKmlB,EAAS,KAAMnlB,KAC7BmlB,GAIJ,OAAOtiC,EAGP,SAASk9C,EAAiB1+B,GACxB,IAAIoQ,EAAUpQ,EAAIoQ,QAClB,OAAOA,IAAYvU,EAAK2e,UAAUpK,GACxB+M,EAAat9B,KAAKgc,EAAM,CAAE6E,KAAM0P,IAAW,GAC3CsR,QAAQ1jB,a,6BC9CtB,IAAI7O,EAAa,yBACbk4B,EAAiB,EAAQ,IACzB2X,EAAmB,EAAQ,IAE/B7/C,EAAOD,QAAU,CACf6d,IAcF,SAAoBuG,EAAS+lB,GAG3B,IAAI/Z,EAAQ/mB,KAAK+mB,MACjB,GAAIA,EAAMpM,SAASI,GACjB,MAAM,IAAI9U,MAAM,WAAa8U,EAAU,uBAEzC,IAAKnU,EAAWZ,KAAK+U,GACnB,MAAM,IAAI9U,MAAM,WAAa8U,EAAU,8BAEzC,GAAI+lB,EAAY,CACd9gC,KAAKi1B,gBAAgB6L,GAAY,GAEjC,IAAIl/B,EAAWk/B,EAAW/lC,KAC1B,GAAIsD,MAAMC,QAAQsD,GAChB,IAAK,IAAIzK,EAAE,EAAGA,EAAEyK,EAASrG,OAAQpE,IAC/Bu/C,EAAS37B,EAASnZ,EAASzK,GAAI2pC,QAEjC4V,EAAS37B,EAASnZ,EAAUk/B,GAG9B,IAAIzK,EAAayK,EAAWzK,WACxBA,IACEyK,EAAWp7B,OAAS1F,KAAKgW,MAAMtQ,QACjC2wB,EAAa,CACXmY,MAAO,CACLnY,EACA,CAAE,KAAQ,mFAIhByK,EAAWnO,eAAiB3yB,KAAK0V,QAAQ2gB,GAAY,IAOzD,SAASqgB,EAAS37B,EAASnZ,EAAUk/B,GAEnC,IADA,IAAI6V,EACKx/C,EAAE,EAAGA,EAAE4vB,EAAMxrB,OAAQpE,IAAK,CACjC,IAAIy/C,EAAK7vB,EAAM5vB,GACf,GAAIy/C,EAAG77C,MAAQ6G,EAAU,CACvB+0C,EAAYC,EACZ,OAICD,IACHA,EAAY,CAAE57C,KAAM6G,EAAU+C,MAAO,IACrCoiB,EAAMnoB,KAAK+3C,IAGb,IAAI5mC,EAAO,CACTgL,QAASA,EACT+lB,WAAYA,EACZ9lB,QAAQ,EACRxf,KAAMsjC,EACNtT,WAAYsV,EAAWtV,YAEzBmrB,EAAUhyC,MAAM/F,KAAKmR,GACrBgX,EAAM/L,OAAOD,GAAWhL,EAG1B,OA7BAgX,EAAMpM,SAASI,GAAWgM,EAAMC,IAAIjM,IAAW,EA6BxC/a,MA7EPhI,IAuFF,SAAoB+iB,GAElB,IAAIhL,EAAO/P,KAAK+mB,MAAM/L,OAAOD,GAC7B,OAAOhL,EAAOA,EAAK+wB,WAAa9gC,KAAK+mB,MAAMpM,SAASI,KAAY,GAzFhEvR,OAmGF,SAAuBuR,GAErB,IAAIgM,EAAQ/mB,KAAK+mB,aACVA,EAAMpM,SAASI,UACfgM,EAAMC,IAAIjM,UACVgM,EAAM/L,OAAOD,GACpB,IAAK,IAAI5jB,EAAE,EAAGA,EAAE4vB,EAAMxrB,OAAQpE,IAE5B,IADA,IAAIwN,EAAQoiB,EAAM5vB,GAAGwN,MACZshC,EAAE,EAAGA,EAAEthC,EAAMpJ,OAAQ0qC,IAC5B,GAAIthC,EAAMshC,GAAGlrB,SAAWA,EAAS,CAC/BpW,EAAM2Y,OAAO2oB,EAAG,GAChB,MAIN,OAAOjmC,MAjHPkW,SA4HF,SAAS+e,EAAgB6L,EAAY+V,GACnC5hB,EAAgB5b,OAAS,KACzB,IAAIjD,EAAIpW,KAAK82C,iBAAmB92C,KAAK82C,kBACF92C,KAAK0V,QAAQ+gC,GAAkB,GAElE,GAAIrgC,EAAE0qB,GAAa,OAAO,EAE1B,GADA7L,EAAgB5b,OAASjD,EAAEiD,OACvBw9B,EACF,MAAM,IAAI5wC,MAAM,yCAA4CjG,KAAKgzB,WAAW5c,EAAEiD,SAE9E,OAAO,K,6BC/IXziB,EAAOD,QAAU,SAAyB+vB,EAAIC,EAAUC,GACtD,IAOIuF,EAKFR,EAZEjtB,EAAM,IACNgpB,EAAOhB,EAAGtH,MACVuI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAGhiB,OAAOiiB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGpR,KAAKtS,YAAY2jB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGlM,KAAK2N,UAEzBziB,EAAQ,QAAUiiB,GAAY,IAC9BS,EAAS,QAAUV,EACnB0qB,EAAQ,SAAW1qB,EACnBkE,EAAUlF,EAAGlM,KAAK9U,OAASmiB,GAAWA,EAAQniB,MAE9CkmB,GACFltB,GAAO,cAAgB,EAAS,MAASgoB,EAAGpR,KAAK7P,QAAQoiB,EAAQniB,MAAOiiB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB,IAIIkvB,EAAUC,EAASC,EAAQC,EAAeC,EAH5CC,EAAc,aAAe1vB,EAC7B2vB,EAFUr3C,KAEI8gC,WACdmR,EAAiB,GAEnB,GAAIrmB,GAAWyrB,EAAM3xC,MAAO,CAC1ByxC,EAAgB,kBAAoBzvB,EACpC,IAAI4vB,EAAkBD,EAAM1kB,eAC5Bj0B,GAAO,QAAU,EAAgB,oBAAuB,EAAa,sBAAyB,EAAkB,MAAQ,EAAgB,iBACnI,CAEL,KADAw4C,EAAgBxwB,EAAGoZ,cAVT9/B,KAU8B6nB,EAASnB,EAAGhiB,OAAQgiB,IACxC,OACpBiF,EAAe,kBAAoB7D,EACnCqvB,EAAgBD,EAAc17C,KAC9Bu7C,EAAWM,EAAM3hC,QACjBshC,EAAUK,EAAM3W,OAChBuW,EAASI,EAAMpW,MAEjB,IAAIsW,EAAYJ,EAAgB,UAC9BjtB,EAAK,IAAMxC,EACX8vB,EAAW,UAAY9vB,EACvB+vB,EAAgBJ,EAAMnzC,MACxB,GAAIuzC,IAAkB/wB,EAAGxiB,MAAO,MAAM,IAAI+B,MAAM,gCAahD,GAZM+wC,GAAWC,IACfv4C,GAAY,EAAc,YAE5BA,GAAO,OAAS,EAAU,iBAAmB,EAAW,IACpDktB,GAAWyrB,EAAM3xC,QACnBusC,GAAkB,IAClBvzC,GAAO,QAAU,EAAiB,qBAAuB,EAAW,qBAChE44C,IACFrF,GAAkB,IAClBvzC,GAAO,IAAM,EAAW,MAAQ,EAAgB,mBAAqB,EAAiB,UAAY,EAAW,SAG7Gs4C,EACEK,EAAMK,WACRh5C,GAAO,IAAOw4C,EAAsB,SAAI,IAExCx4C,GAAO,IAAM,EAAW,MAASw4C,EAAsB,SAAI,UAExD,GAAID,EAAQ,CACjB,IAAIpF,EAAMnrB,EAAGpR,KAAKnT,KAAKukB,GACnBurB,EAAiB,GACrBJ,EAAIzyB,QACJ,IAAI0yB,EAAa,QAAUD,EAAIzyB,MAC/ByyB,EAAIntC,OAASwyC,EAAchhC,SAC3B27B,EAAI9pB,WAAa,GACjB,IAAIsqB,EAAgB3rB,EAAGgC,cACvBhC,EAAGgC,cAAgBmpB,EAAInpB,eAAgB,EACvC,IAAI6C,EAAQ7E,EAAGxQ,SAAS27B,GAAKjuC,QAAQ,oBAAqBuzC,GAC1DzwB,EAAGgC,cAAgBmpB,EAAInpB,cAAgB2pB,EACvC3zC,GAAO,IAAM,MACR,EACD2pB,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,GACNA,GAAO,KAAO,EAAkB,UAC5BgoB,EAAGlM,KAAKu3B,YACVrzC,GAAO,OAEPA,GAAO,OAELq4C,IAA6B,IAAjBM,EAAM3yC,OACpBhG,GAAO,MAAQ,EAAU,IAEzBA,GAAO,MAAQ,EAAiB,MAAQ,EAAU,qBAAwBgoB,EAAa,WAAI,IAE7FhoB,GAAO,sBACa,MAAhBgoB,EAAGiZ,YACLjhC,GAAO,MAASgoB,EAAY,WAE9B,IAAI0D,EAAczC,EAAW,QAAWA,EAAW,GAAM,IAAM,aAC7DgwB,EAAsBhwB,EAAWjB,EAAGmC,YAAYlB,GAAY,qBAE1DiwB,EADJl5C,GAAO,MAAQ,EAAgB,MAAQ,EAAwB,kBAE/DA,EAAM2pB,EAAW5e,OACI,IAAjB4tC,EAAMh+B,QACR3a,GAAO,IAAM,EAAW,MACpB+4C,IACF/4C,GAAO,UAETA,GAAY,EAAyB,MAInCA,GAFE+4C,EAEK,SADPF,EAAY,eAAiB7vB,GACE,kBAAoB,EAAW,YAAc,EAAyB,mBAAqB,EAAW,+CAAiD,EAAc,gCAE7L,IAAM,EAAc,YAAc,EAAW,MAAQ,EAAyB,KAQ3F,GAJI2vB,EAAMQ,YACRn5C,GAAO,QAAU,EAAgB,KAAO,EAAU,MAAQ,EAAgB,IAAM,EAAwB,MAE1GA,GAAO,GAAK,EACR24C,EAAMjlB,MACJlK,IACFxpB,GAAO,qBAEJ,CAcL,IAGI2pB,EAhBJ3pB,GAAO,cACa+J,IAAhB4uC,EAAMjlB,OACR1zB,GAAO,KAELA,GADEu4C,EACK,GAAK,EAEL,GAAK,GAGdv4C,GAAO,KAAQ24C,EAAMjlB,MAAS,IAEhC1zB,GAAO,OACPytB,EAjHUnsB,KAiHY+a,SAClBsN,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACF2pB,EAAaA,GAAc,IACpBzpB,KAAKF,GAChBA,EAAM,IACkB,IAApBgoB,EAAG4B,cACL5pB,GAAO,iBAAoBytB,GAAiB,UAAY,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,0BAzHzKhoB,KAyHoN,QAAI,QACvM,IAArB0mB,EAAGlM,KAAK+N,WACV7pB,GAAO,8BA3HDsB,KA2H+C,QAAI,2BAEvD0mB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAET,IAAI+pB,EAAQ/pB,EACZA,EAAM2pB,EAAW5e,OACZid,EAAGgC,eAAiBR,EAEnBxB,EAAGxiB,MACLxF,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnC,IAAIo5C,EAAkBp5C,EACtBA,EAAM2pB,EAAW5e,MACbutC,EACEK,EAAMh+B,OACY,QAAhBg+B,EAAMh+B,SACR3a,GAAO,cAAgB,EAAO,IAAM,EAAU,KAAO,EAAO,YAAc,EAAO,aAAe,EAAa,cAAgB,EAAO,UAAY,EAAa,4BAA8B,EAAa,kCAAuCgoB,EAAY,UAAI,SAAW,EAAa,gCAAkC,EAAa,kBAAoB,EAAmB,QACzWA,EAAGlM,KAAKgO,UACV9pB,GAAO,IAAM,EAAa,aAAe,EAAiB,KAAO,EAAa,WAAa,EAAU,MAEvGA,GAAO,QAGY,IAAjB24C,EAAMh+B,OACR3a,GAAO,IAAM,EAAoB,KAEjCA,GAAO,QAAU,EAAU,iBAAmB,EAAoB,uBAAyB,EAAO,IAAM,EAAU,KAAO,EAAO,YAAc,EAAO,aAAe,EAAa,cAAgB,EAAO,UAAY,EAAa,4BAA8B,EAAa,kCAAuCgoB,EAAY,UAAI,SAAW,EAAa,gCAAkC,EAAa,kBAAoB,EAAmB,QAC7aA,EAAGlM,KAAKgO,UACV9pB,GAAO,IAAM,EAAa,aAAe,EAAiB,KAAO,EAAa,WAAa,EAAU,MAEvGA,GAAO,SAGFu4C,GACTv4C,GAAO,mBACiB,IAApBgoB,EAAG4B,cACL5pB,GAAO,iBAAoBytB,GAAiB,UAAY,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGpR,KAAKvQ,eAAeijB,GAAmB,0BAzK3KhoB,KAyKsN,QAAI,QACvM,IAArB0mB,EAAGlM,KAAK+N,WACV7pB,GAAO,8BA3KHsB,KA2KiD,QAAI,2BAEvD0mB,EAAGlM,KAAKgO,UACV9pB,GAAO,6BAA+B,EAAgB,mCAAsCgoB,EAAa,WAAI,YAAc,EAAU,KAEvIhoB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACFgoB,EAAGgC,eAAiBR,IAEnBxB,EAAGxiB,MACLxF,GAAO,wCAEPA,GAAO,gDAIU,IAAjB24C,EAAMh+B,OACR3a,GAAO,IAAM,EAAoB,KAEjCA,GAAO,sBAAwB,EAAc,wCAA0C,EAAc,mCAAqC,EAAc,yCAA2C,EAAO,IAAM,EAAU,KAAO,EAAO,YAAc,EAAO,aAAe,EAAa,cAAgB,EAAO,UAAY,EAAa,4BAA8B,EAAa,kCAAuCgoB,EAAY,UAAI,MAAQ,EAAa,kBAAoB,EAAmB,OACneA,EAAGlM,KAAKgO,UACV9pB,GAAO,IAAM,EAAa,aAAe,EAAiB,KAAO,EAAa,WAAa,EAAU,MAEvGA,GAAO,eAAiB,EAAoB,OAGhDA,GAAO,MACHwpB,IACFxpB,GAAO,YAGX,OAAOA,I,6BChOT,IAAI23B,EAAa,EAAQ,IAEzBz/B,EAAOD,QAAU,CACfswB,IAAK,0EACLynB,YAAa,CACXqJ,YAAa1hB,EAAWqY,YAAYqJ,aAEtCh9C,KAAM,SACNgmC,aAAc,CACZr8B,OAAQ,CAAC,YACTgB,MAAO,CAAC,YACRgyC,WAAY,CAAC,UACbtlB,MAAO,CAACkc,IAAK,CAACQ,SAAU,CAAC,YAE3B37B,WAAY,CACVpY,KAAMs7B,EAAWljB,WAAWpY,KAC5B2J,OAAQ,CAAC3J,KAAM,WACf28C,WAAY,CAAC38C,KAAM,WACnBgmC,aAAc,CACZhmC,KAAM,QACNgwB,MAAO,CAAChwB,KAAM,WAEhBs7B,WAAY,CAACt7B,KAAM,UACnB88C,UAAW,CAAC98C,KAAM,WAClBq3B,MAAO,CAACr3B,KAAM,WACd2K,MAAO,CAAC3K,KAAM,WACdmJ,MAAO,CAACnJ,KAAM,WACdse,OAAQ,CACNm1B,MAAO,CACL,CAACzzC,KAAM,WACP,CAAC8zC,MAAO,a,icChChB,SAASmJ,EAAoBC,GAC5B,IAAInkB,EAAI,IAAI7tB,MAAM,uBAAyBgyC,EAAM,KAEjD,MADAnkB,EAAEt4B,KAAO,mBACHs4B,EAEPkkB,EAAoB/5C,KAAO,WAAa,MAAO,IAC/C+5C,EAAoBviC,QAAUuiC,EAC9BphD,EAAOD,QAAUqhD,EACjBA,EAAoB1mC,GAAK,I,gBCKzB1a,EAAOD,QAAU,EAAQ,IAAY8B,OAbrC,WAGI,IAFA,IAAIitB,EAAO,GAEFvuB,EAAI,EAAGA,EAAI+mB,UAAU3iB,OAAQpE,IAAK,CACvC,IAAI+gD,EAAMh6B,UAAU/mB,GACpB,IAAK,IAAIuB,KAAOw/C,EACZxyB,EAAKhtB,GAAOw/C,EAAIx/C,GAIxB,OAAOgtB,EAIPwb,CACI,EAAQ,KACR,EAAQ,KACR,EAAQ,Q,gBCjBhB,IAAI75B,EAAO,EAAQ,GACfoS,EAAc,EAAQ,IACtBtgB,EAAc,EAAQ,GACtBg/C,EAAQ,EAAQ,IAChBC,EAAmB,EAAQ,IAC3B79C,EAAW,EAAQ,GACnB89C,EAAe,EAAQ,IACvBC,EAAkB,EAAQ,KAC1BC,EAAkB,EAAQ,KAC1BC,EAAe,EAAQ,KACvB1lC,EAAQ,EAAQ,KAChB2lC,EAAQ,EAAQ,IAChBC,EAAM,EAAQ,KA8DlB/hD,EAAQ8B,OAAS,SAASkgD,GACtB,OA7DJ,SAASC,EAAaD,GAClB,IAAIn4C,EAAQ63C,EAAaM,GACrBrpB,EAAOkpB,EAAaG,GACpBz3C,EAAWo3C,EAAgBK,GAC3BE,EAAUN,EAAgBjpB,GAE1Bf,EAAS,CACTlnB,KAAMA,EACNoS,YAAaA,EACbtgB,YAAaA,EACbg/C,MAAOA,EAEP58B,aAAck9B,EAAMl9B,aACpBR,QAAS09B,EAAM19B,QACfjiB,SAAU2/C,EAAM3/C,SAChB8hB,iBAAkB69B,EAAM79B,iBAExBw9B,iBAAkBA,EAClBx1B,MAAO,KACPk2B,YAAa,SAASH,GAClB,OAAO,IAAIR,EAAMQ,EAAQpqB,EAAQA,EAAO3L,MAAMriB,YAGlDhG,SAAUA,EACViG,MAAOA,EACP8uB,KAAMA,EACNpuB,SAAUA,EAEV63C,KAAMzpB,EAAKypB,KACXC,SAAU1pB,EAAK0pB,SACfC,QAAS3pB,EAAK2pB,QAEdnmC,MAAOA,EACPomC,gBAAiBL,EAAQK,gBACzBC,cAAeN,EAAQM,cAEvBP,aAAc,SAASD,GACnB,OAAOC,EAAaF,EAAI,GAAIC,KAEhCS,KAAM,SAASC,GACX,IAAI/pC,EAAOopC,EAAI,GAAIC,GACnB,OAAOC,EACkB,mBAAdS,EACDA,EAAU/pC,EAAMzX,OAAOyH,QACvBo5C,EAAIppC,EAAM+pC,MAa5B,OARA9qB,EAAO3L,MAAQ,IAAIu1B,EAAM,CACrBmB,SAAS,EACT/2C,MAAOo2C,EAAOp2C,MACdg3C,QAASZ,EAAOY,QAChBpmC,WAAYwlC,EAAOxlC,WACnBhS,KAAMw3C,EAAOx3C,MACdotB,GAEIA,EAIAqqB,CAAaF,EAAI,GAAIC,M,gBC3EhC,IAAIxqB,EAAuB,EAAQ,IAAWA,qBAC1CG,EAAa,EAAQ,IAAWA,WAChCmqB,EAAQ,EAAQ,IAChBa,EAAU,EAAQ,IAClB94C,EAAQ,EAAQ,IAChBU,EAAW,EAAQ,IACnBouB,EAAO,EAAQ,IACfkqB,EAAgB,EAAQ,IACxBxpB,EAAkB,EAAQ,IAAiBA,gBAC3CypB,EAAc,EAAQ,IAAWA,YACjCC,EAAQ,EAAQ,IAChBC,EAAS,EAAQ,IACjBC,EAAyB,EAAQ,IAAeA,uBAChDC,EAAkB7pB,EAAgB,6BAClC8pB,EAAgC9pB,EAAgB,uDAEpD,SAAS+pB,EAAcx7C,EAAKwb,EAASigC,GACjC,IAAI9xC,EAAS,GAEb,IAAK,IAAIxQ,KAAQ6G,EACTA,EAAI7G,GAAM62B,SACVrmB,EAAOxQ,GAAQsiD,EACTz7C,EAAI7G,GAAM62B,OACVrtB,EAAS3C,EAAI7G,GAAM62B,OAAQ,CAAExU,QAASA,KAIpD,OAAO7R,EAaX,SAAS+xC,EAAiBz2C,EAAOiQ,EAAOymC,GACpC,MAAO,CACHC,QAAS32C,EACT02C,WAAYA,EACZzmC,MAAOA,EACP2mC,SAAUV,EAAMU,SAChBh2B,OAAQs1B,EAAMt1B,OACdi2B,WAAYX,EAAMW,WAClBC,UAAWZ,EAAMY,WAIzB,SAASC,EAAY33B,EAAO2L,EAAQn2B,EAAOoiD,GACvC,IACItyC,EADAwmB,EAAS8qB,EAAcphD,EAAOwqB,EAAM2L,QAGxC,OA1BJ,SAAqBG,GACjB,IAAK,IAAIv3B,EAAI,EAAGA,EAAIu3B,EAAOnzB,OAAQpE,IAC/B,GAAsC,SAAlCu3B,EAAOv3B,GAAGiB,MAAMwV,cAChB,OAAO,EAIf,OAAO,EAmBH6sC,CAAY/rB,GACLurB,EAAiB,KAAM,IAAIh0C,MAAM,qDAGxCu0C,IACAtyC,EAASuxC,EAAY/qB,EAAQ9L,EAAM83B,kBAAmB93B,IAGrD43B,GAActyC,EAAO1E,QACtB0E,EAASuxC,EAAY/qB,EAAQH,EAAO/qB,MAAOof,IAC/Bpf,MASTy2C,EAAiB/xC,EAAO1E,MAAO,KAAM0E,EAAOgyC,YARpCD,EACH,KACA,IAAI3rB,EAAWpmB,EAAOyyC,OAAQpsB,EAAOA,OAAQn2B,EAAO8P,GACpDA,EAAOgyC,aAQvB,IAAI/B,EAAQ,SAASQ,EAAQpqB,EAAQhuB,GASjC,GARAP,KAAK06C,kBAAoBb,EACzB75C,KAAKuuB,OAASA,EACdvuB,KAAKs5C,SAAU,EACft5C,KAAKu5C,QAAU,GACfv5C,KAAKmT,WAAa,GAClBnT,KAAKuC,MAAQ,GACbvC,KAAKO,UAAYA,GAAaq5C,EAAuBjB,GAEjDA,EAAQ,CACR,GAAIA,EAAOp2C,MACP,IAAK,IAAI7K,KAAQihD,EAAOp2C,MACpBvC,KAAK46C,SAASljD,EAAMihD,EAAOp2C,MAAM7K,IAIzC,GAAIihD,EAAOW,QAEP,IAAK,IAAI5hD,KADTsI,KAAKs5C,SAAU,EACEA,EACbt5C,KAAK46C,SAASljD,EAAM4hD,EAAQ5hD,IAIpC,GAAIihD,EAAOY,QACP,IAAK,IAAI7hD,KAAQihD,EAAOY,QACpBv5C,KAAK66C,WAAWnjD,EAAMihD,EAAOY,QAAQ7hD,IAI7C,GAAIihD,EAAOxlC,WACP,IAAK,IAAIzb,KAAQihD,EAAOxlC,WACpBnT,KAAK86C,aAAapjD,EAAMihD,EAAOxlC,WAAWzb,MAM1DygD,EAAMp/C,UAAY,CACdwH,UAAW,GACXw6C,eAAgB,SAAS3jB,GACrB,SAAS4jB,EAAe75C,EAAM4X,GAC1BkiC,EAAMr8C,KAAK,CACPuC,KAAMA,EACN4X,QAASA,IAIjB,IAAIxY,EAAYP,KAAKO,UACjB06C,EAAQ,GAUZ,OARAj7C,KAAKuuB,OAAOe,KAAK8H,GAAK,SAASj2B,GACvBZ,EAAUvH,eAAemI,EAAKpG,MAC9BwF,EAAUY,EAAKpG,MAAMmgD,MAAM/5C,EAAM65C,GAEjCA,EAAe75C,EAAM,sBAAwBA,EAAKpG,KAAO,UAI1DkgD,EAAM1/C,QAAS0/C,GAG1BE,iBAAkB,SAAS5sB,EAAQxzB,EAAMrD,GACrC,IAAIie,EAAM,CACN5a,KAAMA,EACNrD,KAAMA,GAEN0b,EAAa,CACbrY,KAAMA,EACNrD,KAAMA,EACN62B,OAAQ,KACR/qB,MAAO,MAiCX,MA9BsB,mBAAX+qB,EACPnb,EAAW5P,MAAQwsB,EAAgBzB,EAAQ5Y,IAErB,iBAAX4Y,EAEP12B,OAAOC,eAAesb,EAAY,SAAU,CACxCpb,IAAK,WAKD,OAJAH,OAAOC,eAAesb,EAAY,SAAU,CACxChb,MAAOoI,EAAM+tB,KAGVnb,EAAWmb,UAI1Bnb,EAAWmb,OAASA,EAIxB12B,OAAOC,eAAesb,EAAY,QAAS,CACvCpb,IAAK,WAKD,OAJAH,OAAOC,eAAesb,EAAY,QAAS,CACvChb,MAAO43B,EAAgB5c,EAAWmb,OAAQ5Y,KAGvCvC,EAAW5P,UAKvB4P,GAEXynC,WAAY,SAASnjD,EAAM62B,GACvBvuB,KAAKu5C,QAAQ7hD,GAAQ,CACjBquB,QAASwI,EAAOxI,QAAU/lB,KAAKm7C,iBAAiB5sB,EAAOxI,QAAS,gBAAiBruB,GAAQ,KACzF0jD,YAAa7sB,EAAO6sB,YACdvjD,OAAOoG,KAAKswB,EAAO6sB,aAAa7uC,OAAO,CAAC+J,EAAK5e,KAC3C4e,EAAI5e,GAAQsI,KAAKm7C,iBAAiB5sB,EAAO6sB,YAAY1jD,GAAO,mBAAoBA,GACzE4e,GACR,IACD,OAGdwkC,aAAc,SAASpjD,EAAM62B,GACzBvuB,KAAKmT,WAAWzb,GAAQsI,KAAKm7C,iBAAiB5sB,EAAQ,WAAY72B,IAEtEkjD,SAAU,SAASljD,EAAM62B,GACrBvuB,KAAKuC,MAAM7K,GAAQsI,KAAKm7C,iBAAiB5sB,EAAQ,OAAQ72B,GAErD62B,IAAW+qB,EAAQ,2BACnBt5C,KAAK06C,kBAAoBZ,IAIjCuB,mBAAoB,SAASC,EAAYv1B,GACrC,IAAIw1B,EAAS9C,EAAM19B,QAAQugC,GAEvBE,EAAsBD,EAAOtgC,OAC3Bjb,KAAKy7C,iBAAiBF,EAAO7jD,OAASsI,KAAKy7C,iBAAiBF,EAAOpgC,UACnEnb,KAAKy7C,iBAAiBF,EAAO7jD,MAEnC,OAAK8jD,EAQEjB,EAAYv6C,KAAMw7C,EAAqBz1B,GAAS,GAP/Cw1B,EAAOpgC,YAAYnb,KAAKu5C,QACjBU,EAAiB,KAAM,IAAIh0C,MAAM,YAAcq1C,EAAa,mCAGhErB,EAAiB,KAAM,IAAI9rB,EAAqB,kBAAmBmtB,KAKlFI,sBAAuB,SAASJ,EAAYK,EAAgBvjD,GACxD,IAAImjD,EAAS9C,EAAM19B,QAAQugC,GACvBloC,EAAaqlC,EAAM19B,QAAQ4gC,GAE3BC,EAAcL,EAAOtgC,OACnBjb,KAAKu5C,QAAQgC,EAAO7jD,OAASsI,KAAKu5C,QAAQgC,EAAOpgC,UACjDnb,KAAKu5C,QAAQgC,EAAO7jD,MAE1B,IAAKkkD,EACD,OAAO3B,EAAiB,KAAM,IAAI9rB,EAAqB,kBAAmBmtB,IAG9E,IAAKM,EAAYR,YACb,OAAOnB,EAAiB,KAAM,IAAIh0C,MAAM,YAAcq1C,EAAa,+BAGvE,IAAIO,EAAyBzoC,EAAW6H,OAClC2gC,EAAYR,YAAYhoC,EAAW1b,OAASkkD,EAAYR,YAAYhoC,EAAW+H,UAC/EygC,EAAYR,YAAYhoC,EAAW1b,MAEzC,OAAKmkD,EAIEtB,EAAYv6C,KAAM67C,EAAwBzjD,GAAO,GAH7C6hD,EAAiB,KAAM,IAAI9rB,EAAqB,6BAA8BwtB,KAK7Fx3B,iBAAkB,SAAShjB,GACvB,MAAkB,gBAAdA,EAAKpG,KACEk/C,EAAiB,KAAM,IAAIh0C,MAAM,2BAGrCjG,KAAK87C,cAAc36C,EAAKrI,SAAUqI,EAAK/I,QAElD0jD,cAAe,SAAS7tC,EAAc7V,GAClC,IAAIU,EAAW2/C,EAAM3/C,SAASmV,GAG9B,GAAInV,EAASkiB,OACT,OAAOi/B,EAAiB,KAAM,IAAIh0C,MAAM,4DAG5C,IAAI81C,EAAiBjjD,EAASmiB,OACxBjb,KAAKgD,YAAYlK,EAASpB,OAASsI,KAAKgD,YAAYlK,EAASqiB,UAC7Dnb,KAAKgD,YAAYlK,EAASpB,MAEhC,OAAKqkD,EAIExB,EAAYv6C,KAAM+7C,EAAgB3jD,GAAO,GAHrC6hD,EAAiB,KAAM,IAAI9rB,EAAqB,mBAAoBlgB,KAKnF+tC,UAAW,SAASC,EAAU7jD,GAC1B,IAAI8jD,EAAal8C,KAAKm8C,QAAQF,GAE9B,OAAKC,EAIE3B,EAAYv6C,KAAMk8C,EAAY9jD,GAAO,GAHjC6hD,EAAiB,KAAM,IAAI9rB,EAAqB,eAAgB8tB,KAK/Ez4C,MAAO,SAAS+qB,EAAQn2B,GACpB,MAAsB,iBAAXm2B,GAAyBA,GAAWA,EAAOxzB,MAIhC,iBAAXwzB,GAAwBA,EAAO/qB,QACtC+qB,EAASvuB,KAAKm7C,iBAAiB5sB,EAAQ,OAAQ,cAG5CgsB,EAAYv6C,KAAMuuB,EAAQn2B,GAAO,IAP7B6hD,EAAiB,KAAM,IAAI9rB,EAAqB,gBAU/DiuB,mBAAoB,SAASnuC,EAAc7V,EAAO2C,EAAMrD,GACpD,OAAOiiD,EAAO0C,eAAer8C,KAAM5H,EAAO4H,KAAK87C,cAAc7tC,EAAc7V,GAAQ2C,EAAMrD,IAE7F4kD,8BAA+B,SAASxtC,EAAa/T,EAAMrD,GACvD,OAAOiiD,EAAO0C,eAAer8C,KAAM8O,EAAY1W,MAAO4H,KAAKmkB,iBAAiBrV,GAAc/T,EAAMrD,IAEpG6kD,iBAAkB,SAASnlB,EAAKr8B,EAAMrD,GAClC,IAAIwQ,EAAS,GASb,OAPAlI,KAAKuuB,OAAOe,KAAK8H,EAAK,CAClBolB,MAAO,cACPptB,MAAO,SAAStgB,GACZ5G,EAAOtJ,KAAKG,MAAMmJ,EAAQlI,KAAKs8C,8BAA8BxtC,EAAa/T,EAAMrD,KAClFiB,KAAKqH,QAGJkI,GAGXuzC,iBAAkB,SAASH,GACvB,OAAOt7C,KAAKu5C,QAAQvgD,eAAesiD,GAAct7C,KAAKu5C,QAAQ+B,GAAYv1B,QAAU,MAExF02B,oBAAqB,SAASnB,EAAY5jD,GACtC,OAAOsI,KAAKu5C,QAAQvgD,eAAesiD,IAAet7C,KAAKu5C,QAAQmD,aACzD18C,KAAKu5C,QAAQ+B,GAAYoB,YAAYhlD,IACrC,MAEVsL,YAAa,SAAStL,GAClB,OAAOsI,KAAKmT,WAAWna,eAAetB,GAAQsI,KAAKmT,WAAWzb,GAAQ,MAE1EykD,QAAS,SAASzkD,GACd,OAAOsI,KAAKuC,MAAMvJ,eAAetB,GAAQsI,KAAKuC,MAAM7K,GAAQ,MAGhEwe,SAAU,WACN,SAASA,EAASqY,EAAQ72B,EAAMilD,EAAQvpC,GACpC,GAAIupC,EAAO3jD,eAAetB,GACtB,OAAOilD,EAAOjlD,GAGlBilD,EAAOjlD,IAAQ,EACW,OAAtB0b,EAAWmb,QACXe,EAAKlc,EAAWmb,QAAQ,SAASptB,GAC7B,GAAkB,SAAdA,EAAKpG,MAAiC,aAAdoG,EAAKpG,KAAjC,CAIA,IAAIwD,EAAoB,SAAd4C,EAAKpG,KAAkBwzB,EAAOhsB,MAAQgsB,EAAOpb,WACnDypC,EAA0B,SAAdz7C,EAAKpG,KAAkB8hD,EAAcC,EAEhDv+C,EAAIvF,eAAemI,EAAKzJ,QAASwe,EAASqY,EAAQptB,EAAKzJ,KAAMklD,EAAWr+C,EAAI4C,EAAKzJ,SAClFilD,EAAOjlD,IAAQ,MAEpBsI,MAIX,IAAI68C,EAAc,GACdC,EAAmB,GAEvB,IAAK,IAAIpkD,KAAOsH,KAAKuC,MACjB2T,EAASlW,KAAMtH,EAAKmkD,EAAa78C,KAAKuC,MAAM7J,IAGhD,IAAK,IAAIA,KAAOsH,KAAKmT,WACjB+C,EAASlW,KAAMtH,EAAKokD,EAAkB98C,KAAKmT,WAAWza,IAU1D,OAPAmkD,EAAchlD,OAAOoG,KAAK4+C,GAAa7zC,QAAO,SAAStR,GACnD,OAAOmlD,EAAYnlD,MAEvBolD,EAAmBjlD,OAAOoG,KAAK6+C,GAAkB9zC,QAAO,SAAStR,GAC7D,OAAOolD,EAAiBplD,MAGxBmlD,EAAYthD,QAAUuhD,EAAiBvhD,OAChC,CACHgH,MAAOs6C,EACP1pC,WAAY2pC,GAIb,MAEX1wC,KAAM,SAAS4tC,EAAa+C,GACxB,MAAO,CACHzD,QAASt5C,KAAKs5C,QACd/2C,MAAOw3C,EAAc/5C,KAAKuC,OAAQw6C,EAAQ/C,GAC1C7mC,WAAY4mC,EAAc/5C,KAAKmT,YAAa4pC,EAAQ/C,KAG5DloC,SAAU,WACN,OAAO8O,KAAK0F,UAAUtmB,KAAKoM,UAInCxV,EAAOD,QAAUwhD,G,gBCtYjB,IAgLczgD,EAhLVskB,EAAY,EAAQ,GACpBpiB,EAAoBoiB,EAAUpiB,kBAC9BuQ,EAAa6R,EAAU7R,WACvBD,EAAU8R,EAAU9R,QACpBlQ,EAASgiB,EAAUhiB,OACnBK,EAAgB2hB,EAAU3hB,cAC1Bf,EAAO0iB,EAAU1iB,KACjB0jD,EAAU,EAAQ,IAClBC,EAAS,EAAQ,IAEjBpD,EAAkB,CAAC,QAAS,UAAW,WACvCqD,EAAoB,CAAC,QAAS,aAAc,iBAoEhD,SAAS1gC,EAASnZ,EAAKlE,GACnB,OAAOA,EAAQkE,EAAI9H,OAAS8H,EAAIxI,WAAWsE,GAAS,EAGxD,SAASg+C,EAAMC,EAAQC,GACnB,OAAOrjD,EAAOojD,EAAQ,EAAGA,EAAO7hD,OAAQ8hD,GAG5C,SAASC,EAASF,EAAQC,GACtB,IAAK,IAAIlmD,EAAI,EAAGA,EAAIkmD,EAAS9hD,OAAQpE,IACjC,GAAIgmD,EAAMC,EAAQC,EAASlmD,IACvB,OAAO,EAIf,OAAO,EAIX,SAASomD,EAAgBl6C,EAAK1I,GAC1B,OAAIA,IAAW0I,EAAI9H,OAAS,IAKG,KAA3B8H,EAAIxI,WAAWF,IACfuP,EAAQ7G,EAAIxI,WAAWF,EAAS,KAIxC,SAAS6iD,EAAWhjC,EAAMpiB,EAAOqlD,GAC7B,GAAIjjC,GAAsB,UAAdA,EAAKzf,KAAkB,CAC/B,IAAIiyB,EAAM9xB,YACKuN,IAAXg1C,GAAwBA,IAAWrlD,EAAMmD,OACnCnD,EAAMgjB,OAAO,EAAGqiC,GAChBrlD,GAGV,GAAIo1B,MAAMR,GACN,OAAO,EAGX,GAAiB,OAAbxS,EAAK5P,KAAgBoiB,EAAMxS,EAAK5P,IAChC,OAAO,EAGX,GAAiB,OAAb4P,EAAK/O,KAAgBuhB,EAAMxS,EAAK/O,IAChC,OAAO,EAIf,OAAO,EAGX,SAASiyC,EAAgBlgC,EAAOmgC,GAC5B,IAAIC,EAAWpgC,EAAMre,MACjB5D,EAAS,EAGb,GAGI,GAFAA,IAEIiiB,EAAMnhB,SAAWuhD,EACjB,YAECpgC,EAAQmgC,EAAapiD,IAE9B,OAAOA,EAMX,SAASsiD,EAAK7/C,GACV,OAAO,SAASwf,EAAOmgC,EAAcnjC,GACjC,OAAc,OAAVgD,EACO,EAGPA,EAAMziB,OAASzB,EAAK+B,UAAYiiD,EAAS9/B,EAAMplB,MAAO8kD,GAC/CQ,EAAgBlgC,EAAOmgC,GAG3B3/C,EAAKwf,EAAOmgC,EAAcnjC,IAIzC,SAASjZ,EAAUu8C,GACf,OAAO,SAAStgC,GACZ,OAAc,OAAVA,GAAkBA,EAAMziB,OAAS+iD,EAC1B,EAGJ,GAgOf,SAASC,EAAUhjD,GACf,OAAO,SAASyiB,EAAOmgC,EAAcnjC,GACjC,GAAc,OAAVgD,GAAkBA,EAAMziB,OAASzB,EAAK0B,UACtC,OAAO,EAGX,IAAIgjD,EAAY3jD,EAAcmjB,EAAMplB,MAAO,GAG3C,GAAa,OAAT2C,EAAe,CAEf,IAAIkjD,EAAuBzgC,EAAMplB,MAAM8E,QAAQ,KAAM8gD,GACjDE,GAAiC,IAA1BD,GAAgCV,EAAgB//B,EAAMplB,MAAO6lD,GAElEzgC,EAAMplB,MAAM6I,UAAU+8C,EAAWC,GADjCzgC,EAAMplB,MAAMgjB,OAAO4iC,GAGzB,IAAgD,IAA5CjjD,EAAK/B,eAAeklD,EAAKtwC,eACzB,OAAO,EAKf,OAAI4vC,EAAWhjC,EAAMgD,EAAMplB,MAAO4lD,GACvB,EAGJ,GAgCf,SAASG,EAAKngD,GAOV,MANoB,mBAATA,IACPA,EAAO,WACH,OAAO,IAIR,SAASwf,EAAOmgC,EAAcnjC,GACjC,OAAc,OAAVgD,GAAkBA,EAAMziB,OAASzB,EAAK4B,QACV,IAAxBA,OAAOsiB,EAAMplB,OACN,EAIR4F,EAAKwf,EAAOmgC,EAAcnjC,IAsDzC5jB,EAAOD,QAAU,CAEb,cAAe4K,EAAUjI,EAAKwC,OAC9B,iBAAkByF,EAAUjI,EAAK+B,UACjC,mBAAoBkG,EAAUjI,EAAKgE,WACnC,aAAciE,EAAUjI,EAAKqD,MAC7B,eAAgB4E,EAAUjI,EAAK2C,QAC/B,mBAAoBsF,EAAUjI,EAAK4C,WACnC,YAAaqF,EAAUjI,EAAKgC,KAC5B,gBAAiBiG,EAAUjI,EAAKqC,QAChC,cAAe4F,EAAUjI,EAAKsD,OAC9B,eAAgB2E,EAAUjI,EAAK4B,QAC/B,mBAAoBqG,EAAUjI,EAAK2B,YACnC,kBAAmBsG,EAAUjI,EAAK0B,WAClC,mBAAoBuG,EAAUjI,EAAKoC,YACnC,YAAa6F,EAAUjI,EAAK+D,KAC5B,YAAakE,EAAUjI,EAAK0D,KAC5B,cAAeuE,EAAUjI,EAAK6D,OAC9B,kBAAmBoE,EAAUjI,EAAK8D,WAClC,cAAemE,EAAUjI,EAAKyD,OAC9B,UAAWwE,EAAUjI,EAAKiE,mBAC1B,UAAWgE,EAAUjI,EAAKkE,oBAC1B,UAAW+D,EAAUjI,EAAKuD,iBAC1B,UAAW0E,EAAUjI,EAAKwD,kBAC1B,UAAWyE,EAAUjI,EAAKmE,kBAC1B,UAAW8D,EAAUjI,EAAKoE,mBAG1B,OAAU6D,EAAUjI,EAAK2C,QACzB,MAASsF,EAAUjI,EAAKwC,OAGxB,eAnWJ,SAAqB0hB,GACjB,GAAc,OAAVA,GAAkBA,EAAMziB,OAASzB,EAAKwC,MACtC,OAAO,EAGX,IAAIpE,EAAO8lB,EAAMplB,MAAMwV,cAGvB,OAAI0vC,EAAS5lD,EAAMmiD,IAKfsD,EAAMzlD,EAAM,WAJL,EAcJ,GA6UP,uBArUJ,SAA4B8lB,GAExB,OAAc,OAAVA,GAAkBA,EAAMziB,OAASzB,EAAKwC,OAKT,KAA7B0gB,EAASgB,EAAMplB,MAAO,IAA8C,KAA7BokB,EAASgB,EAAMplB,MAAO,GAJtD,EAQJ,GA2TP,YApTJ,SAAkBolB,GACd,GAAc,OAAVA,GAAkBA,EAAMziB,OAASzB,EAAKqD,KACtC,OAAO,EAGX,IAAIpB,EAASiiB,EAAMplB,MAAMmD,OAGzB,GAAe,IAAXA,GAA2B,IAAXA,GAA2B,IAAXA,GAA2B,IAAXA,EAChD,OAAO,EAGX,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAQpE,IACxB,IAAKgT,EAAWqT,EAAMplB,MAAMyC,WAAW1D,IACnC,OAAO,EAIf,OAAO,GAmSP,cAhSJ,SAAoBqmB,GAChB,OAAc,OAAVA,GAAkBA,EAAMziB,OAASzB,EAAKqD,KAC/B,EAGN/C,EAAkB4iB,EAASgB,EAAMplB,MAAO,GAAIokB,EAASgB,EAAMplB,MAAO,GAAIokB,EAASgB,EAAMplB,MAAO,IAI1F,EAHI,GA2RX,YAAa4kD,EACb,OAAUC,EACV,oBArRJ,SAA0Bz/B,EAAOmgC,GAC7B,IAAKngC,EACD,OAAO,EAGX,IAAIjiB,EAAS,EACT6jB,EAAQ,EACRw+B,EAAWpgC,EAAMre,MAIrBi/C,EACA,EAAG,CACC,OAAQ5gC,EAAMziB,MAEV,KAAKzB,EAAK4C,UACV,KAAK5C,EAAKqC,OACN,MAAMyiD,EAGV,KAAK9kD,EAAKoE,kBACV,KAAKpE,EAAKwD,iBACV,KAAKxD,EAAKkE,mBACN,GAAIggB,EAAMnhB,QAAUmhB,EAAMre,OAASqe,EAAMnhB,QAAUuhD,EAC/C,MAAMQ,EAGVh/B,IACA,MAGJ,KAAK9lB,EAAK8D,UACN,GAAc,IAAVgiB,EACA,MAAMg/B,EAGV,MAGJ,KAAK9kD,EAAKsD,MACN,GAAoB,MAAhB4gB,EAAMplB,OAA2B,IAAVgnB,EACvB,MAAMg/B,EAGV,MAEJ,KAAK9kD,EAAK+B,SACV,KAAK/B,EAAKuD,gBACV,KAAKvD,EAAKiE,kBACV,KAAKjE,EAAKmE,iBACN2hB,IAOR,GAHA7jB,IAGIiiB,EAAMnhB,SAAWuhD,EACjB,YAECpgC,EAAQmgC,EAAapiD,IAE9B,OAAOA,GAwNP,YAjNJ,SAAkBiiB,EAAOmgC,GACrB,IAAKngC,EACD,OAAO,EAGX,IAAIogC,EAAWpgC,EAAMre,MACjB5D,EAAS,EAIb6iD,EACA,EAAG,CACC,OAAQ5gC,EAAMziB,MAEV,KAAKzB,EAAK4C,UACV,KAAK5C,EAAKqC,OACN,MAAMyiD,EAGV,KAAK9kD,EAAKoE,kBACV,KAAKpE,EAAKwD,iBACV,KAAKxD,EAAKkE,mBACN,GAAIggB,EAAMnhB,QAAUmhB,EAAMre,OAASqe,EAAMnhB,QAAUuhD,EAC/C,MAAMQ,EASlB,GAHA7iD,IAGIiiB,EAAMnhB,SAAWuhD,EACjB,YAECpgC,EAAQmgC,EAAapiD,IAE9B,OAAOA,GA+KP,UAAasiD,EAAKE,EAAU,OAC5B,MAASF,EAAKE,EA/gBN,CACR,KAAO,EACP,MAAQ,EACR,KAAO,EACP,MAAQ,KA4gBR,QAAWF,EAAKE,EAjfN,CACV,IAAM,KAifN,UAAaF,EAAKE,EArgBN,CACZ,IAAM,EACN,KAAO,KAogBP,KAAQF,EAAKE,EAxfN,CACP,IAAM,KAwfN,OAAUF,EAAKM,EAAKJ,EA3iBX,CAET,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,GAAK,EAGL,IAAM,EACN,IAAM,EACN,IAAM,EACN,KAAO,EAGP,IAAM,EACN,IAAM,EACN,MAAQ,EACR,MAAQ,EACR,IAAM,MAuhBN,WAAcF,EAAKE,EAlgBN,CACb,KAAO,EACP,MAAQ,EACR,MAAQ,EACR,GAAK,KA+fL,UAAaF,EAAKE,EAjfN,CACZ,IAAM,KAifN,KAAQF,EAAKE,EA/gBN,CACP,GAAK,EACL,IAAM,KAghBN,WAAcF,GA/IlB,SAAoBrgC,EAAOmgC,EAAcnjC,GAErC,OAAc,OAAVgD,GAAkBA,EAAMziB,OAASzB,EAAK2B,YAKtCuiD,EAAWhjC,EAAMgD,EAAMplB,MAAOolB,EAAMplB,MAAMmD,OAAS,GAJ5C,EAQJ,KAuIP,KAAQ4iD,IACR,OAAUN,GAvGd,SAAgBrgC,EAAOmgC,EAAcnjC,GACjC,GAAc,OAAVgD,EACA,OAAO,EAGX,IAAIwgC,EAAY3jD,EAAcmjB,EAAMplB,MAAO,GAE3C,OADe4lD,IAAcxgC,EAAMplB,MAAMmD,QACvBgiD,EAAgB//B,EAAMplB,MAAO4lD,GAK3CR,EAAWhjC,EAAMgD,EAAMplB,MAAO4lD,GACvB,EAGJ,EARI,KAgGX,QAAWH,GAnFf,SAAiBrgC,EAAOmgC,EAAcnjC,GAElC,GAAc,OAAVgD,GAAkBA,EAAMziB,OAASzB,EAAK4B,OACtC,OAAO,EAQX,IAJA,IAAI/D,EAAkC,KAA9BqmB,EAAMplB,MAAMyC,WAAW,IACO,KAA9B2iB,EAAMplB,MAAMyC,WAAW,GAAgB,EAAI,EAG5C1D,EAAIqmB,EAAMplB,MAAMmD,OAAQpE,IAC3B,IAAK+S,EAAQsT,EAAMplB,MAAMyC,WAAW1D,IAChC,OAAO,EAKf,OAAIqmD,EAAWhjC,EAAMgD,EAAMplB,MAAOjB,GACvB,EAGJ,KAgEP,yBAvZUO,EAuZoB,aAtZ9BA,GAAc,IAEP,SAAS8lB,EAAOmgC,GACnB,OAAc,OAAVngC,GAAkB2/B,EAAM3/B,EAAMplB,MAAOV,GAC9BgmD,EAAgBlgC,EAAOmgC,GAG3B,M,gBCxLf,IAAIzzC,EAAU,EAAQ,GAAgBA,QAClCI,EAAU,EAAQ,GAAgBA,QAClChR,EAAO,EAAQ,GAAgBA,KAE/B63B,EAAQ73B,EAAKsD,MACbuO,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QACfuzB,EAAQl3B,EAAKwC,MACb40B,EAASp3B,EAAK4B,OACd41B,EAAYx3B,EAAK0B,UAOrB,SAAS6Q,EAAQ2R,EAAOhiB,GACpB,OAAiB,OAAVgiB,GAAkBA,EAAMziB,OAASo2B,GAAS3T,EAAMplB,MAAMyC,WAAW,KAAOW,EAGnF,SAAS2Q,EAAOqR,EAAO7iB,EAAQgjD,GAC3B,KAAiB,OAAVngC,IAAmBA,EAAMziB,OAASoQ,GAAcqS,EAAMziB,OAASqQ,IAClEoS,EAAQmgC,IAAehjD,GAG3B,OAAOA,EAGX,SAAS0jD,EAAa7gC,EAAO8gC,EAAaC,EAAc5jD,GACpD,IAAK6iB,EACD,OAAO,EAGX,IAAIhiB,EAAOgiB,EAAMplB,MAAMyC,WAAWyjD,GAElC,GAzBW,KAyBP9iD,GAxBU,KAwBWA,EAAsB,CAC3C,GAAI+iD,EAEA,OAAO,EAEXD,IAGJ,KAAOA,EAAc9gC,EAAMplB,MAAMmD,OAAQ+iD,IACrC,IAAKp0C,EAAQsT,EAAMplB,MAAMyC,WAAWyjD,IAEhC,OAAO,EAIf,OAAO3jD,EAAS,EAKpB,SAAS6jD,EAAShhC,EAAOihC,EAASd,GAC9B,IAAI9yC,GAAO,EACPlQ,EAASwR,EAAOqR,EAAOihC,EAASd,GAIpC,GAAc,QAFdngC,EAAQmgC,EAAahjD,IAGjB,OAAO8jD,EAGX,GAAIjhC,EAAMziB,OAAS21B,EAAQ,CACvB,IAAI7kB,EAAQ2R,EAxDL,MAwDyB3R,EAAQ2R,EAvD9B,IAgEN,OAAOihC,EAJP,GAJA5zC,GAAO,EACPlQ,EAASwR,EAAOwxC,IAAehjD,GAASA,EAAQgjD,GAGlC,QAFdngC,EAAQmgC,EAAahjD,KAEC6iB,EAAMziB,OAAS21B,EACjC,OAAO,EAOnB,IAAK7lB,EAAM,CACP,IAAIrP,EAAOgiB,EAAMplB,MAAMyC,WAAW,GAClC,GAvEO,KAuEHW,GAtEM,KAsEeA,EAErB,OAAO,EAIf,OAAO6iD,EAAa7gC,EAAO3S,EAAO,EAAI,EAAGA,EAAMlQ,GAInD/D,EAAOD,QAAU,SAAiB6mB,EAAOmgC,GAErC,IAAIhjD,EAAS,EAEb,IAAK6iB,EACD,OAAO,EAIX,GAAIA,EAAMziB,OAAS21B,EACf,OAAO2tB,EAAa7gC,EAAO,GAvFlB,EAuFiC7iB,GAQzC,GAAI6iB,EAAMziB,OAASy1B,GAlGV,KAkGmBhT,EAAMplB,MAAMyC,WAAW,GAAoB,CAExE,IAAKyP,EAAQkT,EAAMplB,MAAO,EAnG1B,KAoGI,OAAO,EAGX,OAAQolB,EAAMplB,MAAMmD,QAIhB,KAAK,EACD,OAAOijD,EAASb,IAAehjD,GAASA,EAAQgjD,GAGpD,KAAK,EACD,OAjHE,KAiHEngC,EAAMplB,MAAMyC,WAAW,GAChB,GAGXF,EAASwR,EAAOwxC,IAAehjD,GAASA,EAAQgjD,GAGzCU,EAFP7gC,EAAQmgC,EAAahjD,GAEM,GAtHvB,EAsHyCA,IAGjD,QACI,OA5HE,KA4HE6iB,EAAMplB,MAAMyC,WAAW,GAChB,EAGJwjD,EAAa7gC,EAAO,GA9HvB,EA8HyC7iB,SASpD,GAAI6iB,EAAMziB,OAASy1B,GAAU3kB,EAAQ2R,EA1I/B,KA0ImDmgC,EAAahjD,EAAS,GAAGI,OAASy1B,EAAQ,CAMpG,GAJIhT,EAAMziB,OAASy1B,IACfhT,EAAQmgC,IAAehjD,IAGb,OAAV6iB,IAAmBlT,EAAQkT,EAAMplB,MAAO,EA9I5C,KA+II,OAAO,EAGX,OAAQolB,EAAMplB,MAAMmD,QAIhB,KAAK,EACD,OAAOijD,EAASb,IAAehjD,GAASA,EAAQgjD,GAGpD,KAAK,EACD,OA5JE,KA4JEngC,EAAMplB,MAAMyC,WAAW,GAChB,GAGXF,EAASwR,EAAOwxC,IAAehjD,GAASA,EAAQgjD,GAGzCU,EAFP7gC,EAAQmgC,EAAahjD,GAEM,GAjKvB,EAiKyCA,IAGjD,QACI,OAvKE,KAuKE6iB,EAAMplB,MAAMyC,WAAW,GAChB,EAGJwjD,EAAa7gC,EAAO,GAzKvB,EAyKyC7iB,SASpD,GAAI6iB,EAAMziB,OAAS+1B,EAAW,CAI/B,IAHA,IAAIt1B,EAAOgiB,EAAMplB,MAAMyC,WAAW,GAC9BgQ,EAvLG,KAuLIrP,GAtLD,KAsLsBA,EAAuB,EAAI,EAElDrE,EAAI0T,EAAM1T,EAAIqmB,EAAMplB,MAAMmD,QAC1B2O,EAAQsT,EAAMplB,MAAMyC,WAAW1D,IADGA,KAM3C,OAAIA,IAAM0T,EAEC,EAGNP,EAAQkT,EAAMplB,MAAOjB,EAlM1B,KAyMIA,EAAI,IAAMqmB,EAAMplB,MAAMmD,OACfijD,EAASb,IAAehjD,GAASA,EAAQgjD,GA3M1C,KA6MFngC,EAAMplB,MAAMyC,WAAW1D,EAAI,GACpB,EAIPA,EAAI,IAAMqmB,EAAMplB,MAAMmD,QACtBZ,EAASwR,EAAOwxC,IAAehjD,GAASA,EAAQgjD,GAGzCU,EAFP7gC,EAAQmgC,EAAahjD,GAEM,GApNvB,EAoNyCA,IAItC0jD,EAAa7gC,EAAOrmB,EAAI,GAxN3B,EAwN6CwD,GAtB9C,EA2Bf,OAAO,I,gBC1OX,IAAIwP,EAAa,EAAQ,GAAgBA,WACrCG,EAAU,EAAQ,GAAgBA,QAClChR,EAAO,EAAQ,GAAgBA,KAE/Bk3B,EAAQl3B,EAAKwC,MACbq1B,EAAQ73B,EAAKsD,MACb8zB,EAASp3B,EAAK4B,OACd41B,EAAYx3B,EAAK0B,UAMrB,SAAS6Q,EAAQ2R,EAAOhiB,GACpB,OAAiB,OAAVgiB,GAAkBA,EAAMziB,OAASo2B,GAAS3T,EAAMplB,MAAMyC,WAAW,KAAOW,EAGnF,SAASkjD,EAAWlhC,EAAOhiB,GACvB,OAAOgiB,EAAMplB,MAAMyC,WAAW,KAAOW,EAGzC,SAASmjD,EAAYnhC,EAAO7iB,EAAQikD,GAChC,IAAK,IAAIhzC,EAAMjR,EAAQkkD,EAAS,EAAGjzC,EAAM4R,EAAMplB,MAAMmD,OAAQqQ,IAAO,CAChE,IAAIpQ,EAAOgiB,EAAMplB,MAAMyC,WAAW+Q,GAElC,GAhBU,KAgBNpQ,GAAwBojD,GAAwB,IAAXC,EACrC,OAAIF,EAAYnhC,EAAO7iB,EAASkkD,EAAS,GAAG,GAAS,EAC1C,EAGJ,EAGX,IAAK10C,EAAW3O,GACZ,OAAO,EAGX,KAAMqjD,EAAS,EACX,OAAO,EAIf,OAAOA,EAGX,SAASC,EAAyB9lB,EAAUz9B,EAAQoiD,GAChD,IAAK3kB,EACD,OAAO,EAGX,KAAOntB,EAAQ8xC,EAAapiD,GAxCb,KAwCqC,CAChD,KAAMy9B,EAAW,EACb,OAAO,EAGXz9B,IAGJ,OAAOA,EAsBX3E,EAAOD,QAAU,SAAgB6mB,EAAOmgC,GACpC,IAAIpiD,EAAS,EAGb,GAAc,OAAViiB,GAAkBA,EAAMziB,OAASy1B,IAAUlmB,EAAQkT,EAAMplB,MAAO,EAzEhE,KA0EA,OAAO,EAIX,GAAc,QADdolB,EAAQmgC,IAAepiD,IAEnB,OAAO,EAKX,GAAIsQ,EAAQ2R,EAvFD,IAyFP,OAAc,QADdA,EAAQmgC,IAAepiD,IAEZ,EAGPiiB,EAAMziB,OAASy1B,EAERsuB,EAAyBH,EAAYnhC,EAAO,GAAG,KAASjiB,EAAQoiD,GAGvE9xC,EAAQ2R,EAhGD,IAkGAshC,EAAyB,IAAKvjD,EAAQoiD,GAI1C,EAMX,GAAIngC,EAAMziB,OAAS21B,EAAQ,CACvB,IAAKguB,EAAWlhC,EA/GT,IAgHH,OAAO,EAGX,IAAIuhC,EAAoBJ,EAAYnhC,EAAO,GAAG,GAC9C,OAA0B,IAAtBuhC,EACO,EAIG,QADdvhC,EAAQmgC,IAAepiD,IAGZA,EAGPiiB,EAAMziB,OAAS+1B,GAAatT,EAAMziB,OAAS21B,EAGtCguB,EAAWlhC,EAhIV,KAgIkCmhC,EAAYnhC,EAAO,GAAG,GAIvDjiB,EAAS,EAHL,EAORujD,EAAyBC,EAAmBxjD,EAAQoiD,GAI/D,OAAIngC,EAAMziB,OAAS+1B,GACV4tB,EAAWlhC,EA9IT,IAkJAshC,EAAyBH,EAAYnhC,EAAO,GAAG,KAASjiB,EAAQoiD,GAGpE,I,gBC7JX,IAAIlkC,EAAc,EAAQ,IAQtB+B,EAAY,SAASnY,GACrBrD,KAAKqD,IAAMA,EACXrD,KAAK4L,IAAM,GAGf4P,EAAUziB,UAAY,CAClB8B,WAAY,SAAS+Q,GACjB,OAAOA,EAAM5L,KAAKqD,IAAI9H,OAASyE,KAAKqD,IAAIxI,WAAW+Q,GAAO,GAE9D4Q,SAAU,WACN,OAAOxc,KAAKnF,WAAWmF,KAAK4L,MAEhCmR,aAAc,WACV,OAAO/c,KAAKnF,WAAWmF,KAAK4L,IAAM,IAEtCozC,cAAe,SAASpzC,GACpB,OAAO5L,KAAKnF,WAAWmF,KAAKkc,UAAUtQ,KAE1CsQ,UAAW,SAAStQ,GAChB,KAAOA,EAAM5L,KAAKqD,IAAI9H,OAAQqQ,IAAO,CACjC,IAAIpQ,EAAOwE,KAAKqD,IAAIxI,WAAW+Q,GAC/B,GAxBJ,KAwBQpQ,GA1BR,KA0BsBA,GAzBtB,KAyBoCA,GAvBhC,KAuB8CA,GA3BhD,IA2BkEA,EAC5D,MAIR,OAAOoQ,GAEXqQ,eAAgB,SAASnR,GACrB,OAAO9K,KAAKqD,IAAIpC,UAAUjB,KAAK4L,IAAK5L,KAAK4L,IAAMd,IAEnDyR,IAAK,SAAS/gB,GACNwE,KAAKwc,aAAehhB,GACpBwE,KAAKyT,MAAM,WAAaxX,OAAO0f,aAAangB,GAAQ,KAGxDwE,KAAK4L,OAETiR,KAAM,WACF,OAAO7c,KAAK4L,IAAM5L,KAAKqD,IAAI9H,OAASyE,KAAKqD,IAAI8K,OAAOnO,KAAK4L,OAAS,IAEtE6H,MAAO,SAASsF,GACZ,MAAM,IAAIU,EAAYV,EAAS/Y,KAAKqD,IAAKrD,KAAK4L,OAItDhV,EAAOD,QAAU6kB,G,gBCtDjB,IAAIjhB,EAAW,EAAQ,GAEnB0kD,EAAc,IADA,EAAQ,IAEtBC,EAAc,CACdC,UAAW,SAAS5nB,GAChB,IAAI6nB,EAAU,KACV//C,EAAO,CAAEV,IAAK,EAAGwC,KAAM,MACvBk+C,EAAQ,CAAChgD,GACTyV,EAAS,GAEb,MAAO,CACHrI,SAAU8qB,EAAS9qB,SACnBtL,KAAM,SAASA,GACX,IAAI02B,EAAMunB,EACVA,EAAUj+C,EACVo2B,EAASp2B,KAAK7J,KAAK0I,KAAMmB,GACzBi+C,EAAUvnB,GAEdz2B,MAAO,SAASA,GACZ0T,GAAU1T,EACN/B,EAAK8B,OAASi+C,EACdC,EAAMzgD,KAAK,CACPD,IAAKyC,EAAM7F,OACX4F,KAAMi+C,IAGV//C,EAAKV,KAAOyC,EAAM7F,QAG1B2M,OAAQ,WACJ,OAAOsxC,EAAc1kC,EAAQuqC,OAM7C,SAAS7F,EAAcn2C,EAAKg8C,GACxB,IAAI3wB,EAAS,GACT4wB,EAAc,EACdC,EAAa,EACbC,EAAcH,EAAQA,EAAME,GAAYp+C,KAAO,KAInD,IAFA5G,EAAS8I,EAAK47C,IAENA,EAAY5zC,KAAK,CACrB,GAAIg0C,EACA,KAAOE,EAAaF,EAAM9jD,QAAU+jD,EAAcD,EAAME,GAAY5gD,KAAOsgD,EAAY5+C,YACnFi/C,GAAeD,EAAME,KAAc5gD,IACnC6gD,EAAcH,EAAME,GAAYp+C,KAIxCutB,EAAO9vB,KAAK,CACR7D,KAAMkkD,EAAY19C,UAClBnJ,MAAO6mD,EAAYnzC,gBACnB3M,MAAO8/C,EAAY/+C,WACnB7D,QAAS4iD,EAAY5iD,QAAQ4iD,EAAY/+C,YACzCiB,KAAMq+C,IAEVP,EAAYjhD,OAIhB,OAAO0wB,EAGX93B,EAAOD,QAAU,SAASyB,EAAOm2B,GAC7B,MAAqB,iBAAVn2B,EACAohD,EAAcphD,EAAO,MAGzBm2B,EAAOrtB,SAAS9I,EAAO8mD,K,gBCvElC,IAAIlmD,EAAiBnB,OAAOkB,UAAUC,eAClCymD,EAAa,EAAQ,IACrBlwB,EAAQkwB,EAAWlwB,MACnBC,EAAWiwB,EAAWjwB,SACtBC,EAAiBgwB,EAAWhwB,eAC5Bn2B,EAAO,EAAQ,GAAsBA,KAYrComD,EAAsB,EAE1B,SAASC,EAAYzgD,GAKjB,IAJA,IAAIG,EAAO,KACPrB,EAAO,KACPgK,EAAO9I,EAEK,OAAT8I,GACHhK,EAAOgK,EAAK3I,KACZ2I,EAAK3I,KAAOA,EACZA,EAAO2I,EACPA,EAAOhK,EAGX,OAAOqB,EAGX,SAASugD,EAA+Br1C,EAASQ,GAC7C,GAAIR,EAAQhP,SAAWwP,EAAaxP,OAChC,OAAO,EAGX,IAAK,IAAIpE,EAAI,EAAGA,EAAIoT,EAAQhP,OAAQpE,IAAK,CACrC,IAAI6T,EAAWT,EAAQ1P,WAAW1D,GAQlC,GAJI6T,GAAY,IAAUA,GAAY,KAClCA,GAAsB,IAGtBA,IAPgBD,EAAalQ,WAAW1D,GAQxC,OAAO,EAIf,OAAO,EAGX,SAAS0oD,EAAoBriC,GACzB,OAAc,OAAVA,IAKAA,EAAMziB,OAASzB,EAAKyD,OACpBygB,EAAMziB,OAASzB,EAAK+B,UACpBmiB,EAAMziB,OAASzB,EAAKuD,iBACpB2gB,EAAMziB,OAASzB,EAAKiE,mBACpBigB,EAAMziB,OAASzB,EAAKmE,kBACpB+f,EAAMziB,OAASzB,EAAKsD,OAI5B,SAASkjD,EAAkBtiC,GACvB,OAAc,OAAVA,IAKAA,EAAMziB,OAASzB,EAAKwD,kBACpB0gB,EAAMziB,OAASzB,EAAKkE,oBACpBggB,EAAMziB,OAASzB,EAAKoE,mBACpB8f,EAAMziB,OAASzB,EAAKsD,OAI5B,SAASmjD,EAAcrxB,EAAQsxB,EAAOC,GAClC,SAASC,IACL,GACIhgD,IACAsd,EAAQtd,EAAawuB,EAAOnzB,OAASmzB,EAAOxuB,GAAc,WAC3C,OAAVsd,IAAmBA,EAAMziB,OAASzB,EAAKoC,YAAc8hB,EAAMziB,OAASzB,EAAK2D,UAGtF,SAAS0gD,EAAahjD,GAClB,IAAIwlD,EAAYjgD,EAAavF,EAE7B,OAAOwlD,EAAYzxB,EAAOnzB,OAASmzB,EAAOyxB,GAAa,KAG3D,SAASC,EAAwBC,EAAWhhD,GACxC,MAAO,CACHghD,UAAWA,EACXC,WAAYA,EACZC,YAAaA,EACbC,UAAWA,EACXtgD,WAAYA,EACZb,KAAMA,GAId,SAASohD,EAAcJ,GACnBG,EAAY,CACRH,UAAWA,EACXC,WAAYA,EACZC,YAAaA,EACblhD,KAAMmhD,GAId,SAASE,EAAcL,GACnBM,EAAYP,EAAwBC,EAAWM,GAGnD,SAASC,IACLN,EAAa,CACTvlD,KApHA,EAqHAwzB,OAAQyxB,EAAMzxB,OACd/Q,MAAOA,EACPne,KAAMihD,GAGVJ,IACAW,EAAc,KAEV3gD,EAAayuB,IACbA,EAAezuB,GAmBvB,SAAS4gD,IAEDR,EAlJM,IAiJNA,EAAWvlD,KACEulD,EAAWjhD,KAEX,CACTtE,KApJG,EAqJHwzB,OAAQgyB,EAAYhyB,OACpB/Q,MAAO8iC,EAAW9iC,MAClBne,KAAMihD,GAIdC,EAAcA,EAAYlhD,KAG9B,IAAIkhD,EAAc,KACdC,EAAY,KACZG,EAAY,KAKZE,EAAc,KAEdE,EAAiB,EACjBC,EAAa,KAEbxjC,EAAQ,KACRtd,GAAc,EACdyuB,EAAe,EACf2xB,EAAa,CACbvlD,KAjLG,EAkLHwzB,OAAQ,KACR/Q,MAAO,KACPne,KAAM,MAKV,IAFA6gD,IAEsB,OAAfc,KAAyBD,EAhLd,MAkMd,OAAQf,EAAMjlD,MACV,IAAK,QACD,GAAkB,OAAdylD,EAAoB,CAEpB,GAAc,OAAVhjC,IAEItd,IAAewuB,EAAOnzB,OAAS,GAAsB,QAAhBiiB,EAAMplB,OAAmC,QAAhBolB,EAAMplB,OAAkB,CACtF4nD,EAAQxwB,EACR,MAKRwxB,EAnNI,QAoNJ,MAOJ,IAHAhB,EAAQQ,EAAUH,aAGJ5wB,EAAgB,CAC1B,GAAI+wB,EAAUF,aAAeA,EAAY,CACrCN,EAAQxwB,EACR,MAEAwwB,EAAQzwB,EAKhB,KAAOixB,EAAUD,cAAgBA,GAC7BO,IAIJN,EAAYA,EAAUnhD,KACtB,MAEJ,IAAK,WAED,GAAoB,OAAhBwhD,IAAwC,IAAhBA,GAEN,OAAdF,GAAsBzgD,EAAaygD,EAAUzgD,cAE7CygD,EAAYE,EACZA,GAAc,QAEf,GAAkB,OAAdF,EAAoB,CAG3BK,EAxPO,WAyPP,MAIJhB,EAAQW,EAAUN,UAGlBG,EAAYG,EAAUH,UACtBD,EAAcI,EAAUJ,YACxBD,EAAaK,EAAUL,WACvBpgD,EAAaygD,EAAUzgD,WACvBsd,EAAQtd,EAAawuB,EAAOnzB,OAASmzB,EAAOxuB,GAAc,KAG1DygD,EAAYA,EAAUthD,KACtB,MAEJ,IAAK,aACD2gD,EAAQA,EAAMx8C,MACd,MAEJ,IAAK,KAGGw8C,EAAMnwB,OAASL,GACfkxB,EAAcV,EAAMnwB,MAGpBmwB,EAAMjrC,OAASwa,GACfkxB,EAAcT,EAAMjrC,MAGxBirC,EAAQA,EAAMx8C,MACd,MAEJ,IAAK,YACDw8C,EAAQ,CACJjlD,KAAM,kBACNwzB,OAAQyxB,EACR7gD,MAAO,EACP8hD,KAAM,GAEV,MAEJ,IAAK,kBACD,IAAI/mC,EAAQ8lC,EAAMzxB,OAAOrU,MAEzB,GAAI8lC,EAAM7gD,QAAU+a,EAAM3e,OAAQ,CAE9B,GAAmB,IAAfykD,EAAMiB,MAAcjB,EAAMzxB,OAAOvH,IAAK,CACtCg5B,EAAQxwB,EACR,MAIJwwB,EAAQzwB,EACR,MAIJ,GAAIywB,EAAMiB,QAAU,GAAK/mC,EAAM3e,QAAU,EAAG,CACxCykD,EAAQzwB,EACR,MAGJ,KAAOywB,EAAM7gD,MAAQ+a,EAAM3e,OAAQykD,EAAM7gD,QAAS,CAC9C,IAAI+hD,EAAY,GAAKlB,EAAM7gD,MAE3B,GAAiC,IAA5B6gD,EAAMiB,KAAOC,GAAkB,CAGhCR,EAAcV,GACdS,EAAc,CACV1lD,KAAM,eACNwzB,OAAQyxB,EAAMzxB,OACd0yB,KAAMjB,EAAMiB,KAAOC,IAIvBlB,EAAQ9lC,EAAM8lC,EAAM7gD,SACpB,OAGR,MAEJ,IAAK,eACD6gD,EAAQ,CACJjlD,KAAM,kBACNwzB,OAAQyxB,EAAMzxB,OACdpvB,MAAO,EACP8hD,KAAMjB,EAAMiB,MAEhB,MAEJ,IAAK,OACD,GAAc,OAAVzjC,EAQA,IAJ4B,KAHxB9lB,EAAO8lB,EAAMplB,MAAMwV,eAGd1Q,QAAQ,QACbxF,EAAOA,EAAKkM,QAAQ,YAAa,KAGjC5K,EAAe1B,KAAK0oD,EAAMzhD,IAAK7G,GAAO,CACtCsoD,EAAQA,EAAMzhD,IAAI7G,GAClB,MAIRsoD,EAAQxwB,EACR,MAEJ,IAAK,UACD,IAAIhV,EAAuB,OAAhB+lC,EAAuBA,EAAY/lC,KAAO,KACjD2mC,EAAiBjhD,EAAayK,KAAKg6B,MAAMqb,EAAMvhD,GAAG+e,EAAOmgC,EAAcnjC,IAE3E,IAAKgT,MAAM2zB,IAAmBA,EAAiBjhD,EAAY,CACvD,KAAOA,EAAaihD,GAChBP,IAGJZ,EAAQzwB,OAERywB,EAAQxwB,EAGZ,MAEJ,IAAK,OACL,IAAK,WACD,IAAI4xB,EAA4B,SAAfpB,EAAMjlD,KAAkB,QAAU,aAC/CsmD,EAAaroD,EAAe1B,KAAK2oD,EAAUmB,GAAcnB,EAASmB,GAAYpB,EAAMtoD,MAAQ,KAEhG,IAAK2pD,IAAeA,EAAW79C,MAC3B,MAAM,IAAIyC,MACN,0BACgB,SAAf+5C,EAAMjlD,KACD,IAAMilD,EAAMtoD,KAAO,IACnB,KAAQsoD,EAAMtoD,KAAO,OAKnC,IAAoB,IAAhBmpD,GAAmC,OAAVrjC,GAAiC,SAAfwiC,EAAMjlD,KAYjD,GAPoB,iBAAfilD,EAAMtoD,MAA2B8lB,EAAMziB,OAASzB,EAAKwC,OAKtC,WAAfkkD,EAAMtoD,MAAqC,MAAhB8lB,EAAMplB,MAEb,CACD,OAAhByoD,IACAA,EAAcT,EAAwBJ,EAAOW,IAGjDX,EAAQxwB,EACR,MA5RhB+wB,EAAc,CACVhyB,OAAQyxB,EAAMzxB,OACd/T,KAAMwlC,EAAMzxB,OAAO/T,MAAyB,OAAhB+lC,GAAwBA,EAAY/lC,MAAS,KACzEnb,KAAMkhD,GAGVD,EAAa,CACTvlD,KAzIM,EA0INwzB,OAAQyxB,EAAMzxB,OACd/Q,MAAO8iC,EAAW9iC,MAClBne,KAAMihD,GAuRFN,EAAQqB,EAAW79C,MACnB,MAEJ,IAAK,UACD,IAAI9L,EAAOsoD,EAAMtoD,KAEjB,GAAc,OAAV8lB,EAAgB,CAChB,IAAI8jC,EAAc9jC,EAAMplB,MAOxB,IAJmC,IAA/BkpD,EAAYpkD,QAAQ,QACpBokD,EAAcA,EAAY19C,QAAQ,YAAa,KAG/Cg8C,EAA+B0B,EAAa5pD,GAAO,CACnDkpD,IACAZ,EAAQzwB,EACR,OAIRywB,EAAQxwB,EACR,MAEJ,IAAK,YACL,IAAK,WACD,GAAc,OAAVhS,GAAkBoiC,EAA+BpiC,EAAMplB,MAAO4nD,EAAMtoD,MAAO,CAC3EkpD,IACAZ,EAAQzwB,EACR,MAGJywB,EAAQxwB,EACR,MAEJ,IAAK,QACD,GAAc,OAAVhS,GAAkBA,EAAMplB,QAAU4nD,EAAM5nD,MAAO,CAC/CwoD,IACAZ,EAAQzwB,EACR,MAGJywB,EAAQxwB,EACR,MAEJ,IAAK,QACa,OAAVhS,GAAkBA,EAAMziB,OAASzB,EAAKyD,MAClC8iD,EAAoBS,EAAW9iC,OAC/BwiC,EAAQxwB,GAERoxB,IACAZ,EAAQF,EAAkBtiC,GAASgS,EAAWD,GAGlDywB,EAAQH,EAAoBS,EAAW9iC,QAAUsiC,EAAkBtiC,GAAS+R,EAAQC,EAGxF,MAEJ,IAAK,SACD,IAAIsV,EAAS,GAEb,IAASqc,EAAiBjhD,EAAYihD,EAAiBzyB,EAAOnzB,QAAUupC,EAAOvpC,OAASykD,EAAM5nD,MAAMmD,OAAQ4lD,IACxGrc,GAAUpW,EAAOyyB,GAAgB/oD,MAGrC,GAAIwnD,EAA+B9a,EAAQkb,EAAM5nD,OAAQ,CACrD,KAAO8H,EAAaihD,GAChBP,IAGJZ,EAAQzwB,OAERywB,EAAQxwB,EAGZ,MAEJ,QACI,MAAM,IAAIvpB,MAAM,sBAAwB+5C,EAAMjlD,MAM1D,OAFA2kD,GAAuBqB,EAEfC,GACJ,KAAK,KACDxtC,QAAQ8T,KAAK,gDACb05B,EAtfsB,wGAuftBV,EAAa,KACb,MAEJ,IA5fgB,QA6fZ,KAAuB,OAAhBC,GACHO,IAEJ,MAEJ,QACIR,EAAa,KAGrB,MAAO,CACH5xB,OAAQA,EACRisB,OAAQqG,EACR9G,WAAY6G,EACZv9C,MAAO88C,EACP3xB,aAAcA,GAuFtB/3B,EAAOD,QAAU,CACb4qD,YApFJ,SAAqB7yB,EAAQ+wB,EAAYQ,GACrC,IAAIzxB,EAAcuxB,EAAcrxB,EAAQ+wB,EAAYQ,GAAY,IAEhE,GAA0B,OAAtBzxB,EAAYhrB,MAAgB,CAC5B,IAAIwE,EAAO23C,EAAYnxB,EAAYhrB,OAAOnE,KAI1C,IAFAmvB,EAAYhrB,MAAQ,GAEJ,OAATwE,GAAe,CAClB,OAAQA,EAAKjN,MACT,KA9hBL,EA+hBS,MAEJ,KA/hBE,EAgiBF,KA/hBG,EAgiBCyzB,EAAYhrB,MAAM5E,KAAK,CACnB7D,KAAMiN,EAAKjN,KACXwzB,OAAQvmB,EAAKumB,SAEjB,MAEJ,QACIC,EAAYhrB,MAAM5E,KAAK,CACnB4e,MAAOxV,EAAKwV,MAAMplB,MAClB+I,KAAM6G,EAAKwV,MAAMrc,OAK7B6G,EAAOA,EAAK3I,MAIpB,OAAOmvB,GAoDPirB,YAjDJ,SAAqB/qB,EAAQ+wB,EAAYQ,GACrC,IAAIzxB,EAAcuxB,EAAcrxB,EAAQ+wB,EAAYQ,GAAY,IAEhE,GAA0B,OAAtBzxB,EAAYhrB,MACZ,OAAOgrB,EAGX,IAAIxmB,EAAOwmB,EAAYhrB,MACnBib,EAAO+P,EAAYhrB,MAAQ,CAC3B+qB,OAAQkxB,EAAWlxB,QAAU,KAC7B/qB,MAAO,IAEPg+C,EAAY,CAAC/iC,GAMjB,IAHAzW,EAAO23C,EAAY33C,GAAM3I,KAGT,OAAT2I,GAAe,CAClB,OAAQA,EAAKjN,MACT,KA1kBM,EA2kBF0jB,EAAKjb,MAAM5E,KAAK6f,EAAO,CACnB8P,OAAQvmB,EAAKumB,OACb/qB,MAAO,KAEXg+C,EAAU5iD,KAAK6f,GACf,MAEJ,KAjlBO,EAklBH+iC,EAAU/3C,MACVgV,EAAO+iC,EAAUA,EAAUjmD,OAAS,GACpC,MAEJ,QACIkjB,EAAKjb,MAAM5E,KAAK,CACZ2vB,OAAQvmB,EAAKumB,QAAU,KACvB/Q,MAAOxV,EAAKwV,MAAMplB,MAClB+I,KAAM6G,EAAKwV,MAAMrc,OAI7B6G,EAAOA,EAAK3I,KAGhB,OAAOmvB,GAMPizB,uBAAwB,WACpB,OAAO/B,K,cClnBf,SAAStF,EAASj5C,GACd,SAASugD,EAAiBnzB,GACtB,OAAe,OAAXA,IAKgB,SAAhBA,EAAOxzB,MACS,aAAhBwzB,EAAOxzB,MACS,YAAhBwzB,EAAOxzB,MA2Bf,IAAImN,EAAS,KAMb,OAJqB,OAAjBlI,KAAKm6C,SAzBT,SAASwH,EAASC,GACd,GAAIvjD,MAAMC,QAAQsjD,EAAUp+C,QAExB,IAAK,IAAIrM,EAAI,EAAGA,EAAIyqD,EAAUp+C,MAAMjI,OAAQpE,IACxC,GAAIwqD,EAASC,EAAUp+C,MAAMrM,IAKzB,OAJIuqD,EAAiBE,EAAUrzB,SAC3BrmB,EAAOwB,QAAQk4C,EAAUrzB,SAGtB,OAGZ,GAAIqzB,EAAUzgD,OAASA,EAK1B,OAJA+G,EAASw5C,EAAiBE,EAAUrzB,QAC9B,CAACqzB,EAAUrzB,QACX,IAEC,EAGX,OAAO,EAMPozB,CAAS3hD,KAAKm6C,SAGXjyC,EAGX,SAAS25C,EAASr+C,EAAOrC,EAAM1C,GAC3B,IAAIi7C,EAAQU,EAAS9iD,KAAKkM,EAAOrC,GAEjC,OAAc,OAAVu4C,GAIGA,EAAM5wC,KAAKrK,GAqBtB7H,EAAOD,QAAU,CACbyjD,SAAUA,EACVh2B,OApBJ,SAAgBjjB,EAAMpG,GAClB,OAAO8mD,EAAS7hD,KAAMmB,GAAM,SAASygD,GACjC,MAA0B,SAAnBA,EAAU7mD,MAAmB6mD,EAAUlqD,OAASqD,MAmB3Ds/C,WAfJ,SAAoBl5C,EAAMrI,GACtB,OAAO+oD,EAAS7hD,KAAMmB,GAAM,SAASygD,GACjC,MAA0B,aAAnBA,EAAU7mD,MAAuB6mD,EAAUlqD,OAASoB,MAc/DwhD,UAVJ,SAAmBn5C,GACf,OAAO0gD,EAAS7hD,KAAMmB,GAAM,SAASygD,GACjC,MAA0B,YAAnBA,EAAU7mD,W,gBCrEzB,IAAIsM,EAAO,EAAQ,GA8DnBzQ,EAAOD,QAAU,CACb0lD,eA7CJ,SAAwBz5B,EAAOwU,EAAK5zB,EAAOzI,EAAMrD,GAmC7C,IAAIoqD,EAAY,GAMhB,OAJsB,OAAlBt+C,EAAM22C,SApCV,SAAS4H,EAAcH,GACnB,GAAyB,OAArBA,EAAUrzB,QACVqzB,EAAUrzB,OAAOxzB,OAASA,GAC1B6mD,EAAUrzB,OAAO72B,OAASA,EAAM,CAChC,IAAI6E,EArBhB,SAASylD,EAAkBJ,GACvB,MAAI,SAAUA,EACHA,EAAUzgD,KAGd6gD,EAAkBJ,EAAUp+C,MAAM,IAgBrBw+C,CAAkBJ,GAC1B92C,EAdhB,SAASm3C,EAAiBL,GACtB,MAAI,SAAUA,EACHA,EAAUzgD,KAGd8gD,EAAiBL,EAAUp+C,MAAMo+C,EAAUp+C,MAAMjI,OAAS,IAS/C0mD,CAAiBL,GAE3Bh/B,EAAM2L,OAAOe,KAAK8H,GAAK,SAASj2B,EAAM6G,EAAM9I,GACxC,GAAIiC,IAAS5E,EAAO,CAChB,IAAI8iD,EAAQ,IAAIh4C,EAEhB,EAAG,CAGC,GAFAg4C,EAAMt2C,WAAWf,EAAKnG,MAElBmG,EAAKnG,OAASiJ,EACd,MAGJ9C,EAAOA,EAAKhK,WACE,OAATgK,GAET85C,EAAUljD,KAAK,CACXsjD,OAAQhjD,EACRmgD,MAAOA,QAMnBhhD,MAAMC,QAAQsjD,EAAUp+C,QACxBo+C,EAAUp+C,MAAMtF,QAAQ6jD,GAO5BA,CAAcv+C,EAAM22C,SAGjB2H,K,gBC3DX,IAAIz6C,EAAO,EAAQ,GACfrO,EAAiBnB,OAAOkB,UAAUC,eAEtC,SAASmpD,EAAc/pD,GAEnB,MACqB,iBAAVA,GACPmuB,SAASnuB,IACTuS,KAAKg6B,MAAMvsC,KAAWA,GACtBA,GAAS,EAIjB,SAASgqD,EAAgBrhD,GACrB,OACI2Z,QAAQ3Z,IACRohD,EAAcphD,EAAIpG,SAClBwnD,EAAcphD,EAAIgsB,OAClBo1B,EAAcphD,EAAImsB,QAI1B,SAASm1B,EAA2BtnD,EAAMmuC,GACtC,OAAO,SAAmB/nC,EAAMmmB,GAC5B,IAAKnmB,GAAQA,EAAKqR,cAAgB3a,OAC9B,OAAOyvB,EAAKnmB,EAAM,oCAGtB,IAAK,IAAIzI,KAAOyI,EAAM,CAClB,IAAIixB,GAAQ,EAEZ,IAAuC,IAAnCp5B,EAAe1B,KAAK6J,EAAMzI,GAA9B,CAIA,GAAY,SAARA,EACIyI,EAAKpG,OAASA,GACdusB,EAAKnmB,EAAM,oBAAsBA,EAAKpG,KAAO,gBAAkBA,EAAO,UAEvE,GAAY,QAARrC,EAAe,CACtB,GAAiB,OAAbyI,EAAKJ,IACL,SACG,GAAII,EAAKJ,KAAOI,EAAKJ,IAAIyR,cAAgB3a,OAC5C,GAA+B,iBAApBsJ,EAAKJ,IAAIvG,OAChB9B,GAAO,eACJ,GAAK0pD,EAAgBjhD,EAAKJ,IAAIxE,OAE9B,IAAK6lD,EAAgBjhD,EAAKJ,IAAI+J,KAGjC,SAFApS,GAAO,YAFPA,GAAO,SAQf05B,GAAQ,OACL,GAAI8W,EAAOlwC,eAAeN,GACxB,KAAIvB,EAAI,EAAb,IAAgBi7B,GAAQ,GAAQA,GAASj7B,EAAI+xC,EAAOxwC,GAAK6C,OAAQpE,IAAK,CAClE,IAAImrD,EAAYpZ,EAAOxwC,GAAKvB,GAE5B,OAAQmrD,GACJ,KAAKrmD,OACDm2B,EAA6B,iBAAdjxB,EAAKzI,GACpB,MAEJ,KAAKgiB,QACD0X,EAA6B,kBAAdjxB,EAAKzI,GACpB,MAEJ,KAAK,KACD05B,EAAsB,OAAdjxB,EAAKzI,GACb,MAEJ,QAC6B,iBAAd4pD,EACPlwB,EAAQjxB,EAAKzI,IAAQyI,EAAKzI,GAAKqC,OAASunD,EACjCjkD,MAAMC,QAAQgkD,KACrBlwB,EAAQjxB,EAAKzI,aAAgB2O,UAK7CigB,EAAKnmB,EAAM,kBAAoBzI,EAAM,SAAWqC,EAAO,cAGtDq3B,GACD9K,EAAKnmB,EAAM,kBAAoBpG,EAAO,IAAMrC,EAAM,MAI1D,IAAK,IAAIA,KAAOwwC,EACRlwC,EAAe1B,KAAK4xC,EAAQxwC,KACO,IAAnCM,EAAe1B,KAAK6J,EAAMzI,IAC1B4uB,EAAKnmB,EAAM,UAAYpG,EAAO,IAAMrC,EAAM,gBAM1D,SAAS6pD,EAAiB7qD,EAAM8qD,GAC5B,IAAIjiD,EAAYiiD,EAASjiD,UACrB2oC,EAAS,CACTnuC,KAAMkB,OACN8E,KAAK,GAEL0hD,EAAO,CACP1nD,KAAM,IAAMrD,EAAO,KAGvB,IAAK,IAAIgB,KAAO6H,EACZ,IAA4C,IAAxCvH,EAAe1B,KAAKiJ,EAAW7H,GAAnC,CASA,IALA,IAAIgqD,EAAY,GACZC,EAAazZ,EAAOxwC,GAAO2F,MAAMC,QAAQiC,EAAU7H,IACjD6H,EAAU7H,GAAK2T,QACf,CAAC9L,EAAU7H,IAERvB,EAAI,EAAGA,EAAIwrD,EAAWpnD,OAAQpE,IAAK,CACxC,IAAImrD,EAAYK,EAAWxrD,GAC3B,GAAImrD,IAAcrmD,QAAUqmD,IAAc5nC,QACtCgoC,EAAU9jD,KAAK0jD,EAAU5qD,WACtB,GAAkB,OAAd4qD,EACPI,EAAU9jD,KAAK,aACZ,GAAyB,iBAAd0jD,EACdI,EAAU9jD,KAAK,IAAM0jD,EAAY,SAC9B,KAAIjkD,MAAMC,QAAQgkD,GAGrB,MAAM,IAAIr8C,MAAM,gBAAkBq8C,EAAY,SAAW5qD,EAAO,IAAMgB,EAAM,0BAF5EgqD,EAAU9jD,KAAK,SAMvB6jD,EAAK/pD,GAAOgqD,EAAUt0C,KAAK,OAG/B,MAAO,CACHq0C,KAAMA,EACNvH,MAAOmH,EAA2B3qD,EAAMwxC,IAIhDtyC,EAAOD,QAAU,CACbijD,uBAAwB,SAASjB,GAC7B,IAAIp4C,EAAY,GAEhB,GAAIo4C,EAAOx3C,KACP,IAAK,IAAIzJ,KAAQihD,EAAOx3C,KACpB,GAAInI,EAAe1B,KAAKqhD,EAAOx3C,KAAMzJ,GAAO,CACxC,IAAI8qD,EAAW7J,EAAOx3C,KAAKzJ,GAE3B,IAAI8qD,EAASjiD,UAGT,MAAM,IAAI0F,MAAM,gCAAkCvO,EAAO,0BAFzD6I,EAAU7I,GAAQ6qD,EAAiB7qD,EAAM8qD,GAQzD,OAAOjiD,K,gBChKf3J,EAAOD,QAAU,CACb8iB,YAAa,EAAQ,IACrBjZ,MAAO,EAAQ,IACfU,SAAU,EAAQ,IAClBouB,KAAM,EAAQ,M,gBCJlB,IAAIszB,EAAmB,EAAQ,IAC3BnpC,EAAc,EAAQ,IACtBtgB,EAAc,EAAQ,GACtBkO,EAAO,EAAQ,GACf9M,EAAW,EAAQ,GACnBlB,EAAY,EAAQ,GACpB4R,EAAsB,EAAQ,GAAsBA,oBACpD43C,EAAW,EAAQ,IACnBjpC,EAAO,aAEPtgB,EAAOD,EAAUC,KACjB4R,EAAO7R,EAAU6R,KACjBC,EAAa7R,EAAKoC,WAClB80B,EAAQl3B,EAAKwC,MACb60B,EAAWr3B,EAAK+B,SAChBu1B,EAAMt3B,EAAKgC,IACXu1B,EAAOv3B,EAAKqD,KACZo0B,EAAaz3B,EAAK2B,WAClBy1B,EAASp3B,EAAK4B,OAIlB,SAAS4nD,EAAmBprD,GACxB,OAAO,WACH,OAAOsI,KAAKtI,MA6DpBd,EAAOD,QAAU,SAAsBgiD,GACnC,IAAIoK,EAAS,CACT9iD,QAAS,IAAI9G,EACb6pD,YAAa,IAAIJ,EAEjBnrB,SAAU,YACVwrB,eAAe,EACfC,aAActpC,EACdupC,mBAAmB,EACnBC,oBAAoB,EACpBC,kBAAkB,EAClBC,YAAY,EACZC,qBAAqB,EAErBjyB,aAAcuxB,EAEdW,WAAY,WACR,OAAO,IAAIn8C,GAEfmqB,qBAAsB,SAASrwB,GAC3B,OAAO,IAAIkG,GAAO0B,WAAW5H,IAEjCsiD,iBAAkB,SAASvkD,GACvB,OAAOA,GAAQA,EAAKmJ,SAExBq7C,gBAAiB,SAASxkD,GACtB,OAAOA,EAAKoJ,QAGhBq7C,kBAAmB,SAASC,EAAUC,GAClC,IAAIpjD,EAAaT,KAAKC,QAAQC,WAE9B,IACI,OAAO0jD,EAAStsD,KAAK0I,MACvB,MAAO8zB,GACL,GAAI9zB,KAAKmjD,kBACL,MAAMrvB,EAGV,IAAIgwB,EAAeD,EAASvsD,KAAK0I,KAAMS,GAMvC,OAJAT,KAAKmjD,mBAAoB,EACzBnjD,KAAKkjD,aAAapvB,EAAGgwB,GACrB9jD,KAAKmjD,mBAAoB,EAElBW,IAIfC,gBAAiB,SAASppD,GACtB,EAAG,CACC,IAAII,EAAOiF,KAAKC,QAAQE,WAAWxF,KACnC,GAAII,IAASoQ,EACT,OAAOpQ,QAtHhB,IAwHUA,GAET,OA1HD,GA6HHwhB,IAAK,SAAShb,GACV,GAAIvB,KAAKC,QAAQsB,YAAcA,EAAW,CACtC,IAAI5G,EAASqF,KAAKC,QAAQI,WACtB0Y,EAAU7N,EAAK3J,GAAa,eAGhC,OAAQA,GACJ,KAAKivB,EAEGxwB,KAAKC,QAAQsB,YAAcovB,GAAY3wB,KAAKC,QAAQsB,YAAcqvB,GAClEj2B,EAASqF,KAAKC,QAAQqL,SAAW,EACjCyN,EAAU,6CAEVA,EAAU,yBAEd,MAEJ,KAAK8X,EACG7wB,KAAKC,QAAQ4L,QAhJxB,MAiJW7L,KAAKC,QAAQjC,OACbrD,IACAoe,EAAU,oBAEd,MAEJ,KAAKgY,EACG/wB,KAAKC,QAAQsB,YAAcmvB,IAC3B/1B,EAASqF,KAAKC,QAAQqL,SACtByN,EAAU,4BAEd,MAEJ,QAGQ/Y,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,cAAgBkB,IAC5D5G,GAAkB,GAI9BqF,KAAKyT,MAAMsF,EAASpe,GAGxBqF,KAAKC,QAAQjC,QAGjBgmD,QAAS,SAASziD,GACd,IAAInJ,EAAQ4H,KAAKC,QAAQ6L,gBAIzB,OAFA9L,KAAKuc,IAAIhb,GAEFnJ,GAEX6rD,oBAAqB,WACjB,IAAIvsD,EAAOsI,KAAKC,QAAQzF,OAAOyG,UAAUjB,KAAKC,QAAQI,WAAYL,KAAKC,QAAQqL,SAAW,GAI1F,OAFAtL,KAAKuc,IAAIoU,GAEFj5B,GAGXsJ,YAAa,SAASzE,EAAOuO,GACzB,OAAI9K,KAAKijD,cACEjjD,KAAKgjD,YAAYkB,iBACpB3nD,EACAuO,EACA9K,KAAKy3B,UAIN,MAEX0sB,oBAAqB,SAASjlD,GAC1B,GAAIc,KAAKijD,cAAe,CACpB,IAAI37C,EAAOtH,KAAKyjD,iBAAiBvkD,GAC7BqI,EAAOvH,KAAK0jD,gBAAgBxkD,GAChC,OAAOc,KAAKgjD,YAAYkB,iBACX,OAAT58C,EAAgBA,EAAKvG,IAAIxE,MAAM5B,OAASqF,KAAKgjD,YAAYpiD,YAAcZ,KAAKC,QAAQI,WAC3E,OAATkH,EAAgBA,EAAKxG,IAAI+J,IAAInQ,OAASqF,KAAKgjD,YAAYpiD,YAAcZ,KAAKC,QAAQI,WAClFL,KAAKy3B,UAIb,OAAO,MAGXhkB,MAAO,SAASsF,EAASpe,GACrB,IAAI+V,OAA6B,IAAX/V,GAA0BA,EAASqF,KAAKC,QAAQzF,OAAOe,OACvEyE,KAAKgjD,YAAYhiD,YAAYrG,GAC7BqF,KAAKC,QAAQoL,IACTrL,KAAKgjD,YAAYhiD,YAAYiK,EAAoBjL,KAAKC,QAAQzF,OAAQwF,KAAKC,QAAQzF,OAAOe,OAAS,IACnGyE,KAAKgjD,YAAYhiD,YAAYhB,KAAKC,QAAQI,YAEpD,MAAM,IAAIoZ,EACNV,GAAW,mBACX/Y,KAAKC,QAAQzF,OACbkW,EAAS/V,OACT+V,EAASqc,KACTrc,EAASwc,UAMrB,IAAK,IAAIx0B,KADTigD,EA5NJ,SAAuBA,GACnB,IAAIyL,EAAe,CACf57C,QAAS,GACT67C,MAAO,GACP9I,OAAQ,GACR+I,OAAQ,IAGZ,GAAI3L,EAAO4L,aACP,IAAK,IAAI7sD,KAAQihD,EAAO4L,aACpB,cAAe5L,EAAO4L,aAAa7sD,IAC/B,IAAK,WACD0sD,EAAa57C,QAAQ9Q,GAAQihD,EAAO4L,aAAa7sD,GACjD,MAEJ,IAAK,SACD0sD,EAAa57C,QAAQ9Q,GAAQorD,EAAmBnK,EAAO4L,aAAa7sD,IAMpF,GAAIihD,EAAO0L,MACP,IAAK,IAAI3sD,KAAQihD,EAAO0L,MACpBD,EAAaC,MAAM3sD,GAAQihD,EAAO0L,MAAM3sD,GAIhD,GAAIihD,EAAO4C,OACP,IAAK,IAAI7jD,KAAQihD,EAAO4C,OAAQ,CAC5B,IAAIA,EAAS5C,EAAO4C,OAAO7jD,GAEvB6jD,EAAO/6C,QACP4jD,EAAa7I,OAAO7jD,GAAQ6jD,EAAO/6C,OAK/C,GAAIm4C,EAAO2L,OACP,IAAK,IAAI5sD,KAAQihD,EAAO2L,OAAQ,CAC5B,IAAIA,EAAS3L,EAAO2L,OAAO5sD,GAEvB4sD,EAAO9jD,QACP4jD,EAAaE,OAAO5sD,GAAQ4sD,EAAO9jD,OAK/C,GAAIm4C,EAAOx3C,KACP,IAAK,IAAIzJ,KAAQihD,EAAOx3C,KACpBijD,EAAa1sD,GAAQihD,EAAOx3C,KAAKzJ,GAAM8I,MAI/C,OAAO4jD,EAsKEI,CAAc7L,GAAU,IAE7BoK,EAAOrqD,GAAOigD,EAAOjgD,GAGzB,OAAO,SAAS8B,EAAQ+T,GAGpB,IACI6oB,EADA5uB,GAFJ+F,EAAUA,GAAW,IAEC/F,SAAW,UAoBjC,GAjBAjO,EAASC,EAAQuoD,EAAO9iD,SACxB8iD,EAAOC,YAAYyB,UACfjqD,EACA+T,EAAQ5T,OACR4T,EAAQwe,KACRxe,EAAQ2e,QAGZ61B,EAAOtrB,SAAWlpB,EAAQkpB,UAAY,YACtCsrB,EAAOE,cAAgBvoC,QAAQnM,EAAQmpB,WACvCqrB,EAAOG,aAA+C,mBAAzB30C,EAAQ20C,aAA8B30C,EAAQ20C,aAAetpC,EAC1FmpC,EAAOI,mBAAoB,EAC3BJ,EAAOK,qBAAqB,uBAAwB70C,IAAUmM,QAAQnM,EAAQ60C,oBAC9EL,EAAOM,mBAAmB,qBAAsB90C,IAAUmM,QAAQnM,EAAQ80C,kBAC1EN,EAAOO,aAAa,eAAgB/0C,IAAUmM,QAAQnM,EAAQ+0C,YAC9DP,EAAOQ,oBAAsB,wBAAyBh1C,GAAUmM,QAAQnM,EAAQg1C,sBAE3ER,EAAOv6C,QAAQxP,eAAewP,GAC/B,MAAM,IAAIvC,MAAM,oBAAsBuC,EAAU,KASpD,OANA4uB,EAAM2rB,EAAOv6C,QAAQA,GAASlR,KAAKyrD,EAAQx0C,GAEtCw0C,EAAO9iD,QAAQoL,KAChB03C,EAAOtvC,QAGJ2jB,K,gBC9Rf,IAAIh+B,EAAc,EAAQ,IACtBU,EAAQ,EAAQ,GAAgBA,MAuCpC,IAAI8oD,EAAmB,WACnB5iD,KAAK8sB,MAAQ,KACb9sB,KAAK0kD,QAAU,KACf1kD,KAAK2kD,yBAA0B,GAGnC/B,EAAiB7pD,UAAY,CACzB0rD,UAAW,SAASjqD,EAAQoG,EAAausB,EAAWy3B,GAChD5kD,KAAKxF,OAASA,EACdwF,KAAKY,iBAAqC,IAAhBA,EAA8B,EAAIA,EAC5DZ,KAAKmtB,eAAiC,IAAdA,EAA4B,EAAIA,EACxDntB,KAAK4kD,iBAAqC,IAAhBA,EAA8B,EAAIA,EAC5D5kD,KAAK2kD,yBAA0B,GAGnCE,8BAA+B,WACtB7kD,KAAK2kD,2BAjDlB,SAAgClmC,EAAMjkB,GAQlC,IAPA,IAAII,EAAeJ,EAAOe,OACtBuxB,EAAQ1zB,EAAYqlB,EAAKqO,MAAOlyB,GAChCmyB,EAAOtO,EAAK0O,UACZu3B,EAAUtrD,EAAYqlB,EAAKimC,QAAS9pD,GACpCsyB,EAASzO,EAAKmmC,YAGTztD,EAFSqD,EAAOe,OAAS,EAAIzB,EAAMU,EAAOK,WAAW,IAAM,EAE1C1D,EAAIyD,EAAczD,IAAK,CAC7C,IAAIqE,EAAOhB,EAAOK,WAAW1D,GAE7B21B,EAAM31B,GAAK41B,EACX23B,EAAQvtD,GAAK+1B,IAhBb,KAkBI1xB,GAhBJ,KAgBkBA,GAjBlB,KAiBgCA,IAhBhC,KAiBQA,GAAcrE,EAAI,EAAIyD,GAnB9B,KAmB8CJ,EAAOK,WAAW1D,EAAI,KAE5D21B,IADA31B,GACW41B,EACX23B,EAAQvtD,GAAK+1B,GAGjBH,IACAG,EAAS,GAIjBJ,EAAM31B,GAAK41B,EACX23B,EAAQvtD,GAAK+1B,EAEbzO,EAAKqO,MAAQA,EACbrO,EAAKimC,QAAUA,EAoBPI,CAAuB9kD,KAAMA,KAAKxF,QAClCwF,KAAK2kD,yBAA0B,IAGvC3jD,YAAa,SAASrG,EAAQ88B,GAG1B,OAFAz3B,KAAK6kD,gCAEE,CACHrqD,OAAQi9B,EACR98B,OAAQqF,KAAKY,YAAcjG,EAC3BoyB,KAAM/sB,KAAK8sB,MAAMnyB,GACjBuyB,OAAQltB,KAAK0kD,QAAQ/pD,KAG7BupD,iBAAkB,SAAS3nD,EAAOuO,EAAK2sB,GAGnC,OAFAz3B,KAAK6kD,gCAEE,CACHrqD,OAAQi9B,EACRl7B,MAAO,CACH5B,OAAQqF,KAAKY,YAAcrE,EAC3BwwB,KAAM/sB,KAAK8sB,MAAMvwB,GACjB2wB,OAAQltB,KAAK0kD,QAAQnoD,IAEzBuO,IAAK,CACDnQ,OAAQqF,KAAKY,YAAckK,EAC3BiiB,KAAM/sB,KAAK8sB,MAAMhiB,GACjBoiB,OAAQltB,KAAK0kD,QAAQ55C,OAMrClU,EAAOD,QAAUisD,G,gBC1FjB,IAAItpD,EAAO,EAAQ,GAAgBA,KAC/B6R,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QAEnBrG,EAAOD,QAAU,SAAsB46B,GACnC,IAAI9kB,EAAWzM,KAAKwjD,aAChBvzC,EAAQ,KACRzH,EAAU,CACV+oB,WAAYA,EACZH,MAAO,KACP2zB,UAAU,EACV1zB,eAAe,GAKnB,IAFArxB,KAAKC,QAAQkM,UAELnM,KAAKC,QAAQoL,KAAK,CACtB,OAAQrL,KAAKC,QAAQsB,WACjB,KAAK6J,EACDpL,KAAKC,QAAQjC,OACb,SAEJ,KAAKmN,EACG3C,EAAQu8C,SACR/kD,KAAKC,QAAQjC,OAEbwK,EAAQ4oB,MAAQpxB,KAAKtE,aAEzB,SAKR,QAAc+M,KAFdwH,EAAQshB,EAAWyzB,QAAQ1tD,KAAK0I,KAAMwI,IAGlC,MAGkB,OAAlBA,EAAQ4oB,QACR3kB,EAAS7N,KAAK4J,EAAQ4oB,OACtB5oB,EAAQ4oB,MAAQ,MAGpB3kB,EAAS7N,KAAKqR,GAEVzH,EAAQ6oB,eACR7oB,EAAQ6oB,eAAgB,EACxB7oB,EAAQu8C,UAAW,GAEnBv8C,EAAQu8C,UAAW,EAI3B,OAAOt4C,I,gBCpDX,IAAIkrB,EAAY,EAAQ,KACpB3+B,EAAiBnB,OAAOkB,UAAUC,eAEtC,SAASisD,EAAgB9jD,EAAM+jD,GAC3B,IAAIhmD,EAAOiC,EAAKsL,SACZpN,EAAO,KAEc,mBAAd6lD,EACPhmD,EAAKhB,QAAQ8B,KAAKmB,KAAMnB,MAExBd,EAAKhB,SAAQ,SAASiD,GACL,OAAT9B,GACA6lD,EAAU5tD,KAAK0I,KAAMX,GAGzBW,KAAKmB,KAAKA,GACV9B,EAAO8B,IACRnB,MAIXpJ,EAAOD,QAAU,SAAyBgiD,GACtC,SAASwM,EAAYhkD,GACjB,IAAInI,EAAe1B,KAAKiL,EAAOpB,EAAKpG,MAGhC,MAAM,IAAIkL,MAAM,sBAAwB9E,EAAKpG,MAF7CwH,EAAMpB,EAAKpG,MAAMzD,KAAK0I,KAAMmB,GAMpC,IAAIoB,EAAQ,GAEZ,GAAIo2C,EAAOx3C,KACP,IAAK,IAAIzJ,KAAQihD,EAAOx3C,KACpBoB,EAAM7K,GAAQihD,EAAOx3C,KAAKzJ,GAAMwJ,SAIxC,OAAO,SAASC,EAAMoN,GAClB,IAAIuG,EAAS,GACTyiB,EAAW,CACX9qB,SAAUw4C,EACV9jD,KAAMgkD,EACN/jD,MAAO,SAASA,GACZ0T,GAAU1T,GAEd8G,OAAQ,WACJ,OAAO4M,IAgBf,OAZIvG,IACiC,mBAAtBA,EAAQ4wC,YACf5nB,EAAWhpB,EAAQ4wC,UAAU5nB,IAG7BhpB,EAAQopB,YACRJ,EAAWI,EAAUJ,KAI7BA,EAASp2B,KAAKA,GAEPo2B,EAASrvB,Y,gBC/DxB,IAAIk9C,EAAqB,EAAQ,KAAuCA,mBACpEC,EAAa,CACblkC,QAAQ,EACRoB,UAAU,EACVb,aAAa,GAGjB9qB,EAAOD,QAAU,SAA2B4gC,GACxC,IAAIh5B,EAAM,IAAI6mD,EACVr4B,EAAO,EACPG,EAAS,EACTo4B,EAAY,CACZv4B,KAAM,EACNG,OAAQ,GAERq4B,EAAW,CACXx4B,KAAM,EACNG,OAAQ,GAERs4B,GAAsB,EACtBC,EAAqB,CACrB14B,KAAM,EACNG,OAAQ,GAERw4B,EAAmB,CACnBJ,UAAWG,GAGXE,EAAepuB,EAASp2B,KAC5Bo2B,EAASp2B,KAAO,SAASA,GACrB,GAAIA,EAAKJ,KAAOI,EAAKJ,IAAIxE,OAAS8oD,EAAWrsD,eAAemI,EAAKpG,MAAO,CACpE,IAAI6qD,EAAWzkD,EAAKJ,IAAIxE,MAAMwwB,KAC1B84B,EAAa1kD,EAAKJ,IAAIxE,MAAM2wB,OAAS,EAErCq4B,EAASx4B,OAAS64B,GAClBL,EAASr4B,SAAW24B,IACpBN,EAASx4B,KAAO64B,EAChBL,EAASr4B,OAAS24B,EAElBP,EAAUv4B,KAAOA,EACjBu4B,EAAUp4B,OAASA,EAEfs4B,IACAA,GAAsB,EAClBF,EAAUv4B,OAAS04B,EAAmB14B,MACtCu4B,EAAUp4B,SAAWu4B,EAAmBv4B,QACxC3uB,EAAIunD,WAAWJ,IAIvBF,GAAsB,EACtBjnD,EAAIunD,WAAW,CACXtrD,OAAQ2G,EAAKJ,IAAIvG,OACjB+qD,SAAUA,EACVD,UAAWA,KAKvBK,EAAaruD,KAAK0I,KAAMmB,GAEpBqkD,GAAuBH,EAAWrsD,eAAemI,EAAKpG,QACtD0qD,EAAmB14B,KAAOA,EAC1B04B,EAAmBv4B,OAASA,IAIpC,IAAI64B,EAAgBxuB,EAASn2B,MAC7Bm2B,EAASn2B,MAAQ,SAASA,GACtB,IAAK,IAAIjK,EAAI,EAAGA,EAAIiK,EAAM7F,OAAQpE,IACF,KAAxBiK,EAAMvG,WAAW1D,IACjB41B,IACAG,EAAS,GAETA,IAIR64B,EAAc3kD,IAGlB,IAAI4kD,EAAiBzuB,EAASrvB,OAY9B,OAXAqvB,EAASrvB,OAAS,WAKd,OAJIs9C,GACAjnD,EAAIunD,WAAWJ,GAGZ,CACHr0C,IAAK20C,IACLznD,IAAKA,IAINg5B,I,gBCtFX,IAAI0uB,EAAY,EAAQ,KACpB3wC,EAAO,EAAQ,IACf4wC,EAAW,EAAQ,KAAeA,SAClCC,EAAc,EAAQ,KAAkBA,YAU5C,SAASf,EAAmBrnC,GACrBA,IACHA,EAAQ,IAEV/d,KAAKg4B,MAAQ1iB,EAAKwI,OAAOC,EAAO,OAAQ,MACxC/d,KAAKomD,YAAc9wC,EAAKwI,OAAOC,EAAO,aAAc,MACpD/d,KAAKuyB,gBAAkBjd,EAAKwI,OAAOC,EAAO,kBAAkB,GAC5D/d,KAAKqmD,SAAW,IAAIH,EACpBlmD,KAAKsmD,OAAS,IAAIJ,EAClBlmD,KAAKumD,UAAY,IAAIJ,EACrBnmD,KAAKwmD,iBAAmB,KAG1BpB,EAAmBrsD,UAAU0tD,SAAW,EAOxCrB,EAAmBsB,cACjB,SAA0CC,GACxC,IAAI7lC,EAAa6lC,EAAmB7lC,WAChC8lC,EAAY,IAAIxB,EAAmB,CACrCyB,KAAMF,EAAmBE,KACzB/lC,WAAYA,IA2Cd,OAzCA6lC,EAAmBG,aAAY,SAAUC,GACvC,IAAIC,EAAa,CACf1B,UAAW,CACTv4B,KAAMg6B,EAAQxmC,cACd2M,OAAQ65B,EAAQzmC,kBAIE,MAAlBymC,EAAQvsD,SACVwsD,EAAWxsD,OAASusD,EAAQvsD,OACV,MAAdsmB,IACFkmC,EAAWxsD,OAAS8a,EAAK6J,SAAS2B,EAAYkmC,EAAWxsD,SAG3DwsD,EAAWzB,SAAW,CACpBx4B,KAAMg6B,EAAQ3mC,aACd8M,OAAQ65B,EAAQ1mC,gBAGE,MAAhB0mC,EAAQrvD,OACVsvD,EAAWtvD,KAAOqvD,EAAQrvD,OAI9BkvD,EAAUd,WAAWkB,MAEvBL,EAAmBM,QAAQ/oD,SAAQ,SAAUgpD,GAC3C,IAAIC,EAAiBD,EACF,OAAfpmC,IACFqmC,EAAiB7xC,EAAK6J,SAAS2B,EAAYomC,IAGxCN,EAAUP,SAASzyC,IAAIuzC,IAC1BP,EAAUP,SAAS7xC,IAAI2yC,GAGzB,IAAIC,EAAUT,EAAmBU,iBAAiBH,GACnC,MAAXE,GACFR,EAAU3uB,iBAAiBivB,EAAYE,MAGpCR,GAaXxB,EAAmBrsD,UAAU+sD,WAC3B,SAAuC/nC,GACrC,IAAIunC,EAAYhwC,EAAKwI,OAAOC,EAAO,aAC/BwnC,EAAWjwC,EAAKwI,OAAOC,EAAO,WAAY,MAC1CvjB,EAAS8a,EAAKwI,OAAOC,EAAO,SAAU,MACtCrmB,EAAO4d,EAAKwI,OAAOC,EAAO,OAAQ,MAEjC/d,KAAKuyB,iBACRvyB,KAAKsnD,iBAAiBhC,EAAWC,EAAU/qD,EAAQ9C,GAGvC,MAAV8C,IACFA,EAASyB,OAAOzB,GACXwF,KAAKqmD,SAASzyC,IAAIpZ,IACrBwF,KAAKqmD,SAAS7xC,IAAIha,IAIV,MAAR9C,IACFA,EAAOuE,OAAOvE,GACTsI,KAAKsmD,OAAO1yC,IAAIlc,IACnBsI,KAAKsmD,OAAO9xC,IAAI9c,IAIpBsI,KAAKumD,UAAU/xC,IAAI,CACjB+L,cAAe+kC,EAAUv4B,KACzBzM,gBAAiBglC,EAAUp4B,OAC3B9M,aAA0B,MAAZmlC,GAAoBA,EAASx4B,KAC3C1M,eAA4B,MAAZklC,GAAoBA,EAASr4B,OAC7C1yB,OAAQA,EACR9C,KAAMA,KAOZ0tD,EAAmBrsD,UAAUk/B,iBAC3B,SAA6CsvB,EAAaC,GACxD,IAAIhtD,EAAS+sD,EACW,MAApBvnD,KAAKomD,cACP5rD,EAAS8a,EAAK6J,SAASnf,KAAKomD,YAAa5rD,IAGrB,MAAlBgtD,GAGGxnD,KAAKwmD,mBACRxmD,KAAKwmD,iBAAmB3uD,OAAOY,OAAO,OAExCuH,KAAKwmD,iBAAiBlxC,EAAKsK,YAAYplB,IAAWgtD,GACzCxnD,KAAKwmD,0BAGPxmD,KAAKwmD,iBAAiBlxC,EAAKsK,YAAYplB,IACI,IAA9C3C,OAAOoG,KAAK+B,KAAKwmD,kBAAkBjrD,SACrCyE,KAAKwmD,iBAAmB,QAqBhCpB,EAAmBrsD,UAAU0uD,eAC3B,SAA2Cd,EAAoBY,EAAaG,GAC1E,IAAIR,EAAaK,EAEjB,GAAmB,MAAfA,EAAqB,CACvB,GAA+B,MAA3BZ,EAAmBE,KACrB,MAAM,IAAI5gD,MACR,iJAIJihD,EAAaP,EAAmBE,KAElC,IAAI/lC,EAAa9gB,KAAKomD,YAEJ,MAAdtlC,IACFomC,EAAa5xC,EAAK6J,SAAS2B,EAAYomC,IAIzC,IAAIS,EAAa,IAAIzB,EACjB0B,EAAW,IAAI1B,EAGnBlmD,KAAKumD,UAAUsB,iBAAgB,SAAUd,GACvC,GAAIA,EAAQvsD,SAAW0sD,GAAsC,MAAxBH,EAAQ3mC,aAAsB,CAEjE,IAAImlC,EAAWoB,EAAmBmB,oBAAoB,CACpD/6B,KAAMg6B,EAAQ3mC,aACd8M,OAAQ65B,EAAQ1mC,iBAEK,MAAnBklC,EAAS/qD,SAEXusD,EAAQvsD,OAAS+qD,EAAS/qD,OACJ,MAAlBktD,IACFX,EAAQvsD,OAAS8a,EAAKlH,KAAKs5C,EAAgBX,EAAQvsD,SAEnC,MAAdsmB,IACFimC,EAAQvsD,OAAS8a,EAAK6J,SAAS2B,EAAYimC,EAAQvsD,SAErDusD,EAAQ3mC,aAAemlC,EAASx4B,KAChCg6B,EAAQ1mC,eAAiBklC,EAASr4B,OACb,MAAjBq4B,EAAS7tD,OACXqvD,EAAQrvD,KAAO6tD,EAAS7tD,OAK9B,IAAI8C,EAASusD,EAAQvsD,OACP,MAAVA,GAAmBmtD,EAAW/zC,IAAIpZ,IACpCmtD,EAAWnzC,IAAIha,GAGjB,IAAI9C,EAAOqvD,EAAQrvD,KACP,MAARA,GAAiBkwD,EAASh0C,IAAIlc,IAChCkwD,EAASpzC,IAAI9c,KAGdsI,MACHA,KAAKqmD,SAAWsB,EAChB3nD,KAAKsmD,OAASsB,EAGdjB,EAAmBM,QAAQ/oD,SAAQ,SAAUgpD,GAC3C,IAAIE,EAAUT,EAAmBU,iBAAiBH,GACnC,MAAXE,IACoB,MAAlBM,IACFR,EAAa5xC,EAAKlH,KAAKs5C,EAAgBR,IAEvB,MAAdpmC,IACFomC,EAAa5xC,EAAK6J,SAAS2B,EAAYomC,IAEzClnD,KAAKi4B,iBAAiBivB,EAAYE,MAEnCpnD,OAcPolD,EAAmBrsD,UAAUuuD,iBAC3B,SAA4CS,EAAYC,EAAWC,EACvBjqC,GAK1C,GAAIgqC,GAAuC,iBAAnBA,EAAUj7B,MAAiD,iBAArBi7B,EAAU96B,OACpE,MAAM,IAAIjnB,MACN,gPAMR,MAAI8hD,GAAc,SAAUA,GAAc,WAAYA,GAC/CA,EAAWh7B,KAAO,GAAKg7B,EAAW76B,QAAU,IAC3C86B,GAAcC,GAAYjqC,MAIzB+pC,GAAc,SAAUA,GAAc,WAAYA,GAC/CC,GAAa,SAAUA,GAAa,WAAYA,GAChDD,EAAWh7B,KAAO,GAAKg7B,EAAW76B,QAAU,GAC5C86B,EAAUj7B,KAAO,GAAKi7B,EAAU96B,QAAU,GAC1C+6B,GAKV,MAAM,IAAIhiD,MAAM,oBAAsB2a,KAAK0F,UAAU,CACnDg/B,UAAWyC,EACXvtD,OAAQytD,EACR1C,SAAUyC,EACVtwD,KAAMsmB,MASdonC,EAAmBrsD,UAAUmvD,mBAC3B,WAcE,IAbA,IAOIlqD,EACA+oD,EACAoB,EACAC,EAVAC,EAA0B,EAC1BC,EAAwB,EACxBC,EAAyB,EACzBC,EAAuB,EACvBC,EAAe,EACfC,EAAiB,EACjBxgD,EAAS,GAMTygD,EAAW3oD,KAAKumD,UAAUt+C,UACrB9Q,EAAI,EAAGwH,EAAMgqD,EAASptD,OAAQpE,EAAIwH,EAAKxH,IAAK,CAInD,GAFA6G,EAAO,IADP+oD,EAAU4B,EAASxxD,IAGPopB,gBAAkB+nC,EAE5B,IADAD,EAA0B,EACnBtB,EAAQxmC,gBAAkB+nC,GAC/BtqD,GAAQ,IACRsqD,SAIF,GAAInxD,EAAI,EAAG,CACT,IAAKme,EAAKoL,oCAAoCqmC,EAAS4B,EAASxxD,EAAI,IAClE,SAEF6G,GAAQ,IAIZA,GAAQioD,EAAU3f,OAAOygB,EAAQzmC,gBACJ+nC,GAC7BA,EAA0BtB,EAAQzmC,gBAEZ,MAAlBymC,EAAQvsD,SACV4tD,EAAYpoD,KAAKqmD,SAASnpD,QAAQ6pD,EAAQvsD,QAC1CwD,GAAQioD,EAAU3f,OAAO8hB,EAAYM,GACrCA,EAAiBN,EAGjBpqD,GAAQioD,EAAU3f,OAAOygB,EAAQ3mC,aAAe,EACnBooC,GAC7BA,EAAuBzB,EAAQ3mC,aAAe,EAE9CpiB,GAAQioD,EAAU3f,OAAOygB,EAAQ1mC,eACJkoC,GAC7BA,EAAyBxB,EAAQ1mC,eAEb,MAAhB0mC,EAAQrvD,OACVywD,EAAUnoD,KAAKsmD,OAAOppD,QAAQ6pD,EAAQrvD,MACtCsG,GAAQioD,EAAU3f,OAAO6hB,EAAUM,GACnCA,EAAeN,IAInBjgD,GAAUlK,EAGZ,OAAOkK,GAGXk9C,EAAmBrsD,UAAU6vD,wBAC3B,SAAmDC,EAAUC,GAC3D,OAAOD,EAAStqD,KAAI,SAAU/D,GAC5B,IAAKwF,KAAKwmD,iBACR,OAAO,KAEU,MAAfsC,IACFtuD,EAAS8a,EAAK6J,SAAS2pC,EAAatuD,IAEtC,IAAI9B,EAAM4c,EAAKsK,YAAYplB,GAC3B,OAAO3C,OAAOkB,UAAUC,eAAe1B,KAAK0I,KAAKwmD,iBAAkB9tD,GAC/DsH,KAAKwmD,iBAAiB9tD,GACtB,OACHsH,OAMPolD,EAAmBrsD,UAAUoP,OAC3B,WACE,IAAI5J,EAAM,CACR25B,QAASl4B,KAAKymD,SACdQ,QAASjnD,KAAKqmD,SAASp+C,UACvBwwC,MAAOz4C,KAAKsmD,OAAOr+C,UACnB0gD,SAAU3oD,KAAKkoD,sBAYjB,OAVkB,MAAdloD,KAAKg4B,QACPz5B,EAAIsoD,KAAO7mD,KAAKg4B,OAEM,MAApBh4B,KAAKomD,cACP7nD,EAAIuiB,WAAa9gB,KAAKomD,aAEpBpmD,KAAKwmD,mBACPjoD,EAAIwqD,eAAiB/oD,KAAK4oD,wBAAwBrqD,EAAI0oD,QAAS1oD,EAAIuiB,aAG9DviB,GAMX6mD,EAAmBrsD,UAAU+Y,SAC3B,WACE,OAAO8O,KAAK0F,UAAUtmB,KAAKmI,WAG/BxR,EAAQyuD,mBAAqBA,G,gBCnY7B,IAAI4D,EAAS,EAAQ,KAsDrBryD,EAAQ2vC,OAAS,SAA0B2iB,GACzC,IACI5jB,EADAN,EAAU,GAGVmkB,EA3BN,SAAqBD,GACnB,OAAOA,EAAS,EACO,IAAhBA,GAAW,GACE,GAAfA,GAAU,GAwBLE,CAAYF,GAEtB,GACE5jB,EAzCgB+jB,GAyCRF,GACRA,KAhDiB,GAiDP,IAGR7jB,GAjDS,IAmDXN,GAAWikB,EAAO1iB,OAAOjB,SAClB6jB,EAAM,GAEf,OAAOnkB,GAOTpuC,EAAQykC,OAAS,SAA0Bvb,EAAMwpC,EAAQC,GACvD,IAGIC,EAAclkB,EAvCG4jB,EAEjBO,EAkCAC,EAAS5pC,EAAKtkB,OACd2M,EAAS,EACTyB,EAAQ,EAGZ,EAAG,CACD,GAAI0/C,GAAUI,EACZ,MAAM,IAAIxjD,MAAM,8CAIlB,IAAe,KADfo/B,EAAQ2jB,EAAO5tB,OAAOvb,EAAKhlB,WAAWwuD,OAEpC,MAAM,IAAIpjD,MAAM,yBAA2B4Z,EAAK1R,OAAOk7C,EAAS,IAGlEE,KA7EW,GA6EOlkB,GAElBn9B,IADAm9B,GA3EgB+jB,KA4EYz/C,EAC5BA,GAnFiB,QAoFV4/C,GAETD,EAAUlxD,OAvDNoxD,GAFiBP,EAyDW/gD,IAvDR,EADU,IAAP,EAAT+gD,IAGbO,EACDA,GAqDJF,EAAUI,KAAOL,I,cCnInB,IAAIM,EAAe,mEAAmEvjD,MAAM,IAK5FzP,EAAQ2vC,OAAS,SAAU3jC,GACzB,GAAI,GAAKA,GAAUA,EAASgnD,EAAapuD,OACvC,OAAOouD,EAAahnD,GAEtB,MAAM,IAAI6jB,UAAU,6BAA+B7jB,IAOrDhM,EAAQykC,OAAS,SAAU5e,GAiBzB,OAhBW,IAgBCA,GAAYA,GAfb,GAgBDA,EAjBC,GAGG,IAkBCA,GAAYA,GAjBb,IAkBJA,EAnBI,GASK,GANR,IAoBCA,GAAYA,GAnBb,GAoBDA,EArBC,GAOQ,GAJR,IAsBPA,EACK,GAtBG,IA0BRA,EACK,IAID,I,gBC1DV,IAAIlH,EAAO,EAAQ,IACf1B,EAAM/b,OAAOkB,UAAUC,eACvB4wD,EAA8B,oBAARt1C,IAQ1B,SAAS4xC,IACPlmD,KAAK6pD,OAAS,GACd7pD,KAAK8pD,KAAOF,EAAe,IAAIt1C,IAAQzc,OAAOY,OAAO,MAMvDytD,EAASn+C,UAAY,SAA4BgiD,EAAQC,GAEvD,IADA,IAAIj3C,EAAM,IAAImzC,EACL/uD,EAAI,EAAGwH,EAAMorD,EAAOxuD,OAAQpE,EAAIwH,EAAKxH,IAC5C4b,EAAIyB,IAAIu1C,EAAO5yD,GAAI6yD,GAErB,OAAOj3C,GASTmzC,EAASntD,UAAU+O,KAAO,WACxB,OAAO8hD,EAAe5pD,KAAK8pD,KAAKhiD,KAAOjQ,OAAOma,oBAAoBhS,KAAK8pD,MAAMvuD,QAQ/E2qD,EAASntD,UAAUyb,IAAM,SAAsBqL,EAAMmqC,GACnD,IAAIC,EAAOL,EAAe/pC,EAAOvK,EAAKsK,YAAYC,GAC9CqqC,EAAcN,EAAe5pD,KAAK4T,IAAIiM,GAAQjM,EAAItc,KAAK0I,KAAK8pD,KAAMG,GAClE39C,EAAMtM,KAAK6pD,OAAOtuD,OACjB2uD,IAAeF,GAClBhqD,KAAK6pD,OAAOjrD,KAAKihB,GAEdqqC,IACCN,EACF5pD,KAAK8pD,KAAK/2C,IAAI8M,EAAMvT,GAEpBtM,KAAK8pD,KAAKG,GAAQ39C,IAUxB45C,EAASntD,UAAU6a,IAAM,SAAsBiM,GAC7C,GAAI+pC,EACF,OAAO5pD,KAAK8pD,KAAKl2C,IAAIiM,GAErB,IAAIoqC,EAAO30C,EAAKsK,YAAYC,GAC5B,OAAOjM,EAAItc,KAAK0I,KAAK8pD,KAAMG,IAS/B/D,EAASntD,UAAUmE,QAAU,SAA0B2iB,GACrD,GAAI+pC,EAAc,CAChB,IAAIt9C,EAAMtM,KAAK8pD,KAAK9xD,IAAI6nB,GACxB,GAAIvT,GAAO,EACP,OAAOA,MAEN,CACL,IAAI29C,EAAO30C,EAAKsK,YAAYC,GAC5B,GAAIjM,EAAItc,KAAK0I,KAAK8pD,KAAMG,GACtB,OAAOjqD,KAAK8pD,KAAKG,GAIrB,MAAM,IAAIhkD,MAAM,IAAM4Z,EAAO,yBAQ/BqmC,EAASntD,UAAUoxD,GAAK,SAAqBC,GAC3C,GAAIA,GAAQ,GAAKA,EAAOpqD,KAAK6pD,OAAOtuD,OAClC,OAAOyE,KAAK6pD,OAAOO,GAErB,MAAM,IAAInkD,MAAM,yBAA2BmkD,IAQ7ClE,EAASntD,UAAUkP,QAAU,WAC3B,OAAOjI,KAAK6pD,OAAOx9C,SAGrB1V,EAAQuvD,SAAWA,G,gBCjHnB,IAAI5wC,EAAO,EAAQ,IAqBnB,SAAS6wC,IACPnmD,KAAK6pD,OAAS,GACd7pD,KAAKqqD,SAAU,EAEfrqD,KAAKsqD,MAAQ,CAAC/pC,eAAgB,EAAGD,gBAAiB,GASpD6lC,EAAYptD,UAAU8uD,gBACpB,SAA6B0C,EAAWC,GACtCxqD,KAAK6pD,OAAO3rD,QAAQqsD,EAAWC,IAQnCrE,EAAYptD,UAAUyb,IAAM,SAAyBi2C,GAtCrD,IAAgCzqC,EAAUC,EAEpCyqC,EACAC,EACAC,EACAC,EAL0B7qC,EAuCHhgB,KAAKsqD,MAvCQrqC,EAuCDwqC,EArCnCC,EAAQ1qC,EAASO,cACjBoqC,EAAQ1qC,EAASM,cACjBqqC,EAAU5qC,EAASM,gBACnBuqC,EAAU5qC,EAASK,gBAChBqqC,EAAQD,GAASC,GAASD,GAASG,GAAWD,GAC9Ct1C,EAAKoL,oCAAoCV,EAAUC,IAAa,GAiCrEjgB,KAAKsqD,MAAQG,EACbzqD,KAAK6pD,OAAOjrD,KAAK6rD,KAEjBzqD,KAAKqqD,SAAU,EACfrqD,KAAK6pD,OAAOjrD,KAAK6rD,KAarBtE,EAAYptD,UAAUkP,QAAU,WAK9B,OAJKjI,KAAKqqD,UACRrqD,KAAK6pD,OAAOzsC,KAAK9H,EAAKoL,qCACtB1gB,KAAKqqD,SAAU,GAEVrqD,KAAK6pD,QAGdlzD,EAAQwvD,YAAcA,G,gBC9EtB,IAAI9+C,EAAO,EAAQ,GAEnBzQ,EAAOD,QAAU,SAA0B24B,GACvC,MAAO,CACH4pB,gBAAiB,SAAS9hB,GAStB,OARA9H,EAAK8H,EAAK,CACNhI,MAAO,SAASjuB,GACRA,EAAKsL,UAAYtL,EAAKsL,oBAAoBpF,IAAS,IACnDlG,EAAKsL,UAAW,IAAIpF,GAAOU,UAAU5G,EAAKsL,cAK/C2qB,GAEX+hB,cAAe,SAAS/hB,GASpB,OARA9H,EAAK8H,EAAK,CACN/H,MAAO,SAASluB,GACRA,EAAKsL,UAAYtL,EAAKsL,oBAAoBpF,IAC1ClG,EAAKsL,SAAWtL,EAAKsL,SAASxE,cAKnCmvB,M,cCxBnB,IAAIp+B,EAAiBnB,OAAOkB,UAAUC,eAClC4gB,EAAO,aAEX,SAASuV,EAAe/2B,GACpB,MAAwB,mBAAVA,EAAuBA,EAAQwhB,EAGjD,SAASkxC,EAAcrsD,EAAI1D,GACvB,OAAO,SAASoG,EAAM6G,EAAM9I,GACpBiC,EAAKpG,OAASA,GACd0D,EAAGnH,KAAK0I,KAAMmB,EAAM6G,EAAM9I,IAKtC,SAAS6rD,EAAwBrzD,EAAM8qD,GACnC,IAAIjiD,EAAYiiD,EAASjiD,UACrByqD,EAAU,GAEd,IAAK,IAAItyD,KAAO6H,EACZ,IAA4C,IAAxCvH,EAAe1B,KAAKiJ,EAAW7H,GAAnC,CAIA,IAAIiqD,EAAapiD,EAAU7H,GACvBuyD,EAAS,CACTvzD,KAAMgB,EACNqC,MAAM,EACNsuB,UAAU,GAGThrB,MAAMC,QAAQiC,EAAU7H,MACzBiqD,EAAa,CAACpiD,EAAU7H,KAG5B,IAAK,IAAIvB,EAAI,EAAGA,EAAIwrD,EAAWpnD,OAAQpE,IAAK,CACxC,IAAImrD,EAAYK,EAAWxrD,GACT,OAAdmrD,EACA2I,EAAO5hC,UAAW,EACU,iBAAdi5B,EACd2I,EAAOlwD,KAAO,OACPsD,MAAMC,QAAQgkD,KACrB2I,EAAOlwD,KAAO,QAIlBkwD,EAAOlwD,MACPiwD,EAAQpsD,KAAKqsD,GAIrB,OAAID,EAAQzvD,OACD,CACHiN,QAASg6C,EAAS0I,YAClBhiB,OAAQ8hB,GAIT,KAqBX,SAASG,EAAmBxS,EAAQ/P,GAChC,IAAIM,EAASyP,EAAOzP,OAAO78B,QACvB++C,EAAczS,EAAOnwC,QACrB6iD,EAAoC,iBAAhBD,EAMxB,OAJIxiB,GACAM,EAAON,UAGJ,SAASznC,EAAMqH,EAAS8mB,GAC3B,IAAIg8B,EAEAD,IACAC,EAAmB9iD,EAAQ4iD,GAC3B5iD,EAAQ4iD,GAAejqD,GAG3B,IAAK,IAAIhK,EAAI,EAAGA,EAAI+xC,EAAO3tC,OAAQpE,IAAK,CACpC,IAAIkyC,EAAQH,EAAO/xC,GACfwe,EAAMxU,EAAKkoC,EAAM3xC,MAEhB2xC,EAAMhgB,WAAY1T,IACA,SAAf0zB,EAAMtuC,KACF6tC,EACAjzB,EAAIhN,aAAa2mB,GAEjB3Z,EAAIzX,QAAQoxB,GAGhBA,EAAK3Z,IAKb01C,IACA7iD,EAAQ4iD,GAAeE,IAKnC,SAASC,EAAsBC,GAC3B,MAAO,CACHrqC,OAAQ,CACJsB,WAAY+oC,EAAU/oC,WACtBtB,OAAQqqC,EAAUrqC,OAClBmB,KAAMkpC,EAAUlpC,KAChBhB,MAAOkqC,EAAUlqC,OAErBgB,KAAM,CACFG,WAAY+oC,EAAU/oC,WACtBtB,OAAQqqC,EAAUrqC,OAClBmB,KAAMkpC,EAAUlpC,KAChBhB,MAAOkqC,EAAUlqC,OAErBI,YAAa,CACTe,WAAY+oC,EAAU/oC,WACtBtB,OAAQqqC,EAAUrqC,OAClBmB,KAAMkpC,EAAUlpC,KAChBhB,MAAOkqC,EAAUlqC,MACjBK,gBAAiB6pC,EAAU7pC,kBAKvC/qB,EAAOD,QAAU,SAAsBgiD,GACnC,IAAIp2C,EAnFR,SAA4Bo2C,GACxB,IAAIp2C,EAAQ,GAEZ,IAAK,IAAI7K,KAAQihD,EAAOx3C,KACpB,GAAInI,EAAe1B,KAAKqhD,EAAOx3C,KAAMzJ,GAAO,CACxC,IAAI8qD,EAAW7J,EAAOx3C,KAAKzJ,GAE3B,IAAK8qD,EAASjiD,UACV,MAAM,IAAI0F,MAAM,gCAAkCvO,EAAO,0BAG7D6K,EAAM7K,GAAQqzD,EAAwBrzD,EAAM8qD,GAIpD,OAAOjgD,EAoEKkpD,CAAmB9S,GAC3B+S,EAAmB,GACnBC,EAAmB,GAEvB,IAAK,IAAIj0D,KAAQ6K,EACTvJ,EAAe1B,KAAKiL,EAAO7K,IAAyB,OAAhB6K,EAAM7K,KAC1Cg0D,EAAiBh0D,GAAQyzD,EAAmB5oD,EAAM7K,IAAO,GACzDi0D,EAAiBj0D,GAAQyzD,EAAmB5oD,EAAM7K,IAAO,IAIjE,IAAIk0D,EAAgCL,EAAsBG,GACtDG,EAAgCN,EAAsBI,GAEtDr8B,EAAO,SAAS74B,EAAM8X,GAWtB,IAAI6gB,EAAQxV,EACRyV,EAAQzV,EACR4xC,EAAYE,EACZljD,EAAU,CACV/R,KAAMA,EACNq1D,WAAY,KACZvQ,OAAQ,KACRwQ,cAAe,KACfh8C,KAAM,KACNvC,SAAU,KACVwY,MAAO,KACPlX,YAAa,KACbmV,SAAU,MAGd,GAAuB,mBAAZ1V,EACP6gB,EAAQ7gB,OACL,GAAIA,IACP6gB,EAAQD,EAAe5gB,EAAQ6gB,OAC/BC,EAAQF,EAAe5gB,EAAQ8gB,OAE3B9gB,EAAQq6B,UACR4iB,EAAYG,GAGZp9C,EAAQiuC,OAAO,CACf,GAAIoP,EAA8B5yD,eAAeuV,EAAQiuC,OACrDgP,EAAYj9C,EAAQq6B,QACdijB,EAA8Bt9C,EAAQiuC,OACtCoP,EAA8Br9C,EAAQiuC,YACzC,IAAKj6C,EAAMvJ,eAAeuV,EAAQiuC,OACrC,MAAM,IAAIv2C,MAAM,cAAgBsI,EAAQiuC,MAAQ,oCAAsC3kD,OAAOoG,KAAKsE,GAAO6L,KAAK,MAAQ,KAG1HghB,EAAQ07B,EAAc17B,EAAO7gB,EAAQiuC,OACrCntB,EAAQy7B,EAAcz7B,EAAO9gB,EAAQiuC,OAI7C,GAAIptB,IAAUxV,GAAQyV,IAAUzV,EAC5B,MAAM,IAAI3T,MAAM,+EAIpB,GAAIsI,EAAQq6B,QAAS,CACjB,IAAI/Q,EAAMzI,EACVA,EAAQC,EACRA,EAAQwI,GAzDZ,SAASm0B,EAAS7qD,EAAM6G,EAAM9I,GAC1BkwB,EAAM93B,KAAKkR,EAASrH,EAAM6G,EAAM9I,GAE5BssD,EAAUxyD,eAAemI,EAAKpG,OAC9BywD,EAAUrqD,EAAKpG,MAAMoG,EAAMqH,EAASwjD,GAGxC38B,EAAM/3B,KAAKkR,EAASrH,EAAM6G,EAAM9I,GAqDpC8sD,CAASv1D,IA0Cb,OAvCA64B,EAAKypB,KAAO,SAAS3hB,EAAK34B,GACtB,IAAIwtD,EAAQ,KAQZ,OANA38B,EAAK8H,GAAK,SAASj2B,EAAM6G,EAAM9I,GACb,OAAV+sD,GAAkBxtD,EAAGnH,KAAK0I,KAAMmB,EAAM6G,EAAM9I,KAC5C+sD,EAAQ9qD,MAIT8qD,GAGX38B,EAAK0pB,SAAW,SAAS5hB,EAAK34B,GAC1B,IAAIwtD,EAAQ,KAWZ,OATA38B,EAAK8H,EAAK,CACNwR,SAAS,EACTxZ,MAAO,SAASjuB,EAAM6G,EAAM9I,GACV,OAAV+sD,GAAkBxtD,EAAGnH,KAAK0I,KAAMmB,EAAM6G,EAAM9I,KAC5C+sD,EAAQ9qD,MAKb8qD,GAGX38B,EAAK2pB,QAAU,SAAS7hB,EAAK34B,GACzB,IAAIwtD,EAAQ,GAQZ,OANA38B,EAAK8H,GAAK,SAASj2B,EAAM6G,EAAM9I,GACvBT,EAAGnH,KAAK0I,KAAMmB,EAAM6G,EAAM9I,IAC1B+sD,EAAMrtD,KAAKuC,MAIZ8qD,GAGJ38B,I,gBCrQX,IAAIjoB,EAAO,EAAQ,GAEnBzQ,EAAOD,QAAU,SAASmc,EAAM3R,GAC5B,IAAI+G,EAAS,GAEb,IAAK,IAAIxP,KAAOyI,EAAM,CAClB,IAAI/I,EAAQ+I,EAAKzI,GAEbN,IACIiG,MAAMC,QAAQlG,IAAUA,aAAiBiP,EACzCjP,EAAQA,EAAMmG,IAAIuU,GACX1a,EAAMoa,cAAgB3a,SAC7BO,EAAQ0a,EAAM1a,KAItB8P,EAAOxP,GAAON,EAGlB,OAAO8P,I,cCnBX,IAAIlP,EAAiBnB,OAAOkB,UAAUC,eAClCkzD,EAAQ,CACR5S,SAAS,EACT/2C,MAAO,GACPg3C,QAAS,GACTpmC,WAAY,GACZoxC,aAAc,GACdF,MAAO,GACP9I,OAAQ,CAAC,SACT+I,OAAQ,CAAC,SACTnjD,KAAM,CAAC,OAAQ,YAAa,QAAS,WAAY,gBAGrD,SAAShD,EAAS/F,GACd,OAAOA,GAASA,EAAMoa,cAAgB3a,OAG1C,SAASsK,EAAK/J,GACV,OAAI+F,EAAS/F,GACFP,OAAOyH,OAAO,GAAIlH,GAElBA,EAGf,SAAS+zD,EAAOzmC,EAAMwyB,GAClB,IAAK,IAAIx/C,KAAOw/C,EACRl/C,EAAe1B,KAAK4gD,EAAKx/C,KACrByF,EAASunB,EAAKhtB,IACdyzD,EAAOzmC,EAAKhtB,GAAMyJ,EAAK+1C,EAAIx/C,KAE3BgtB,EAAKhtB,GAAOyJ,EAAK+1C,EAAIx/C,KAuDrC9B,EAAOD,QAAU,SAAS+uB,EAAMwyB,GAC5B,OAlDJ,SAASQ,EAAIhzB,EAAMwyB,EAAKgU,GACpB,IAAK,IAAIxzD,KAAOwzD,EACZ,IAAwC,IAApClzD,EAAe1B,KAAK40D,EAAOxzD,GAI/B,IAAmB,IAAfwzD,EAAMxzD,GACFA,KAAOw/C,GACHl/C,EAAe1B,KAAK4gD,EAAKx/C,KACzBgtB,EAAKhtB,GAAOyJ,EAAK+1C,EAAIx/C,UAG1B,GAAIwzD,EAAMxzD,GAAM,CACnB,GAAIyF,EAAS+tD,EAAMxzD,IAEfyzD,EADI71C,EAAM,GACEoP,EAAKhtB,IACjByzD,EAAO71C,EAAK4hC,EAAIx/C,IAChBgtB,EAAKhtB,GAAO4d,OACT,GAAIjY,MAAMC,QAAQ4tD,EAAMxzD,IAAO,CAClC,IAAI4d,EAAM,GACN81C,EAAaF,EAAMxzD,GAAK6T,QAAO,SAASrT,EAAGysC,GAE3C,OADAzsC,EAAEysC,IAAK,EACAzsC,IACR,IACH,IAAK,IAAIxB,KAAQguB,EAAKhtB,GACdM,EAAe1B,KAAKouB,EAAKhtB,GAAMhB,KAC/B4e,EAAI5e,GAAQ,GACRguB,EAAKhtB,IAAQgtB,EAAKhtB,GAAKhB,IACvBghD,EAAIpiC,EAAI5e,GAAOguB,EAAKhtB,GAAKhB,GAAO00D,IAI5C,IAAK,IAAI10D,KAAQwgD,EAAIx/C,GACbM,EAAe1B,KAAK4gD,EAAIx/C,GAAMhB,KACzB4e,EAAI5e,KACL4e,EAAI5e,GAAQ,IAEZwgD,EAAIx/C,IAAQw/C,EAAIx/C,GAAKhB,IACrBghD,EAAIpiC,EAAI5e,GAAOwgD,EAAIx/C,GAAKhB,GAAO00D,IAI3C1mC,EAAKhtB,GAAO4d,GAIxB,OAAOoP,EAIAgzB,CAAIhzB,EAAMwyB,EAAKgU,K,gBCtF1B,IAAIrqD,EAAO,EAAQ,KAEnBjL,EAAOD,QAAU,CACb2iD,SAAS,EACT/2C,MAAOV,EAAKU,MACZg3C,QAAS13C,EAAK03C,QACdpmC,WAAYtR,EAAKsR,WACjBhS,KAAM,EAAQ,M,w5xDCPlB,IAAImJ,EAAU,EAAQ,GAAmBA,QACrCJ,EAAU,EAAQ,GAAmBA,QACrC5Q,EAAO,EAAQ,GAAmBA,KAElC6R,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QACfuzB,EAAQl3B,EAAKwC,MACb40B,EAASp3B,EAAK4B,OACd41B,EAAYx3B,EAAK0B,UAGjBqxD,EAAI,IAIR,SAAShO,EAAa1jD,EAAQ4jD,GAC1B,IAAI3yC,EAAM5L,KAAKC,QAAQI,WAAa1F,EAChCa,EAAOwE,KAAKC,QAAQzF,OAAOK,WAAW+Q,GAS1C,IAjBW,KAUPpQ,GATU,KASWA,IACjB+iD,GACAv+C,KAAKyT,MAAM,8BAEf7H,KAGGA,EAAM5L,KAAKC,QAAQqL,SAAUM,IAC3B1B,EAAQlK,KAAKC,QAAQzF,OAAOK,WAAW+Q,KACxC5L,KAAKyT,MAAM,sBAAuB7H,GAK9C,SAAS0gD,EAAoB/N,GACzB,OAAOF,EAAa/mD,KAAK0I,KAAM,EAAGu+C,GAGtC,SAASgO,EAAe5xD,EAAQa,GAC5B,IAAK8O,EAAQtK,KAAKC,QAAQzF,OAAQwF,KAAKC,QAAQI,WAAa1F,EAAQa,GAAO,CACvE,IAAIgxD,EAAM,GAEV,OAAQhxD,GACJ,KAAK6wD,EACDG,EAAM,gBACN,MACJ,KAnCM,GAoCFA,EAAM,0BAIdxsD,KAAKyT,MAAM+4C,EAAKxsD,KAAKC,QAAQI,WAAa1F,IAMlD,SAAS6jD,IAKL,IAJA,IAAI7jD,EAAS,EACTkQ,EAAO,EACP9P,EAAOiF,KAAKC,QAAQsB,UAEjBxG,IAASoQ,GAAcpQ,IAASqQ,GACnCrQ,EAAOiF,KAAKC,QAAQE,aAAaxF,GAGrC,GAAII,IAAS21B,EAAQ,CACjB,IAAI1wB,KAAKC,QAAQ4L,QAzDV,GAyD4BlR,KAC/BqF,KAAKC,QAAQ4L,QAzDP,GAyD4BlR,GAYlC,OAAO,KAXPkQ,EAAO7K,KAAKC,QAAQ4L,QA3DjB,GA2DmClR,GA3DnC,GACG,GA4DN,GACII,EAAOiF,KAAKC,QAAQE,aAAaxF,SAC5BI,IAASoQ,GAAcpQ,IAASqQ,GAErCrQ,IAAS21B,IACT1wB,KAAKC,QAAQY,KAAKlG,GAClB2xD,EAAoBh1D,KAAK0I,MAhErB,IAmFhB,OAZIrF,EAAS,GACTqF,KAAKC,QAAQY,KAAKlG,GAGT,IAATkQ,GA9EO,MA+EP9P,EAAOiF,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,cA9EzC,KA+EetF,GACrBiF,KAAKyT,MAAM,2BAInB64C,EAAoBh1D,KAAK0I,KAAe,IAAT6K,GApFjB,KAqFPA,EAAuB,IAAM7K,KAAKgkD,QAAQtzB,GAAU1wB,KAAKgkD,QAAQtzB,GAI5E95B,EAAOD,QAAU,CACbe,KAAM,UACN6I,UAAW,CACPuG,EAAG,CAAC7K,OAAQ,MACZ8K,EAAG,CAAC9K,OAAQ,OAEhBuE,MAAO,WAEH,IAAIjE,EAAQyD,KAAKC,QAAQI,WACrByG,EAAI,KACJC,EAAI,KAGR,GAAI/G,KAAKC,QAAQsB,YAAcmvB,EAC3B47B,EAAoBh1D,KAAK0I,MApGpB,GAqGL+G,EAAI/G,KAAKgkD,QAAQtzB,QAQhB,GAAI1wB,KAAKC,QAAQsB,YAAcivB,GAASlmB,EAAQtK,KAAKC,QAAQzF,OAAQwF,KAAKC,QAAQI,WAhH7E,IAqHN,OAJAyG,EAAI,KAEJylD,EAAej1D,KAAK0I,KAAM,EAAGqsD,GAErBrsD,KAAKC,QAAQ8L,kBAIjB,KAAK,EACD/L,KAAKC,QAAQjC,OACb+I,EAAIy3C,EAASlnD,KAAK0I,MAClB,MAGJ,KAAK,EACDusD,EAAej1D,KAAK0I,KAAM,EAhI5B,IAkIEA,KAAKC,QAAQjC,OACbgC,KAAKC,QAAQkM,SAEbmgD,EAAoBh1D,KAAK0I,MAnIzB,GAqIA+G,EAAI,IAAM/G,KAAKgkD,QAAQtzB,GACvB,MAGJ,QACI67B,EAAej1D,KAAK0I,KAAM,EA5I5B,IA6IEq+C,EAAa/mD,KAAK0I,KAAM,GA3IxB,GA4IAA,KAAKC,QAAQjC,OAEb+I,EAAI/G,KAAKC,QAAQ+L,eAAezP,EAAQ,QAS/C,GAAIyD,KAAKC,QAAQsB,YAAcivB,GAAUxwB,KAAKC,QAAQ4L,QA1JpD,KA0JyE7L,KAAKC,QAAQE,WAAW,KAAOqwB,EAAQ,CACnH,IAAI3lB,EAAO,EAWX,OAVA/D,EAAI,IAGA9G,KAAKC,QAAQ4L,QA/Jd,MAgKChB,EAAO,EACP7K,KAAKC,QAAQjC,QAGjBuuD,EAAej1D,KAAK0I,KAAM,EAAGqsD,GAErBrsD,KAAKC,QAAQ8L,kBAIjB,KAAK,EACD/L,KAAKC,QAAQjC,OACb+I,EAAIy3C,EAASlnD,KAAK0I,MAClB,MAGJ,KAAK,EACDusD,EAAej1D,KAAK0I,KAAM,EAhL5B,IAkLEA,KAAKC,QAAQjC,OACbgC,KAAKC,QAAQkM,SAEbmgD,EAAoBh1D,KAAK0I,MAnLzB,GAqLA+G,EAAI,IAAM/G,KAAKgkD,QAAQtzB,GACvB,MAGJ,QACI67B,EAAej1D,KAAK0I,KAAM,EA5L5B,IA6LEq+C,EAAa/mD,KAAK0I,KAAM,GA3LxB,GA4LAA,KAAKC,QAAQjC,OAEb+I,EAAI/G,KAAKC,QAAQ+L,eAAezP,EAAQsO,EAAO,SAStD,GAAI7K,KAAKC,QAAQsB,YAAcuvB,EAAW,CAI3C,IAHA,IAAIt1B,EAAOwE,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,YAG9ClJ,GAFL0T,EA5MD,KA4MQrP,GA3ML,KA2M0BA,EAEnBwE,KAAKC,QAAQI,WAAawK,GAAM1T,EAAI6I,KAAKC,QAAQqL,UACrDpB,EAAQlK,KAAKC,QAAQzF,OAAOK,WAAW1D,IADwBA,KAMpEA,IAAM6I,KAAKC,QAAQI,WAAawK,GAChC7K,KAAKyT,MAAM,sBAAuBzT,KAAKC,QAAQI,WAAawK,GAGhE0hD,EAAej1D,KAAK0I,KAAM7I,EAAI6I,KAAKC,QAAQI,WAAYgsD,GACvDvlD,EAAI9G,KAAKC,QAAQzF,OAAOyG,UAAU1E,EAAOpF,GAKrCA,EAAI,IAAM6I,KAAKC,QAAQqL,UACvBtL,KAAKC,QAAQjC,OACb+I,EAAIy3C,EAASlnD,KAAK0I,QAElBusD,EAAej1D,KAAK0I,KAAM7I,EAAI6I,KAAKC,QAAQI,WAAa,EAjOtD,IAoOElJ,EAAI,IAAM6I,KAAKC,QAAQqL,UACvBtL,KAAKC,QAAQjC,OACbgC,KAAKC,QAAQkM,SACbmgD,EAAoBh1D,KAAK0I,MArOzB,GAsOA+G,EAAI,IAAM/G,KAAKgkD,QAAQtzB,KAIvB2tB,EAAa/mD,KAAK0I,KAAM7I,EAAI6I,KAAKC,QAAQI,WAAa,GA1OtD,GA2OAL,KAAKC,QAAQjC,OACb+I,EAAI/G,KAAKC,QAAQ+L,eAAe7U,EAAI,UAI5C6I,KAAKyT,QAWT,OARU,OAAN3M,GAtPG,KAsPWA,EAAEjM,WAAW,KAC3BiM,EAAIA,EAAEsU,OAAO,IAGP,OAANrU,GA1PG,KA0PWA,EAAElM,WAAW,KAC3BkM,EAAIA,EAAEqU,OAAO,IAGV,CACHrgB,KAAM,UACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CyG,EAAGA,EACHC,EAAGA,IAGX7F,SAAU,SAASC,GACf,IAAI2F,EAAe,OAAX3F,EAAK2F,QAAyB2B,IAAXtH,EAAK2F,EAC5BC,EAAe,OAAX5F,EAAK4F,QAAyB0B,IAAXtH,EAAK4F,EAE5BD,GACA9G,KAAKoB,MACU,OAAXD,EAAK2F,EAAa,KACN,MAAZ3F,EAAK2F,EAAc,IACR,OAAX3F,EAAK2F,EAAa,KAClB3F,EAAK2F,EAAI,KAGTC,IAEoB,OADpBA,EAAI9K,OAAOkF,EAAK4F,IACVoH,OAAO,IAA8B,MAAhBpH,EAAEoH,OAAO,IAChCnO,KAAKoB,MAAM2F,EAAEoH,OAAO,IACpBnO,KAAKoB,MAAM2F,EAAEqU,OAAO,MAEpBpb,KAAKoB,MAAM,KACXpB,KAAKoB,MAAM2F,MAInB/G,KAAKoB,MAAMnF,OAAOkF,EAAK4F,O,gBCrSnC,IAAIzN,EAAO,EAAQ,GAAmBA,KAClCmzD,EAAU,EAAQ,GAASn0D,KAE3Bo0D,EAAYpzD,EAAKgE,UACjBqvD,EAAYrzD,EAAK8D,UACjBwvD,EAAmBtzD,EAAKmE,iBACxBovD,EAAoBvzD,EAAKoE,kBAE7B,SAASovD,EAAWrsD,GAChB,OAAOT,KAAKgN,IAAIvM,EAAYgsD,EAAQjrD,6BAA6B,GAGrE,SAASurD,IACL,IAAK,IAAgBhyD,EAAZJ,EAAS,EAASI,EAAOiF,KAAKC,QAAQE,WAAWxF,GAASA,IAAU,CACzE,GAAII,IAAS8xD,EACT,OAAO,EAGX,GAAI9xD,IAAS6xD,GACT7xD,IAAS2xD,EACT,OAAO,EAIf,OAAO,EAGX91D,EAAOD,QAAU,CACbe,KAAM,SACN6I,UAAW,CACP7I,KAAMuE,OACN8pB,QAAS,CAAC,gBAAiB,MAAO,MAClCC,MAAO,CAAC,QAAS,OAErBxlB,MAAO,WACH,IACI9I,EACAs1D,EAFAzwD,EAAQyD,KAAKC,QAAQI,WAGrB0lB,EAAU,KACVC,EAAQ,KA0BZ,OAxBAhmB,KAAKuc,IAAImwC,GAGTM,GADAt1D,EAAOsI,KAAKC,QAAQ+L,eAAezP,EAAQ,IACtBqR,cACrB5N,KAAKC,QAAQkM,UAGY,IAArBnM,KAAKC,QAAQoL,KACbrL,KAAKC,QAAQsB,YAAcqrD,GAC3B5sD,KAAKC,QAAQsB,YAAcorD,IACvB3sD,KAAKojD,mBAIgB,mBAHrBr9B,EAAU/lB,KAAK2jD,kBAAkB3jD,KAAKohB,cAAczoB,KAAKqH,KAAMtI,GAAOo1D,IAG1D/xD,MAAsD,OAA1BgrB,EAAQtZ,SAASnF,OACrDye,EAAU,MAGdA,EAAU+mC,EAAWx1D,KAAK0I,KAAMA,KAAKC,QAAQC,YAGjDF,KAAKC,QAAQkM,UAGTnM,KAAKC,QAAQsB,WACjB,KAAKorD,EACD3sD,KAAKC,QAAQjC,OACb,MAEJ,KAAK4uD,EAGG5mC,EAFAhmB,KAAKu7C,OAAOviD,eAAeg0D,IACiB,mBAArChtD,KAAKu7C,OAAOyR,GAAehnC,MAC1BhmB,KAAKu7C,OAAOyR,GAAehnC,MAAM1uB,KAAK0I,MAGtCA,KAAKshB,MAAMyrC,EAAyBz1D,KAAK0I,OAM7D,MAAO,CACHjF,KAAM,SACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMA,EACNquB,QAASA,EACTC,MAAOA,IAGf9kB,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAKzJ,MAEK,OAAjByJ,EAAK4kB,UACL/lB,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAK4kB,UAGf5kB,EAAK6kB,MACLhmB,KAAKmB,KAAKA,EAAK6kB,OAEfhmB,KAAKoB,MAAM,MAGnB8pD,YAAa,W,gBCzGjB,IAAI5xD,EAAO,EAAQ,GAAmBA,KAElCqzD,EAAYrzD,EAAK8D,UACjBwvD,EAAmBtzD,EAAKmE,iBAE5B7G,EAAOD,QAAU,CACbe,KAAM,gBACN6I,UAAW,CACPkM,SAAU,CAAC,KAEfjM,MAAO,SAAS9I,GACZ,IAAI+U,EAAW,KA6Bf,OA3Ba,OAAT/U,IACAA,EAAOA,EAAKkW,eAGhB5N,KAAKC,QAAQkM,SAKTM,EAHAzM,KAAKu7C,OAAOviD,eAAetB,IACU,mBAA9BsI,KAAKu7C,OAAO7jD,GAAMquB,QAEd/lB,KAAKu7C,OAAO7jD,GAAMquB,QAAQzuB,KAAK0I,MAG/BA,KAAKsxB,aAAatxB,KAAKqkD,MAAMjjC,eAG5CphB,KAAKC,QAAQkM,UAEY,IAArBnM,KAAKC,QAAQoL,KACbrL,KAAKC,QAAQsB,YAAcqrD,GAC3B5sD,KAAKC,QAAQsB,YAAcorD,GAC3B3sD,KAAKyT,MAAM,kCAGE,OAAbhH,IACAA,EAAWzM,KAAKwjD,cAGb,CACHzoD,KAAM,gBACNgG,IAAKf,KAAKmkD,oBAAoB13C,GAC9BA,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKyM,SAAStL,IAElB+pD,YAAa,kB,gBCjDjB,IAAI5xD,EAAO,EAAQ,GAAmBA,KAElCk3B,EAAQl3B,EAAKwC,MACb20B,EAASn3B,EAAK2C,OACdgxD,EAAQ3zD,EAAK6D,MACb8zB,EAAoB33B,EAAKiE,kBACzB2vD,EAAqB5zD,EAAKkE,mBAQ9B,SAAS2vD,IACDntD,KAAKC,QAAQoL,KACbrL,KAAKyT,MAAM,2BAGf,IAAIlX,EAAQyD,KAAKC,QAAQI,WACrB+sD,GAAc,EACdC,GAAa,EA0BjB,OAxBIrtD,KAAKC,QAAQ4L,QAfN,KAgBPuhD,GAAc,EACdC,GAAa,EACbrtD,KAAKC,QAAQjC,QACLgC,KAAKC,QAAQ4L,QAhBV,MAiBX7L,KAAKuc,IAAIiU,GAGTxwB,KAAKC,QAAQ4L,QApBF,KAFF,KAuBL7L,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,WAAa,IACzDL,KAAKC,QAAQjC,OACbgC,KAAKuc,IAAIiU,IACF48B,GACPptD,KAAKyT,MAAM,yBAA0BzT,KAAKC,QAAQqL,UAE/C8hD,GACPptD,KAAKyT,MAAM,6BAGX45C,GAAcrtD,KAAKC,QAAQsB,YAAc0rD,IACzCjtD,KAAKC,QAAQjC,OACbgC,KAAKuc,IAAIiU,IAGN,CACHz1B,KAAM,aACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMsI,KAAKC,QAAQ+L,eAAezP,IAI1C,SAAS+wD,IACL,IAAI/wD,EAAQyD,KAAKC,QAAQI,WACrB7E,EAAOwE,KAAKC,QAAQzF,OAAOK,WAAW0B,GAsB1C,OArEa,KAiDTf,GA9CI,MA+CJA,GAjDe,KAkDfA,GArDS,KAsDTA,GArDO,KAsDPA,GAnDW,MAoDXA,GAEAwE,KAAKyT,MAAM,0DAGfzT,KAAKC,QAAQjC,OA3DA,KA6DTxC,IACKwE,KAAKC,QAAQ4L,QA9DT,KA+DL7L,KAAKyT,MAAM,0BAGfzT,KAAKC,QAAQjC,QAGVgC,KAAKC,QAAQ+L,eAAezP,GAKvC3F,EAAOD,QAAU,CACbe,KAAM,oBACN6I,UAAW,CACP7I,KAAM,aACN61D,QAAS,CAACtxD,OAAQ,MAClB7D,MAAO,CAAC,SAAU,aAAc,MAChC0b,MAAO,CAAC7X,OAAQ,OAEpBuE,MAAO,WACH,IACI9I,EADA6E,EAAQyD,KAAKC,QAAQI,WAErBktD,EAAU,KACVn1D,EAAQ,KACR0b,EAAQ,KAiCZ,OA/BA9T,KAAKuc,IAAI0U,GACTjxB,KAAKC,QAAQkM,SAEbzU,EAAOy1D,EAAiB71D,KAAK0I,MAC7BA,KAAKC,QAAQkM,SAETnM,KAAKC,QAAQsB,YAAc2rD,IAEvBltD,KAAKC,QAAQsB,YAAcivB,IAC3B+8B,EAAUD,EAAYh2D,KAAK0I,MAE3BA,KAAKC,QAAQkM,SAEb/T,EAAQ4H,KAAKC,QAAQsB,YAAckvB,EAC7BzwB,KAAK/D,SACL+D,KAAK+M,aAEX/M,KAAKC,QAAQkM,UAIbnM,KAAKC,QAAQsB,YAAcivB,IAC3B1c,EAAQ9T,KAAKC,QAAQ6L,gBACrB9L,KAAKC,QAAQjC,OAEbgC,KAAKC,QAAQkM,WAIrBnM,KAAKuc,IAAI2wC,GAEF,CACHnyD,KAAM,oBACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMA,EACN61D,QAASA,EACTn1D,MAAOA,EACP0b,MAAOA,IAGf5S,SAAU,SAASC,GACf,IAAIqsD,EAAc,IAElBxtD,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAKzJ,MAEM,OAAjByJ,EAAKosD,UACLvtD,KAAKoB,MAAMD,EAAKosD,SAEG,OAAfpsD,EAAK/I,QACL4H,KAAKmB,KAAKA,EAAK/I,OAGS,WAApB+I,EAAK/I,MAAM2C,OACXyyD,EAAc,MAKP,OAAfrsD,EAAK2S,QACL9T,KAAKoB,MAAMosD,GACXxtD,KAAKoB,MAAMD,EAAK2S,QAGpB9T,KAAKoB,MAAM,Q,gBClKnB,IAAI9H,EAAO,EAAQ,GAAmBA,KAClCmzD,EAAU,EAAQ,GAASn0D,KAE3B6S,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QACf0vD,EAAYrzD,EAAK8D,UACjBsvD,EAAYpzD,EAAKgE,UACjBsvD,EAAmBtzD,EAAKmE,iBACxBovD,EAAoBvzD,EAAKoE,kBAE7B,SAASovD,EAAWrsD,GAChB,OAAOT,KAAKgN,IAAIvM,EAAY,MAAM,GAEtC,SAASgtD,IACL,OAAOztD,KAAK2jD,kBAAkB3jD,KAAKsiB,KAAMwqC,GAE7C,SAASY,EAAsBjtD,GAC3B,OAAOT,KAAKgN,IAAIvM,EAAYgsD,EAAQ/qD,mBAAmB,GAE3D,SAASisD,IACL,GAAI3tD,KAAKC,QAAQsB,YAAcorD,EAC3B,OAAOe,EAAsBp2D,KAAK0I,KAAMA,KAAKC,QAAQC,YAGzD,IAAIiB,EAAOnB,KAAK2jD,kBAAkB3jD,KAAK0hB,YAAagsC,GAMpD,OAJI1tD,KAAKC,QAAQsB,YAAcorD,GAC3B3sD,KAAKC,QAAQjC,OAGVmD,EAGXvK,EAAOD,QAAU,CACbe,KAAM,QACN6I,UAAW,CACPkM,SAAU,CAAC,CACP,SACA,OACA,iBAGRjM,MAAO,SAASotD,GACZ,IAAIhK,EAAWgK,EAAgBD,EAAqBF,EAEhDlxD,EAAQyD,KAAKC,QAAQI,WACrBoM,EAAWzM,KAAKwjD,aAEpBxjD,KAAKuc,IAAIqwC,GAETxO,EACA,MAAQp+C,KAAKC,QAAQoL,KACjB,OAAQrL,KAAKC,QAAQsB,WACjB,KAAKsrD,EACD,MAAMzO,EAEV,KAAKjzC,EACL,KAAKC,EACDpL,KAAKC,QAAQjC,OACb,MAEJ,KAAK0uD,EACDjgD,EAAS7N,KAAKoB,KAAK2jD,kBAAkB3jD,KAAKmhB,OAAQ2rC,IAClD,MAEJ,QACIrgD,EAAS7N,KAAKglD,EAAStsD,KAAK0I,OAQxC,OAJKA,KAAKC,QAAQoL,KACdrL,KAAKuc,IAAIswC,GAGN,CACH9xD,KAAM,QACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CoM,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKyM,SAAStL,GAAM,SAAS9B,GACP,gBAAdA,EAAKtE,MACLiF,KAAKoB,MAAM,QAGnBpB,KAAKoB,MAAM,MAEf8pD,YAAa,U,gBCzFjB,IAAI5xD,EAAO,EAAQ,GAAmBA,KAElC23B,EAAoB33B,EAAKiE,kBACzB2vD,EAAqB5zD,EAAKkE,mBAE9B5G,EAAOD,QAAU,CACbe,KAAM,WACN6I,UAAW,CACPkM,SAAU,CAAC,KAEfjM,MAAO,SAAS8wB,EAAcC,GAC1B,IACI9kB,EADAlQ,EAAQyD,KAAKC,QAAQI,WAWzB,OARAL,KAAKuc,IAAI0U,GAETxkB,EAAW6kB,EAAah6B,KAAK0I,KAAMuxB,GAE9BvxB,KAAKC,QAAQoL,KACdrL,KAAKuc,IAAI2wC,GAGN,CACHnyD,KAAM,WACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CoM,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKyM,SAAStL,GACdnB,KAAKoB,MAAM,Q,gBC/BnB,IAAIpE,EAAM,EAAQ,GAAmB1D,KAAK0D,IAE1CpG,EAAOD,QAAU,CACbe,KAAM,MACN6I,UAAW,GACXC,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WAIzB,OAFAL,KAAKuc,IAAIvf,GAEF,CACHjC,KAAM,MACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,cAGlDa,SAAU,WACNlB,KAAKoB,MAAM,a,gBChBnB,IAAI/D,EAAM,EAAQ,GAAmB/D,KAAK+D,IAE1CzG,EAAOD,QAAU,CACbe,KAAM,MACN6I,UAAW,GACXC,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WAIzB,OAFAL,KAAKuc,IAAIlf,GAEF,CACHtC,KAAM,MACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,cAGlDa,SAAU,WACNlB,KAAKoB,MAAM,c,gBChBnB,IAEIovB,EAFO,EAAQ,GAAmBl3B,KAErBwC,MAIjBlF,EAAOD,QAAU,CACbe,KAAM,gBACN6I,UAAW,CACP7I,KAAMuE,QAEVuE,MAAO,WAOH,OANKR,KAAKC,QAAQ4L,QATX,KAUH7L,KAAKyT,MAAM,yBAGfzT,KAAKC,QAAQjC,OAEN,CACHjD,KAAM,gBACNgG,IAAKf,KAAKgB,YAAYhB,KAAKC,QAAQI,WAAa,EAAGL,KAAKC,QAAQqL,UAChE5T,KAAMsI,KAAKgkD,QAAQxzB,KAG3BtvB,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAKzJ,S,gBC1BxB,IAEI84B,EAFO,EAAQ,GAAmBl3B,KAErBwC,MAOjBlF,EAAOD,QAAU,CACbe,KAAM,aACN6I,UAAW,CACP7I,KAAMuE,QAEVuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WAGzB,OAFWL,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,aAGnD,KAdU,GAeV,KAjBG,GAkBH,KAfA,IAgBIL,KAAKC,QAAQjC,OACb,MAEJ,KArBE,GAsBEgC,KAAKC,QAAQjC,OAETgC,KAAKC,QAAQsB,YAAcivB,IAAiD,IAAxCxwB,KAAKC,QAAQuL,YAAY,EAAG,SAChExL,KAAKyT,MAAM,iCAGfzT,KAAKC,QAAQjC,OAERgC,KAAKC,QAAQ4L,QA9BpB,KA+BM7L,KAAKyT,MAAM,uBAGfzT,KAAKC,QAAQjC,OACb,MAEJ,QACIgC,KAAKyT,MAAM,0BAGnB,MAAO,CACH1Y,KAAM,aACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMsI,KAAKC,QAAQ+L,eAAezP,KAG1C2E,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKzJ,S,gBCpDxB,IAEI0T,EAFO,EAAQ,GAAmB9R,KAEnB2D,QAKnBrG,EAAOD,QAAU,CACbe,KAAM,UACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WACrByK,EAAM9K,KAAKC,QAAQqL,SAUvB,OARAtL,KAAKuc,IAAInR,GAEJN,EAAMvO,EAAQ,GAAM,GAflB,KAgBHyD,KAAKC,QAAQzF,OAAOK,WAAWiQ,EAAM,IAfnC,KAgBF9K,KAAKC,QAAQzF,OAAOK,WAAWiQ,EAAM,KACrCA,GAAO,GAGJ,CACH/P,KAAM,UACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CjI,MAAO4H,KAAKC,QAAQzF,OAAOyG,UAAU1E,EAAQ,EAAGuO,KAGxD5J,SAAU,SAASC,GACfnB,KAAKoB,MAAM,MACXpB,KAAKoB,MAAMD,EAAK/I,OAChB4H,KAAKoB,MAAM,S,gBCjCnB,IAAIwZ,EAAmB,EAAQ,IAAqBA,iBAChDthB,EAAO,EAAQ,GAAmBA,KAClCmzD,EAAU,EAAQ,GAASn0D,KAE3Bk4B,EAAQl3B,EAAKwC,MACb+0B,EAAOv3B,EAAKqD,KACZswD,EAAQ3zD,EAAK6D,MACbwvD,EAAYrzD,EAAK8D,UACjB+zB,EAAQ73B,EAAKsD,MASjB,SAASixD,EAAgBptD,GACrB,OAAOT,KAAKgN,IAAIvM,EAAYgsD,EAAQhrD,4BAA4B,GAGpE,SAASqsD,EAAyBrtD,GAC9B,OAAOT,KAAKgN,IAAIvM,EAAYgsD,EAAQhrD,4BAA4B,GAGpE,SAASssD,IACL,IAAIC,EAAkBhuD,KAAKC,QAAQC,WAC/B9H,EAAQ4H,KAAK2iB,QAUjB,MARmB,QAAfvqB,EAAM2C,OACe,IAArBiF,KAAKC,QAAQoL,KACbrL,KAAKC,QAAQsB,YAAcorD,IACe,IAA1C3sD,KAAKC,QAAQ4L,QAvBC,MAwBkC,IAAhD7L,KAAKC,QAAQ0L,cAAcqiD,IAC3BhuD,KAAKyT,QAGFrb,EAmEX,SAASylB,IACL,IAAIthB,EAAQyD,KAAKC,QAAQI,WAIzB,GAAIL,KAAKC,QAAQsB,YAAc4vB,EAC3B,OAAQnxB,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,aAChD,KAlGG,GAmGH,KArGK,GAsGL,KAnGG,GAoGH,KAxGK,GAyGL,KAvGI,GAwGAL,KAAKC,QAAQjC,OACb,MAGJ,KAzGE,GA0GEgC,KAAKC,QAAQjC,OACTgC,KAAKC,QAAQ4L,QA3GnB,KA4GM7L,KAAKC,QAAQjC,OAgB7B,OANIgC,KAAKC,QAAQsB,YAAcsvB,EAC3B7wB,KAAKuc,IAAIsU,GAET7wB,KAAKuc,IAAIiU,GAGNxwB,KAAKC,QAAQ+L,eAAezP,GAIvC,SAAS0xD,IACLjuD,KAAKuc,IAAI4U,GACTnxB,KAAKC,QAAQkM,SAEb,IAAIqZ,EAAYxlB,KAAKgkD,QAAQxzB,GAI7B,MAAqB,cAAdhL,GAAmCA,EA/G9C5uB,EAAOD,QAAU,CACbe,KAAM,cACN6I,UAAW,CACPilB,UAAW,CAAC9K,QAASze,QACrBnD,SAAUmD,OACV7D,MAAO,CAAC,QAAS,QAErBoI,MAAO,WACH,IAOIpI,EAPAmE,EAAQyD,KAAKC,QAAQI,WACrBI,EAAaT,KAAKC,QAAQC,WAC1BpH,EAAW+kB,EAAavmB,KAAK0I,MAC7BkuD,EAAiBtzC,EAAiB9hB,GAClCwqD,EAAa4K,EAAiBluD,KAAKujD,oBAAsBvjD,KAAKsjD,WAC9DwJ,EAAaoB,EAAiBJ,EAA2BD,EACzDroC,GAAY,EA8BhB,OA3BAxlB,KAAKC,QAAQkM,SACbnM,KAAKuc,IAAI0wC,GAEJiB,GACDluD,KAAKC,QAAQkM,SAIb/T,EADAkrD,EACQtjD,KAAK2jD,kBAAkBoK,EAAcjB,GAErCA,EAAWx1D,KAAK0I,KAAMA,KAAKC,QAAQC,YAG3CF,KAAKC,QAAQ4L,QA7DH,MA8DV2Z,EAAYyoC,EAAa32D,KAAK0I,MAC9BA,KAAKC,QAAQkM,WAMQ,IAArBnM,KAAKC,QAAQoL,KACbrL,KAAKC,QAAQsB,YAAcorD,IACgB,IAA3C3sD,KAAKC,QAAQ0L,cAAclL,IAC3BT,KAAKyT,QAGF,CACH1Y,KAAM,cACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CmlB,UAAWA,EACX1sB,SAAUA,EACVV,MAAOA,IAGf8I,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKrI,UAChBkH,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAK/I,OAEX+I,EAAKqkB,WACLxlB,KAAKoB,OAAyB,IAAnBD,EAAKqkB,UAAqB,aAAe,IAAMrkB,EAAKqkB,YAGvE0lC,YAAa,gB,gBCrGjB,IAAI5xD,EAAO,EAAQ,GAAmBA,KAClCmzD,EAAU,EAAQ,GAASn0D,KAE3B6S,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QACf0vD,EAAYrzD,EAAK8D,UAErB,SAAS0vD,EAAWrsD,GAChB,OAAOT,KAAKgN,IAAIvM,EAAYgsD,EAAQ/qD,mBAAmB,GAG3D9K,EAAOD,QAAU,CACbe,KAAM,kBACN6I,UAAW,CACPkM,SAAU,CAAC,CACP,iBAGRjM,MAAO,WAIH,IAHA,IAAIiM,EAAWzM,KAAKwjD,cAGZxjD,KAAKC,QAAQoL,KACjB,OAAQrL,KAAKC,QAAQsB,WACjB,KAAK4J,EACL,KAAKC,EACL,KAAKuhD,EACD3sD,KAAKC,QAAQjC,OACb,MAEJ,QACIyO,EAAS7N,KAAKoB,KAAK2jD,kBAAkB3jD,KAAK0hB,YAAaorC,IAInE,MAAO,CACH/xD,KAAM,kBACNgG,IAAKf,KAAKmkD,oBAAoB13C,GAC9BA,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKyM,SAAStL,GAAM,SAAS9B,GACP,gBAAdA,EAAKtE,MACLiF,KAAKoB,MAAM,W,gBC5C3B,IAAI/G,EAAgB,EAAQ,GAAyBA,cAGjDy2B,EAFO,EAAQ,GAAmBx3B,KAEjB0B,UAErBpE,EAAOD,QAAU,CACbe,KAAM,YACN6I,UAAW,CACPnI,MAAO6D,OACPiiD,KAAMjiD,QAEVuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WACrB29C,EAAY3jD,EAAc2F,KAAKC,QAAQzF,OAAQ+B,GAInD,OAFAyD,KAAKuc,IAAIuU,GAEF,CACH/1B,KAAM,YACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CjI,MAAO4H,KAAKC,QAAQzF,OAAOyG,UAAU1E,EAAOyhD,GAC5CE,KAAMl+C,KAAKC,QAAQzF,OAAOyG,UAAU+8C,EAAWh+C,KAAKC,QAAQI,cAGpEa,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK/I,OAChB4H,KAAKoB,MAAMD,EAAK+8C,S,gBC1BxB,IAEIiQ,EAFO,EAAQ,GAAmB70D,KAEVwD,iBAG5BlG,EAAOD,QAAU,CACbe,KAAM,WACN6I,UAAW,CACP7I,KAAMuE,OACNwQ,SAAU,CAAC,KAEfjM,MAAO,SAAS8wB,EAAcC,GAC1B,IAGI9kB,EAHAlQ,EAAQyD,KAAKC,QAAQI,WACrB3I,EAAOsI,KAAKikD,sBACZ+I,EAAgBt1D,EAAKkW,cAWzB,OARAnB,EAAW8kB,EAAWv4B,eAAeg0D,GAC/Bz7B,EAAWy7B,GAAe11D,KAAK0I,KAAMuxB,GACrCD,EAAah6B,KAAK0I,KAAMuxB,GAEzBvxB,KAAKC,QAAQoL,KACdrL,KAAKuc,IAAI4xC,GAGN,CACHpzD,KAAM,WACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMA,EACN+U,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKzJ,MAChBsI,KAAKoB,MAAM,KACXpB,KAAKyM,SAAStL,GACdnB,KAAKoB,MAAM,MAEf8pD,YAAa,a,gBCtCjB,IAEIr6B,EAFO,EAAQ,GAAmBv3B,KAEtBqD,KAGhB/F,EAAOD,QAAU,CACbe,KAAM,WACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WAIzB,OAFAL,KAAKuc,IAAIsU,GAEF,CACH91B,KAAM,WACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CjI,MAAO4H,KAAKC,QAAQ+L,eAAezP,EAAQ,KAGnD2E,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAK/I,U,gBCvBxB,IAEIo4B,EAFO,EAAQ,GAAmBl3B,KAErBwC,MAEjBlF,EAAOD,QAAU,CACbe,KAAM,aACN6I,UAAW,CACP7I,KAAMuE,QAEVuE,MAAO,WACH,MAAO,CACHzF,KAAM,aACNgG,IAAKf,KAAKgB,YAAYhB,KAAKC,QAAQI,WAAYL,KAAKC,QAAQqL,UAC5D5T,KAAMsI,KAAKgkD,QAAQxzB,KAG3BtvB,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKzJ,S,gBCjBxB,IAEIm5B,EAFO,EAAQ,GAAmBv3B,KAEtBqD,KAGhB/F,EAAOD,QAAU,CACbe,KAAM,aACN6I,UAAW,CACP7I,KAAMuE,QAEVuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WAKzB,OAFAL,KAAKuc,IAAIsU,GAEF,CACH91B,KAAM,aACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMsI,KAAKC,QAAQ+L,eAAezP,EAAQ,KAGlD2E,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAKzJ,S,gBCxBxB,IAAI4B,EAAO,EAAQ,GAAmBA,KAElCk3B,EAAQl3B,EAAKwC,MACb40B,EAASp3B,EAAK4B,OACd41B,EAAYx3B,EAAK0B,UACjBg2B,EAAkB13B,EAAKuD,gBACvBsxD,EAAmB70D,EAAKwD,iBACxBmwD,EAAQ3zD,EAAK6D,MACbg0B,EAAQ73B,EAAKsD,MAEjBhG,EAAOD,QAAU,CACbe,KAAM,eACN6I,UAAW,CACP7I,KAAMuE,OACN7D,MAAO,CAAC,aAAc,SAAU,YAAa,QAAS,OAE1DoI,MAAO,WACH,IACI9I,EADA6E,EAAQyD,KAAKC,QAAQI,WAErBjI,EAAQ,KAQZ,GANA4H,KAAKuc,IAAIyU,GACThxB,KAAKC,QAAQkM,SAEbzU,EAAOsI,KAAKgkD,QAAQxzB,GACpBxwB,KAAKC,QAAQkM,SAETnM,KAAKC,QAAQsB,YAAc4sD,EAAkB,CAI7C,OAHAnuD,KAAKuc,IAAI0wC,GACTjtD,KAAKC,QAAQkM,SAELnM,KAAKC,QAAQsB,WACjB,KAAKmvB,EAEGt4B,EADA4H,KAAK+jD,gBAAgB,KAAO5yB,EACpBnxB,KAAKqiB,QAELriB,KAAK9E,SAGjB,MAEJ,KAAK41B,EACD14B,EAAQ4H,KAAKhF,YACb,MAEJ,KAAKw1B,EACDp4B,EAAQ4H,KAAK+M,aAEb,MAEJ,QACI/M,KAAKyT,MAAM,sDAGnBzT,KAAKC,QAAQkM,SAKjB,OAFAnM,KAAKuc,IAAI4xC,GAEF,CACHpzD,KAAM,eACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMA,EACNU,MAAOA,IAGf8I,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAKzJ,MACG,OAAfyJ,EAAK/I,QACL4H,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAK/I,QAEnB4H,KAAKoB,MAAM,Q,gBCzEnB,IAAI9H,EAAO,EAAQ,GAAmBA,KAElC6R,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QACfuzB,EAAQl3B,EAAKwC,MACbk1B,EAAkB13B,EAAKuD,gBAE3BjG,EAAOD,QAAU,CACbe,KAAM,aACN6I,UAAW,CACPkM,SAAU,CAAC,CACP,aACA,eACA,gBAGRjM,MAAO,WACHR,KAAKC,QAAQkM,SAEb,IAAIM,EAAWzM,KAAKwjD,aAChBvzC,EAAQ,KACRmhB,EAAQ,KAEZgtB,EACA,MAAQp+C,KAAKC,QAAQoL,KAAK,CACtB,OAAQrL,KAAKC,QAAQsB,WACjB,KAAK6J,EACDpL,KAAKC,QAAQjC,OACb,SAEJ,KAAKmN,EACDimB,EAAQpxB,KAAKtE,aACb,SAEJ,KAAK80B,EACDvgB,EAAQjQ,KAAK+M,aACb,MAEJ,KAAKikB,EACD/gB,EAAQjQ,KAAK6hB,eACb,MAEJ,QACI,MAAMu8B,EAGA,OAAVhtB,IACA3kB,EAAS7N,KAAKwyB,GACdA,EAAQ,MAGZ3kB,EAAS7N,KAAKqR,GAOlB,OAJc,OAAVA,GACAjQ,KAAKyT,MAAM,yCAGR,CACH1Y,KAAM,aACNgG,IAAKf,KAAKmkD,oBAAoB13C,GAC9BA,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKyM,SAAStL,M,gBCjEtB,IAAI+vB,EAAQ,EAAQ,GAAmB53B,KAAKyD,MAE5CnG,EAAOD,QAAU,CACbe,KAAM,iBACN6I,UAAW,CACPkM,SAAU,CAAC,CACP,gBAGRjM,MAAO,SAAS2e,GACZ,IAAI1S,EAAWzM,KAAKwjD,aAIpB,IAFAxjD,KAAKC,QAAQkM,UAELnM,KAAKC,QAAQoL,MACjBoB,EAAS7N,KAAKoB,KAAK8hB,WAAW3C,IAE1Bnf,KAAKC,QAAQsB,YAAc2vB,IAI/BlxB,KAAKC,QAAQjC,OAGjB,MAAO,CACHjD,KAAM,iBACNgG,IAAKf,KAAKmkD,oBAAoB13C,GAC9BA,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKyM,SAAStL,GAAM,WAChBnB,KAAKoB,MAAM,W,cChCvBxK,EAAOD,QAAU,CACbe,KAAM,MACN6I,UAAW,CACP6tD,IAAK,CAAC,UAAW,cACjB5gD,SAAU,CAAC,eAAgB,OAE/BhN,MAAO,SAAS6tD,GACZruD,KAAKC,QAAQkM,SAEb,IAGI+7B,EAHA3rC,EAAQyD,KAAKC,QAAQI,WACrByK,EAAMvO,EACNiR,EAAW,KAyBf,OArBI06B,EADAloC,KAAKC,QAAQuL,YAAY,EAAG,QAAUxL,KAAKC,QAAQuL,YAAY,EAAG,QAC1DxL,KAAK+M,aAEL/M,KAAKkhB,UAGjBlhB,KAAKC,QAAQkM,SAETkiD,GAAiBruD,KAAKC,QAAQuL,YAAY,EAAG,OAC7CxL,KAAKC,QAAQjC,OAEbwP,EAAWxN,KAAKwiB,eAEZxiB,KAAKijD,gBACLn4C,EAAM9K,KAAK0jD,gBAAgBl2C,EAASf,UAAU1L,IAAI+J,IAAInQ,SAGtDqF,KAAKijD,gBACLn4C,EAAMo9B,EAAMnnC,IAAI+J,IAAInQ,QAIrB,CACHI,KAAM,MACNgG,IAAKf,KAAKgB,YAAYzE,EAAOuO,GAC7BsjD,IAAKlmB,EACL16B,SAAUA,IAGlBtM,SAAU,SAASC,GACfnB,KAAKmB,KAAKA,EAAKitD,KACO,OAAlBjtD,EAAKqM,WACLxN,KAAKoB,MAAM,QACXpB,KAAKmB,KAAKA,EAAKqM,c,gBC/C3B,IAAIkjB,EAAS,EAAQ,GAAmBp3B,KAAK4B,OAE7CtE,EAAOD,QAAU,CACbe,KAAM,SACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,WACH,MAAO,CACHzF,KAAM,SACNgG,IAAKf,KAAKgB,YAAYhB,KAAKC,QAAQI,WAAYL,KAAKC,QAAQqL,UAC5DlT,MAAO4H,KAAKgkD,QAAQtzB,KAG5BxvB,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK/I,U,cCdxBxB,EAAOD,QAAU,CACbe,KAAM,WACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WAIzB,OAFAL,KAAKC,QAAQjC,OAEN,CACHjD,KAAM,WACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CjI,MAAO4H,KAAKC,QAAQ+L,eAAezP,KAG3C2E,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK/I,U,gBClBxB,IAAIkB,EAAO,EAAQ,GAAmBA,KAElC03B,EAAkB13B,EAAKuD,gBACvBsxD,EAAmB70D,EAAKwD,iBAE5BlG,EAAOD,QAAU,CACbe,KAAM,cACN6I,UAAW,CACPkM,SAAU,CAAC,KAEfjM,MAAO,SAAS8wB,EAAcC,GAC1B,IACI9kB,EADAlQ,EAAQyD,KAAKC,QAAQI,WAWzB,OARAL,KAAKuc,IAAIyU,GAETvkB,EAAW6kB,EAAah6B,KAAK0I,KAAMuxB,GAE9BvxB,KAAKC,QAAQoL,KACdrL,KAAKuc,IAAI4xC,GAGN,CACHpzD,KAAM,cACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CoM,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKyM,SAAStL,GACdnB,KAAKoB,MAAM,Q,gBC/BnB,IAAI/G,EAAgB,EAAQ,GAAyBA,cAGjD02B,EAFO,EAAQ,GAAmBz3B,KAEhB2B,WAEtBrE,EAAOD,QAAU,CACbe,KAAM,aACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WACrB29C,EAAY3jD,EAAc2F,KAAKC,QAAQzF,OAAQ+B,GAInD,OAFAyD,KAAKuc,IAAIwU,GAEF,CACHh2B,KAAM,aACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CjI,MAAO4H,KAAKC,QAAQzF,OAAOyG,UAAU1E,EAAOyhD,KAGpD98C,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK/I,OAChB4H,KAAKoB,MAAM,Q,gBCxBnB,IAAI9H,EAAO,EAAQ,GAAmBA,KAElCk3B,EAAQl3B,EAAKwC,MACb60B,EAAWr3B,EAAK+B,SAChB4xD,EAAQ3zD,EAAK6D,MACbgxD,EAAmB70D,EAAKwD,iBAG5BlG,EAAOD,QAAU,CACbe,KAAM,sBACN6I,UAAW,CACP7I,KAAMuE,OACNwQ,SAAU,CAAC,CAAC,OAAQ,OAExBjM,MAAO,WACH,IAEI9I,EACAs1D,EAHAzwD,EAAQyD,KAAKC,QAAQI,WACrBoM,EAAW,KA0Bf,OAtBAzM,KAAKuc,IAAI0wC,GAELjtD,KAAKC,QAAQsB,YAAcovB,GAE3Bq8B,GADAt1D,EAAOsI,KAAKikD,uBACSr2C,cAEjB5N,KAAKskD,OAAOtrD,eAAeg0D,IAC3BhtD,KAAKC,QAAQkM,SACbM,EAAWzM,KAAKskD,OAAO0I,GAAe11D,KAAK0I,MAC3CA,KAAKC,QAAQkM,WAEbM,EAAWzM,KAAKwjD,cACP5kD,KACLoB,KAAKgN,IAAIhN,KAAKC,QAAQC,WAAY,MAAM,IAIhDF,KAAKuc,IAAI4xC,IAETz2D,EAAOsI,KAAKgkD,QAAQxzB,GAGjB,CACHz1B,KAAM,sBACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMA,EACN+U,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAKzJ,MAEM,OAAlByJ,EAAKsL,WACLzM,KAAKoB,MAAM,KACXpB,KAAKyM,SAAStL,GACdnB,KAAKoB,MAAM,OAGnB8pD,YAAa,a,gBC3DjB,IAAI5xD,EAAO,EAAQ,GAAmBA,KAElCk3B,EAAQl3B,EAAKwC,MACb60B,EAAWr3B,EAAK+B,SAChB4xD,EAAQ3zD,EAAK6D,MACbgxD,EAAmB70D,EAAKwD,iBAG5BlG,EAAOD,QAAU,CACbe,KAAM,wBACN6I,UAAW,CACP7I,KAAMuE,OACNwQ,SAAU,CAAC,CAAC,OAAQ,OAExBjM,MAAO,WACH,IAEI9I,EACAs1D,EAHAzwD,EAAQyD,KAAKC,QAAQI,WACrBoM,EAAW,KA2Bf,OAvBAzM,KAAKuc,IAAI0wC,GACTjtD,KAAKuc,IAAI0wC,GAELjtD,KAAKC,QAAQsB,YAAcovB,GAE3Bq8B,GADAt1D,EAAOsI,KAAKikD,uBACSr2C,cAEjB5N,KAAKskD,OAAOtrD,eAAeg0D,IAC3BhtD,KAAKC,QAAQkM,SACbM,EAAWzM,KAAKskD,OAAO0I,GAAe11D,KAAK0I,MAC3CA,KAAKC,QAAQkM,WAEbM,EAAWzM,KAAKwjD,cACP5kD,KACLoB,KAAKgN,IAAIhN,KAAKC,QAAQC,WAAY,MAAM,IAIhDF,KAAKuc,IAAI4xC,IAETz2D,EAAOsI,KAAKgkD,QAAQxzB,GAGjB,CACHz1B,KAAM,wBACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMA,EACN+U,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKoB,MAAM,MACXpB,KAAKoB,MAAMD,EAAKzJ,MAEM,OAAlByJ,EAAKsL,WACLzM,KAAKoB,MAAM,KACXpB,KAAKyM,SAAStL,GACdnB,KAAKoB,MAAM,OAGnB8pD,YAAa,a,gBC5DjB,IAAIhhD,EAAU,EAAQ,GAAmBA,QACrC5Q,EAAO,EAAQ,GAAmBA,KAElCo3B,EAASp3B,EAAK4B,OACdi2B,EAAQ73B,EAAKsD,MAUjB,SAASvC,IACL2F,KAAKC,QAAQgM,SAIb,IAFA,IAAI7T,EAAQ4H,KAAKgkD,QAAQtzB,GAEhBv5B,EAAI,EAAGA,EAAIiB,EAAMmD,OAAQpE,IAAK,CACnC,IAAIqE,EAAOpD,EAAMyC,WAAW1D,GACvB+S,EAAQ1O,IAfN,KAeeA,GAClBwE,KAAKyT,MAAM,8BAA+BzT,KAAKC,QAAQI,WAAajI,EAAMmD,OAASpE,GAQ3F,OAJsB,IAAlB+D,OAAO9C,IACP4H,KAAKyT,MAAM,6BAA8BzT,KAAKC,QAAQI,WAAajI,EAAMmD,QAGtEnD,EAIXxB,EAAOD,QAAU,CACbe,KAAM,QACN6I,UAAW,CACP+tD,KAAMryD,OACNsyD,MAAOtyD,QAEXuE,MAAO,WACH,IAEI+tD,EAFAhyD,EAAQyD,KAAKC,QAAQI,WACrBiuD,EAAOj0D,EAAc/C,KAAK0I,MAW9B,OARAA,KAAKC,QAAQgM,SAERjM,KAAKC,QAAQ4L,QA1CZ,KA2CF7L,KAAKyT,MAAM,uBAEfzT,KAAKuc,IAAI4U,GACTo9B,EAAQl0D,EAAc/C,KAAK0I,MAEpB,CACHjF,KAAM,QACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CiuD,KAAMA,EACNC,MAAOA,IAGfrtD,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKmtD,MAChBtuD,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAKotD,U,gBC/DxB,IAAIj1D,EAAO,EAAQ,GAAmBA,KAClCmzD,EAAU,EAAQ,GAASn0D,KAE3Bs0D,EAAmBtzD,EAAKmE,iBAE5B,SAASqvD,EAAWrsD,GAChB,OAAOT,KAAKgN,IAAIvM,EAAYgsD,EAAQnrD,kBAAkB,GAG1D,SAASktD,IACL,IAAIzoC,EAAU/lB,KAAKwiB,eAQnB,MANqB,QAAjBuD,EAAQhrB,OACa,IAArBiF,KAAKC,QAAQoL,KACbrL,KAAKC,QAAQsB,YAAcqrD,GAC3B5sD,KAAKyT,QAGFsS,EAGXnvB,EAAOD,QAAU,CACbe,KAAM,OACN6I,UAAW,CACPwlB,QAAS,CAAC,eAAgB,OAC1BC,MAAO,CAAC,UAEZxlB,MAAO,WACH,IAEIulB,EACAC,EAHAvlB,EAAaT,KAAKC,QAAQC,WAC1BU,EAAcZ,KAAKC,QAAQI,WAY/B,OAPI0lB,EADA/lB,KAAKqjD,iBACKrjD,KAAK2jD,kBAAkB6K,EAAgB1B,GAEvCA,EAAWx1D,KAAK0I,KAAMS,GAGpCulB,EAAQhmB,KAAKshB,OAAM,GAEZ,CACHvmB,KAAM,OACNgG,IAAKf,KAAKgB,YAAYJ,EAAaZ,KAAKC,QAAQI,YAChD0lB,QAASA,EACTC,MAAOA,IAGf9kB,SAAU,SAASC,GACfnB,KAAKmB,KAAKA,EAAK4kB,SACf/lB,KAAKmB,KAAKA,EAAK6kB,QAEnBklC,YAAa,S,cCpDjBt0D,EAAOD,QAAU,CACbe,KAAM,WACN6I,UAAW,CACPkM,SAAU,CAAC,CACP,eACA,aACA,gBACA,oBACA,sBACA,wBACA,aACA,gBAGRjM,MAAO,WACH,IAAIiM,EAAWzM,KAAKsxB,aAAatxB,KAAKqkD,MAAM9hC,UAO5C,OAJwC,OAApCviB,KAAKyjD,iBAAiBh3C,IACtBzM,KAAKyT,MAAM,wBAGR,CACH1Y,KAAM,WACNgG,IAAKf,KAAKmkD,oBAAoB13C,GAC9BA,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKyM,SAAStL,M,gBC7BtB,IAEI+vB,EAFO,EAAQ,GAAmB53B,KAErByD,MAEjBnG,EAAOD,QAAU,CACbe,KAAM,eACN6I,UAAW,CACPkM,SAAU,CAAC,CACP,WACA,SAGRjM,MAAO,WAGH,IAFA,IAAIiM,EAAWzM,KAAKwjD,cAEZxjD,KAAKC,QAAQoL,MACjBoB,EAAS7N,KAAKoB,KAAKuiB,YAEfviB,KAAKC,QAAQsB,YAAc2vB,IAC3BlxB,KAAKC,QAAQjC,OAOrB,MAAO,CACHjD,KAAM,eACNgG,IAAKf,KAAKmkD,oBAAoB13C,GAC9BA,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKyM,SAAStL,GAAM,WAChBnB,KAAKoB,MAAM,SAGnB8pD,YAAa,a,gBCrCjB,IAAIz6B,EAAS,EAAQ,GAAmBn3B,KAAK2C,OAE7CrF,EAAOD,QAAU,CACbe,KAAM,SACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,WACH,MAAO,CACHzF,KAAM,SACNgG,IAAKf,KAAKgB,YAAYhB,KAAKC,QAAQI,WAAYL,KAAKC,QAAQqL,UAC5DlT,MAAO4H,KAAKgkD,QAAQvzB,KAG5BvvB,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK/I,U,gBCfxB,IAAIkB,EAAO,EAAQ,GAAmBA,KAElC6R,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QACfyvD,EAAYpzD,EAAKgE,UACjBD,EAAM/D,EAAK+D,IACXL,EAAM1D,EAAK0D,IAGf,SAAS8vD,EAAWrsD,GAChB,OAAOT,KAAKgN,IAAIvM,EAAY,MAAM,GAGtC7J,EAAOD,QAAU,CACbe,KAAM,aACN6I,UAAW,CACPkM,SAAU,CAAC,CACP,UACA,MACA,MACA,SACA,OACA,SAGRjM,MAAO,WAMH,IALA,IAEIyP,EAFA1T,EAAQyD,KAAKC,QAAQI,WACrBoM,EAAWzM,KAAKwjD,cAIZxjD,KAAKC,QAAQoL,KAAK,CACtB,OAAQrL,KAAKC,QAAQsB,WACjB,KAAK4J,EACDnL,KAAKC,QAAQjC,OACb,SAEJ,KAAKoN,EAED,GAhCE,KAgCEpL,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,WAAa,GAAwB,CACjFL,KAAKC,QAAQjC,OACb,SAGJiS,EAAQjQ,KAAK/C,UACb,MAEJ,KAAKI,EACD4S,EAAQjQ,KAAK3C,MACb,MAEJ,KAAKL,EACDiT,EAAQjQ,KAAKhD,MACb,MAKJ,KAAK0vD,EACDz8C,EAAQjQ,KAAK2jD,kBAAkB3jD,KAAKmhB,OAAQ2rC,GAC5C,MAGJ,QACI78C,EAAQjQ,KAAK2jD,kBAAkB3jD,KAAKsiB,KAAMwqC,GAGlDrgD,EAAS7N,KAAKqR,GAGlB,MAAO,CACHlV,KAAM,aACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CoM,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKyM,SAAStL,IAElB+pD,YAAa,e,gBC/EjB,IAEI16B,EAFO,EAAQ,GAAmBl3B,KAErBwC,MAIjB,SAAS2yD,IACDzuD,KAAKC,QAAQsB,YAAcivB,IACQ,IAAnCxwB,KAAKC,QAAQ4L,QALN,KAMP7L,KAAKyT,MAAM,sCAGfzT,KAAKC,QAAQjC,OAWjBpH,EAAOD,QAAU,CACbe,KAAM,eACN6I,UAAW,CACP7I,KAAMuE,QAEVuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WAczB,OAZIL,KAAKC,QAAQ4L,QA3BN,MA4BP7L,KAAKC,QAAQjC,OACbywD,EAAwBn3D,KAAK0I,QAE7ByuD,EAAwBn3D,KAAK0I,MAEzBA,KAAKC,QAAQ4L,QAjCV,OAkCH7L,KAAKC,QAAQjC,OACbywD,EAAwBn3D,KAAK0I,QAI9B,CACHjF,KAAM,eACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1C3I,KAAMsI,KAAKC,QAAQ+L,eAAezP,KAG1C2E,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKzJ,S,gBClDxB,IAAIyS,EAAa,EAAQ,GAAmBA,WACxCG,EAAU,EAAQ,GAAmBA,QACrChR,EAAO,EAAQ,GAAmBA,KAClC4R,EAAO,EAAQ,GAAmBA,KAElCslB,EAAQl3B,EAAKwC,MACb40B,EAASp3B,EAAK4B,OACd41B,EAAYx3B,EAAK0B,UAMrB,SAAS0zD,EAAe/zD,EAAQikD,GAC5B,IAAK,IAAIhzC,EAAM5L,KAAKC,QAAQI,WAAa1F,EAAQgE,EAAM,EAAGiN,EAAM5L,KAAKC,QAAQqL,SAAUM,IAAO,CAC1F,IAAIpQ,EAAOwE,KAAKC,QAAQzF,OAAOK,WAAW+Q,GAE1C,GARU,KAQNpQ,GAAwBojD,GAAqB,IAARjgD,EAKrC,OAJ2D,IAAvD+vD,EAAep3D,KAAK0I,KAAMrF,EAASgE,EAAM,GAAG,IAC5CqB,KAAKyT,SAGD,EAGPtJ,EAAW3O,IACZwE,KAAKyT,MACDmrC,GAAqB,IAARjgD,EACP,eAAiBA,EAAM,EAAI,gBAAkB,IAAM,eAClDA,EAAM,EAAI,wBAA0B,mBAC3CiN,KAIFjN,EAAM,GACRqB,KAAKyT,MAAM,sBAAuB7H,GAK1C,OADA5L,KAAKC,QAAQjC,OACNW,EAGX,SAASgwD,EAAwBljD,GAG7B,IAFA,IAAI+M,EAAQ,EAELxY,KAAKC,QAAQ4L,QApCL,OAqCL2M,EAAQ/M,GACVzL,KAAKyT,MAAM,2BAGfzT,KAAKC,QAAQjC,OAIrB,SAAS0gD,EAAWljD,GACZwE,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,cAAgB7E,GAC5DwE,KAAKyT,MAAMvI,EAAK1P,GAAQ,gBAuBhC,SAASozD,IACL,IAAIC,EAAY,EAIhB,OAAI7uD,KAAKC,QAAQ4L,QA7EN,KA8EP7L,KAAKC,QAAQjC,OAETgC,KAAKC,QAAQsB,YAAcivB,QAC3Bq+B,EAAYH,EAAep3D,KAAK0I,KAAM,GAAG,IACzB,GACZ2uD,EAAwBr3D,KAAK0I,KAAM,EAAI6uD,IAK3C7uD,KAAKC,QAAQ4L,QAtFN,KAuFP7L,KAAKC,QAAQjC,YACb2wD,EAAwBr3D,KAAK0I,KAAM,SAIvCA,KAAKyT,MAAM,2CAOXzT,KAAKC,QAAQsB,YAAcmvB,GAC3BguB,EAAWpnD,KAAK0I,KAtGT,IAuGP6uD,EAAYH,EAAep3D,KAAK0I,KAAM,GAAG,GAErCA,KAAKC,QAAQ4L,QAvGN,SAwGP8iD,EAAwBr3D,KAAK0I,KAAM,EAAI6uD,GAIvC7uD,KAAKC,QAAQsB,YAAcuvB,GAC3B9wB,KAAKC,QAAQsB,YAAcmvB,GAC3BguB,EAAWpnD,KAAK0I,KA/GV,SAgHN0uD,EAAep3D,KAAK0I,KAAM,GAAG,SAIjC,GAIAA,KAAKC,QAAQsB,YAAcuvB,GAC3B4tB,EAAWpnD,KAAK0I,KA1HT,UA2HP6uD,EAAYH,EAAep3D,KAAK0I,KAAM,GAAG,IAEzB,GACZ2uD,EAAwBr3D,KAAK0I,KAAM,EAAI6uD,UAM/C7uD,KAAKyT,QAGT7c,EAAOD,QAAU,CACbe,KAAM,eACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WAczB,OAXKiK,EAAQtK,KAAKC,QAAQzF,OAAQ+B,EA7IlC,MA8IIyD,KAAKyT,MAAM,iBAGVnJ,EAAQtK,KAAKC,QAAQzF,OAAQ+B,EAAQ,EApJnC,KAqJHyD,KAAKyT,MAAM,yBAGfzT,KAAKC,QAAQjC,OACb4wD,EAAiBt3D,KAAK0I,MAEf,CACHjF,KAAM,eACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CjI,MAAO4H,KAAKC,QAAQ+L,eAAezP,KAG3C2E,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK/I,U,gBC1KxB,IAAIiS,EAAe,EAAQ,GAAmBA,aAC1CrQ,EAAS,EAAQ,GAAmBA,OACpCV,EAAO,EAAQ,GAAmBA,KAElCq3B,EAAWr3B,EAAK+B,SAChBu1B,EAAMt3B,EAAKgC,IACX6yD,EAAmB70D,EAAKwD,iBAG5BlG,EAAOD,QAAU,CACbe,KAAM,MACN6I,UAAW,CACPnI,MAAO,CAAC,SAAU,QAEtBoI,MAAO,WACH,IACIpI,EADAmE,EAAQyD,KAAKC,QAAQI,WAGzB,OAAQL,KAAKC,QAAQsB,WACjB,KAAKqvB,EAID,IAHA,IAAIk+B,EAAWvyD,EAAQ,EACnBwyD,EAAS/uD,KAAKC,QAAQqL,SAAW,EAE9BwjD,EAAWC,GAAU1kD,EAAarK,KAAKC,QAAQzF,OAAOK,WAAWi0D,KACpEA,IAGJ,KAAOA,EAAWC,GAAU1kD,EAAarK,KAAKC,QAAQzF,OAAOK,WAAWk0D,EAAS,KAC7EA,IAGJ32D,EAAQ,CACJ2C,KAAM,MACNgG,IAAKf,KAAKgB,YAAY8tD,EAAUC,GAChC32D,MAAO4H,KAAKC,QAAQzF,OAAOyG,UAAU6tD,EAAUC,IAGnD/uD,KAAKuc,IAAIqU,GACT,MAEJ,KAAKD,EACI32B,EAAOgG,KAAKC,QAAQzF,OAAQwF,KAAKC,QAAQI,WAAYL,KAAKC,QAAQqL,SAAU,SAC7EtL,KAAKyT,MAAM,+BAGfzT,KAAKuc,IAAIoU,GACT3wB,KAAKC,QAAQkM,SACb/T,EAAQ4H,KAAK/D,SACb+D,KAAKC,QAAQkM,SACbnM,KAAKuc,IAAI4xC,GACT,MAEJ,QACInuD,KAAKyT,MAAM,+BAGnB,MAAO,CACH1Y,KAAM,MACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CjI,MAAOA,IAGf8I,SAAU,SAASC,GACfnB,KAAKoB,MAAM,OACXpB,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAK/I,OACf4H,KAAKoB,MAAM,Q,cClEnBxK,EAAOD,QAAU,CACbe,KAAM,QACN6I,UAAW,CACPkM,SAAU,CAAC,KAEfjM,MAAO,WACH,IAAIjE,EAAQyD,KAAKC,QAAQI,WACrBoM,EAAWzM,KAAKsxB,aAAatxB,KAAKqkD,MAAM1hC,OAE5C,MAAO,CACH5nB,KAAM,QACNgG,IAAKf,KAAKgB,YAAYzE,EAAOyD,KAAKC,QAAQI,YAC1CoM,SAAUA,IAGlBvL,SAAU,SAASC,GACfnB,KAAKyM,SAAStL,M,gBChBtB,IAAIgK,EAAa,EAAQ,GAAmB7R,KAAKoC,WAC7CszD,EAAQn3D,OAAOqjB,OAAO,CACtBngB,KAAM,aACNgG,IAAK,KACL3I,MAAO,MAGXxB,EAAOD,QAAU,CACbe,KAAM,aACN6I,UAAW,CACPnI,MAAO6D,QAEXuE,MAAO,WAEH,OADAR,KAAKuc,IAAIpR,GACF6jD,GAQX9tD,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK/I,U,gBCvBxBxB,EAAOD,QAAU,CACb4tD,aAAc,CACVljD,QAAS,aACTyqD,WAAY,aACZvQ,OAAQ,SACRwQ,cAAe,SAASx9C,GACpB,OAAOvO,KAAKohB,cAAc7S,EAAQgtC,OAASt/C,OAAOsS,EAAQgtC,QAAU,OAExE0T,eAAgB,iBAChBC,WAAY,aACZn/C,KAAM,OACNo/C,aAAc,eACd3hD,SAAU,WACVwY,MAAO,WACH,OAAOhmB,KAAKshB,OAAM,IAEtB8tC,gBAAiB,kBACjBtgD,YAAa,cACb1W,MAAO,SAEXisD,MAAO,EAAQ,KACf9I,OAAQ,EAAQ,KAChB+I,OAAQ,EAAQ,KAChBnjD,KAAM,EAAQ,M,gBCvBlBvK,EAAOD,QAAU,CACbyqB,cAAe,EAAQ,KACvBmB,SAAU,EAAQ,KAClBI,MAAO,EAAQ,O,gBCHnB/rB,EAAOD,QAAU,CACbquD,QAAS,EAAQ,M,gBCDrB,IAAI1rD,EAAO,EAAQ,GAAmBA,KAElC63B,EAAQ73B,EAAKsD,MACb4zB,EAAQl3B,EAAKwC,MACbg1B,EAAYx3B,EAAK0B,UACjB+1B,EAAaz3B,EAAK2B,WAClBy1B,EAASp3B,EAAK4B,OACd21B,EAAOv3B,EAAKqD,KACZswD,EAAQ3zD,EAAK6D,MACb8zB,EAAoB33B,EAAKiE,kBAoE7B3G,EAAOD,QAAU,CACbquD,QA3DJ,SAAiBx8C,GACb,OAAQxI,KAAKC,QAAQsB,WACjB,KAAK0vB,EACD,OAAOjxB,KAAKqhB,oBAEhB,KAAKwP,EACD,OAAO7wB,KAAK4hB,aAEhB,KAAKqrC,EACD,OAAIjtD,KAAKC,QAAQE,WAAW,KAAO8sD,EACxBjtD,KAAKoiB,wBAELpiB,KAAKmiB,sBAGpB,KAAKqO,EACD,OAAOxwB,KAAK0iB,eAEhB,KAAKgO,EACL,KAAKK,EACD,OAAO/wB,KAAK/E,aAEhB,KAAK61B,EA3BE,KA6BC9wB,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,aAC5CL,KAAKyT,MAAM,yBAA0BzT,KAAKC,QAAQI,WAAa,GAEnE,MAEJ,KAAK8wB,EAGD,OAFWnxB,KAAKC,QAAQzF,OAAOK,WAAWmF,KAAKC,QAAQI,aAGnD,KAxCD,GAyCC,KAtCM,GAuCN,KArCJ,IAwCQ,OAFAmI,EAAQ4oB,MAAQ,KAChB5oB,EAAQ6oB,eAAgB,EACjBrxB,KAAKyhB,aAEhB,KA9CF,GA+CM,OAAOzhB,KAAKyhB,aAEhB,KAhDD,GAiDK,OAAOzhB,KAAKwhB,gBAEhB,KAtDD,GAuDC,KAlDG,IAmDC,OAAOxhB,KAAK0iB,eAEhB,KA3DC,GA4DG,OAAO1iB,KAAK4hB,kB,gBCtEhChrB,EAAOD,QAAU,CACbquD,QAAS,EAAQ,IACjB,eAAgB,EAAQ,IACxB,QAAW,EAAQ,IACnB,WAAc,EAAQ,KACtB,IAAO,EAAQ,O,cCHnBpuD,EAAOD,QAAU,WACb,OAAOqJ,KAAKwxB,qBACRxxB,KAAKgN,IAAIhN,KAAKC,QAAQC,WAAY,MAAM,M,gBCJhD,IAAI5G,EAAO,EAAQ,GAAmBA,KAClCmzD,EAAU,EAAQ,GAAen0D,KAEjC44B,EAAQ53B,EAAKyD,MAGjBnG,EAAOD,QAAU,WACb,IAAI8V,EAAWzM,KAAKwjD,aAiBpB,OAfAxjD,KAAKC,QAAQkM,SAGbM,EAAS7N,KAAKoB,KAAK+M,cAEnB/M,KAAKC,QAAQkM,SAETnM,KAAKC,QAAQsB,YAAc2vB,IAC3BzkB,EAAS7N,KAAKoB,KAAKiiB,YACnBxV,EAAS7N,KAAKoB,KAAKujD,oBACbvjD,KAAK2iB,MAAM,MACX3iB,KAAKgN,IAAIhN,KAAKC,QAAQC,WAAYusD,EAAQhrD,4BAA4B,KAIzEgL,I,gBCxBX7V,EAAOD,QAAU,CACb,YAAa,EAAQ,KACrB,OAAU,EAAQ,KAClB,MAAS,EAAQ,KACjB,KAAQ,EAAQ,KAChB,SAAY,EAAQ,O,cCLxBC,EAAOD,QAAU,CACb6J,MAAO,CACHulB,QAAS,KACTC,MAAO,WACH,OAAOhmB,KAAKshB,OAAM,O,gBCJ9B,IAAIhoB,EAAO,EAAQ,GAAmBA,KAElCm3B,EAASn3B,EAAK2C,OACdu0B,EAAQl3B,EAAKwC,MACb80B,EAAMt3B,EAAKgC,IACXq1B,EAAWr3B,EAAK+B,SAChB21B,EAAkB13B,EAAKuD,gBAE3BjG,EAAOD,QAAU,CACb6J,MAAO,CACHulB,QAAS,WACL,IAAItZ,EAAWzM,KAAKwjD,aAIpB,OAFAxjD,KAAKC,QAAQkM,SAELnM,KAAKC,QAAQsB,WACjB,KAAKkvB,EACDhkB,EAAS7N,KAAKoB,KAAK/D,UACnB,MAEJ,KAAK20B,EACL,KAAKD,EACDlkB,EAAS7N,KAAKoB,KAAK1E,OACnB,MAEJ,QACI0E,KAAKyT,MAAM,+BASnB,OANIzT,KAAK+jD,gBAAgB,KAAOvzB,GAC5BxwB,KAAK+jD,gBAAgB,KAAO/yB,IAC5BvkB,EAAS7N,KAAKoB,KAAKtE,cACnB+Q,EAAS7N,KAAKoB,KAAK+hB,mBAGhBtV,GAEXuZ,MAAO,Q,cCrCfpvB,EAAOD,QAAU,CACb6J,MAAO,CACHulB,QAAS,WACL,OAAO/lB,KAAKwxB,qBACRxxB,KAAK+hB,mBAGbiE,MAAO,WACH,OAAOhmB,KAAKshB,OAAM,O,cCR9B1qB,EAAOD,QAAU,CACb6J,MAAO,CACHulB,QAAS,WACL,OAAO/lB,KAAKwxB,qBACRxxB,KAAKwiB,iBAGbwD,MAAO,WACH,OAAOhmB,KAAKshB,OAAM,O,gBCR9B,IAAIhoB,EAAO,EAAQ,GAAmBA,KAElC6R,EAAa7R,EAAKoC,WAClB0P,EAAU9R,EAAK2D,QACfuzB,EAAQl3B,EAAKwC,MACb60B,EAAWr3B,EAAK+B,SAChB4xD,EAAQ3zD,EAAK6D,MACb6zB,EAAkB13B,EAAKuD,gBAE3B,SAASiwD,IACL,OAAO9sD,KAAKwxB,qBACRxxB,KAAKgN,IAAIhN,KAAKC,QAAQC,WAAY,MAAM,IAIhD,SAASmvD,IAGL,OAFArvD,KAAKC,QAAQkM,SAETnM,KAAKC,QAAQsB,YAAcivB,GAC3BxwB,KAAK+jD,gBAAgB,KAAOkJ,EACrBjtD,KAAKwxB,qBACRxxB,KAAK0hB,eAIN4P,EAAah6B,KAAK0I,MAG7B,SAASsxB,IACL,IAEIrhB,EAFAxD,EAAWzM,KAAKwjD,aAChBpyB,EAAQ,KAGZpxB,KAAKC,QAAQkM,SAEbiyC,EACA,MAAQp+C,KAAKC,QAAQoL,KAAK,CACtB,OAAQrL,KAAKC,QAAQsB,WACjB,KAAK4J,EACDimB,EAAQpxB,KAAKtE,aACb,SAEJ,KAAK0P,EACDpL,KAAKC,QAAQjC,OACb,SAEJ,KAAK2yB,EACD1gB,EAAQjQ,KAAK3E,SAASyxD,EAAY9sD,KAAKqkD,MAAMjjC,eAC7C,MAEJ,KAAKoP,EACDvgB,EAAQjQ,KAAK+M,aACb,MAEJ,KAAKikB,EACD/gB,EAAQjQ,KAAKkiB,YAAYmtC,EAAarvD,KAAKqkD,MAAMjjC,eACjD,MAEJ,QACI,MAAMg9B,EAGA,OAAVhtB,IACA3kB,EAAS7N,KAAKwyB,GACdA,EAAQ,MAGZ3kB,EAAS7N,KAAKqR,GAGlB,OAAOxD,EAGX7V,EAAOD,QAAU,CACb6J,MAAO,CACHulB,QAAS,WACL,IAAItZ,EAAW6kB,EAAah6B,KAAK0I,MAMjC,OAJwC,OAApCA,KAAKyjD,iBAAiBh3C,IACtBzM,KAAKyT,MAAM,yBAGRhH,GAEXuZ,MAAO,WACH,OAAOhmB,KAAKshB,OAAM,O,gBCrF9B1qB,EAAOD,QAAU,CACb,IAAO,EAAQ,KACf,IAAO,EAAQ,KACf,KAAQ,EAAQ,KAChB,QAAW,EAAQ,KACnB,IAAO,EAAQ,KACf,YAAa,EAAQ,KACrB,iBAAkB,EAAQ,KAC1B,mBAAoB,EAAQ,KAC5B,cAAe,EAAQ,KACvB,QAAW,EAAQ,O,cCVvBC,EAAOD,QAAU,CACb6J,MAAO,WACH,OAAOR,KAAKwxB,qBACRxxB,KAAK+M,iB,cCHjBnW,EAAOD,QAAU,CACb6J,MAAO,WACH,OAAOR,KAAKwxB,qBACRxxB,KAAKwiB,mB,cCHjB5rB,EAAOD,QAAU,CACb6J,MAAO,WACH,OAAOR,KAAKwxB,qBACRxxB,KAAK+M,iB,gBCHjBnW,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,cCAzBC,EAAOD,QAAU,CACb6J,MAAO,WACH,OAAOR,KAAKwxB,qBACRxxB,KAAKuiB,e,gBCHjB3rB,EAAOD,QAAU,CACbwK,KAAM,EAAQ,M,gBCDlB,IAAIkG,EAAO,EAAQ,GAAYA,KAC3ByL,EAAQ,EAAQ,GAAYA,MAC5Bw8C,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,KAChB3rD,EAAU,EAAQ,KAClB4rD,EAAc,EAAQ,KACtBlgC,EAAO,EAAQ,GAAYA,KAE/B,SAASmgC,EAAUhjD,EAAUijD,GACzB,IAEIC,EAFA76C,EAAS,IAAIzN,EACbuoD,GAAwB,EA0B5B,OAvBAnjD,EAAS7D,UAAU6D,EAASnF,MAAM,SAASnG,EAAM6G,EAAM9I,GACnD,GAAkB,YAAdiC,EAAKpG,KACL,OAAK20D,GAA4C,MAAzBvuD,EAAK/I,MAAM+V,OAAO,MAKtCyhD,IAAyBD,KAI7BzwD,EAAKsK,OAAOxB,QACZ2nD,EAAmBxuD,SATfjC,EAAKsK,OAAOxB,GAaF,eAAd7G,EAAKpG,OACL60D,GAAwB,GAG5B96C,EAAO5L,OAAOhK,EAAKsK,OAAOxB,OAGvB,CACH6nD,QAASF,EACT7D,WAAY,CACR/wD,KAAM,aACNgG,IAAK,KACL0L,SAAUqI,IAKtB,SAASg7C,EAAc14B,EAAK24B,EAAqB/iC,EAAKze,GAClDA,EAAQ8Y,OAAO,mBAAqB2F,EAAK,MAAM,GAE/C,IAAIgjC,EAAO,EA8BX,MA5BiB,eAAb54B,EAAIr8B,OACJq8B,EAAI24B,oBAAsBA,EAC1B34B,EAAI9lB,GAAK0+C,KAGb1gC,EAAK8H,EAAK,CACNolB,MAAO,SACPptB,MAAO,SAAoBjuB,GACJ,OAAfA,EAAK6kB,QACL7kB,EAAK6kB,MAAM1U,GAAK0+C,QAI5BzhD,EAAQ8Y,OAAO,OAAQ+P,GAGvBm4B,EAAMn4B,EAAK7oB,GACXA,EAAQ8Y,OAAO,QAAS+P,GAGxBxzB,EAAQwzB,EAAK7oB,GACbA,EAAQ8Y,OAAO,UAAW+P,GAGtB7oB,EAAQ0hD,eACRT,EAAYp4B,EAAK7oB,GAGd6oB,EAeX,SAAS84B,EAAqB3hD,GAC1B,MAAI,gBAAiBA,EACVA,EAAQihD,cAGZ,kBAAmBjhD,IAAUA,EAAQ0hD,cAwBhDr5D,EAAOD,QAAU,SAAkBygC,EAAK7oB,GACpC6oB,EAAMA,GAAO,CAAEr8B,KAAM,aAAcgG,IAAK,KAAM0L,SAAU,IAAIpF,GAG5D,IAQI6nB,EAEA9tB,EAEA+uD,EArCWnqC,EAyBXoqC,EAAkB,CAClB/oC,OAAkC,mBAHtC9Y,EAAUA,GAAW,IAGM8Y,OAAwB9Y,EAAQ8Y,OAAS,aAChE4oC,cAAeC,EAAqB3hD,GACpC8hD,gBAAiB31C,QAAQnM,EAAQ8hD,iBACjCC,QAAO/hD,EAAQ+hD,OAAQhB,EAAWiB,WAAWhiD,EAAQ+hD,QAErDZ,EAnDR,SAA2BnhD,GACvB,IAAIiiD,EAAW,aAAcjiD,EAAUA,EAAQiiD,SAAW,cAQ1D,MANwB,kBAAbA,EACPA,IAAWA,GAAW,cACF,gBAAbA,GAA2C,sBAAbA,IACrCA,GAAW,GAGRA,EA0CeC,CAAkBliD,GACpCwhD,GAAsB,EAEtB9qB,EAAS,IAAI59B,EAEbqpD,EAAW,EAGXniD,EAAQuE,QACRskB,EAAMtkB,EAAMskB,IAGC,eAAbA,EAAIr8B,MACJm0B,EAAQkI,EAAI3qB,SACZ2qB,EAAI3qB,SAAWw4B,IA7CJjf,EA+COoR,EAAlBlI,GA9CG,IAAI7nB,GAAO0B,WAAW,CACzBhO,KAAM,OACNgG,IAAK,KACLglB,QAAS,CACLhrB,KAAM,eACNgG,IAAK,KACL0L,UAAU,IAAIpF,GAAO0B,WAAW,CAC5BhO,KAAM,WACNgG,IAAK,KACL0L,UAAU,IAAIpF,GAAO0B,WAAW,CAC5BhO,KAAM,eACNgG,IAAK,KACLrJ,KAAM,SAIlBsuB,MAAOA,KAiCX,EAAG,CAyBC,GAvBA8pC,GADA1uD,EAAQquD,EAAUvgC,EAAOxU,QAAQg1C,KACb5D,WAAYiE,EAAqBW,IAAYN,GACjED,EAAgB/uD,EAAM0qD,WAAWr/C,SAE7BrL,EAAMyuD,UAED5qB,EAAO78B,WACR68B,EAAO/7B,OAAO7B,EAAKL,WAAW,CAC1BjM,KAAM,MACN3C,MAAO,QAIf6sC,EAAO/7B,OAAO7B,EAAKL,WAAW5F,EAAMyuD,UAG/BM,EAAc/nD,WACf68B,EAAO/7B,OAAO7B,EAAKL,WAAW,CAC1BjM,KAAM,MACN3C,MAAO,SAKf23D,IAAwBI,EAAc/nD,UAAW,CACjD,IAAIuoD,EAAWR,EAAc7nD,QAEP,WAAlBqoD,EAAS51D,MACS,WAAlB41D,EAASj5D,MAAuC,YAAlBi5D,EAASj5D,QACvCq4D,GAAsB,GAIN,gBAApBL,IACAA,GAAkB,GAGtBzqB,EAAOn7B,WAAWqmD,UACZjhC,EAAM9mB,WAEhB,MAAO,CACHgvB,IAAKA,K,cClMb,IAAIp+B,EAAiBnB,OAAOkB,UAAUC,eAEtC,SAAS43D,EAAS1xD,EAAM2xD,GACpB,IAAItyD,EAAM1G,OAAOY,OAAO,MAExB,IAAK4F,MAAMC,QAAQY,GACf,OAAO,KAGX,IAAK,IAAI/H,EAAI,EAAGA,EAAI+H,EAAK3D,OAAQpE,IAAK,CAClC,IAAIO,EAAOwH,EAAK/H,GAEZ05D,IACAn5D,EAAOA,EAAKkW,eAGhBrP,EAAI7G,IAAQ,EAGhB,OAAO6G,EAGX,SAASuyD,EAAUjvD,GACf,IAAKA,EACD,OAAO,KAGX,IAAIkvD,EAAOH,EAAS/uD,EAAKkvD,MAAM,GAC3B55C,EAAMy5C,EAAS/uD,EAAKsV,KACpB65C,EAAUJ,EAAS/uD,EAAKmvD,SAE5B,OAAa,OAATD,GACQ,OAAR55C,GACY,OAAZ65C,EACO,KAGJ,CACHD,KAAMA,EACN55C,IAAKA,EACL65C,QAASA,GAoCjBp6D,EAAOD,QAAU,CACb45D,WAjCJ,SAAoB1uD,GAChB,IAAIovD,GAAS,EAEb,GAAIpvD,EAAKovD,QAAU5yD,MAAMC,QAAQuD,EAAKovD,QAAS,CAC3CA,EAASp5D,OAAOY,OAAO,MAEvB,IAAK,IAAItB,EAAI,EAAGA,EAAI0K,EAAKovD,OAAO11D,OAAQpE,IAAK,CACzC,IAAI+H,EAAO2C,EAAKovD,OAAO95D,GAEvB,IAAK+H,IAASb,MAAMC,QAAQY,GACxB,MAAM,IAAI+G,MAAM,sBAGpB,IAAK,IAAIggC,EAAI,EAAGA,EAAI/mC,EAAK3D,OAAQ0qC,IAAK,CAClC,IAAIvuC,EAAOwH,EAAK+mC,GAEhB,GAAIjtC,EAAe1B,KAAK25D,EAAQv5D,GAC5B,MAAM,IAAIuO,MAAM,2CAA8CvO,GAGlEu5D,EAAOv5D,GAAQP,EAAI,IAK/B,MAAO,CACH+5D,UAAWJ,EAAUjvD,GACrBsvD,UAAWL,EAAUjvD,EAAKsvD,WAC1BF,OAAQA,M,gBCxEhB,IAAI3hC,EAAO,EAAQ,GAAYA,KAC3BiI,EAAW,CACXpW,OAAQ,EAAQ,KAChBlkB,QAAS,EAAQ,KACjBykB,YAAa,EAAQ,KACrB1U,IAAK,EAAQ,KACbsV,KAAM,EAAQ,KACdI,aAAc,EAAQ,KACtBhnB,WAAY,EAAQ,MAGxB9E,EAAOD,QAAU,SAASygC,EAAK7oB,GAC3B+gB,EAAK8H,EAAK,CACN/H,MAAO,SAASluB,EAAM6G,EAAM9I,GACpBq4B,EAASv+B,eAAemI,EAAKpG,OAC7Bw8B,EAASp2B,EAAKpG,MAAMzD,KAAK0I,KAAMmB,EAAM6G,EAAM9I,EAAMqP,Q,gBCfjE,IAAI6iD,EAAiB,EAAQ,GAAYr2C,SACrC,cAAEvO,GAAkB,EAAQ,GAEhC5V,EAAOD,QAAU,SAAqBwK,EAAM6G,EAAM9I,GAC9C,GAAIiC,EAAK6kB,QAEmB,OAApBhmB,KAAK8rD,aACL9rD,KAAK8rD,WAAWiE,qBAAsB,GAGtCvjD,EAAcrL,EAAK6kB,QACnB9mB,EAAKsK,OAAOxB,QAKpB,OAAQ7G,EAAKzJ,MACT,IAAK,UACD,GAAI8U,EAAcrL,EAAK4kB,SAEnB,YADA7mB,EAAKsK,OAAOxB,GAKhB,GAAIA,EAAK3I,KAEL,YADAH,EAAKsK,OAAOxB,GAIhB,MAEJ,IAAK,SACD,GAAwB,OAApBhI,KAAK8rD,aAAwB9rD,KAAK8rD,WAAWiE,oBAE7C,YADA7wD,EAAKsK,OAAOxB,GAMhB9I,EAAK2J,UAAUb,EAAK3I,MAAM,SAAS0Q,GAC/B,GAAkB,WAAdA,EAAKhV,MACa,WAAdgV,EAAKrY,MAAmC,YAAdqY,EAAKrY,KAOvC,OAFAsI,KAAKvJ,KAAKs5D,qBAAsB,EAChC7wD,EAAKsK,OAAOxB,IACL,IACRhI,MAEH,MAEJ,QACI,IAAItI,EAAO05D,EAAejwD,EAAKzJ,MAAMyjB,SACxB,cAATzjB,GACS,UAATA,GACS,aAATA,IAGI8U,EAAcrL,EAAK4kB,UAAYvZ,EAAcrL,EAAK6kB,SAClD9mB,EAAKsK,OAAOxB,M,cC7DhCpR,EAAOD,QAAU,SAAsBkL,EAAMmG,EAAM9I,GAC/CA,EAAKsK,OAAOxB,K,cCDhBpR,EAAOD,QAAU,SAAyBwK,EAAM6G,EAAM9I,GAC9CiC,EAAK/I,MAAMqU,UAAYtL,EAAK/I,MAAMqU,SAASrE,WAC3ClJ,EAAKsK,OAAOxB,K,gBCFpB,IAAI,mBAAE0E,GAAuB,EAAQ,GAErC9V,EAAOD,QAAU,SAAkBwK,EAAM6G,EAAM9I,IAEvCwN,EAAmB1M,KAAK8rD,WAAY5sD,IACpCwN,EAAmB1M,KAAKgmB,MAAO9mB,KAC/BA,EAAKsK,OAAOxB,K,gBCNpB,IAAIhP,EAAiBnB,OAAOkB,UAAUC,eAClCs2B,EAAO,EAAQ,GAAYA,MAC3B,cAAE9iB,GAAkB,EAAQ,GA0EhC5V,EAAOD,QAAU,SAAmBwK,EAAM6G,EAAM9I,EAAMqP,GAClD,GAAI/B,EAAcrL,EAAK4kB,UAAYvZ,EAAcrL,EAAK6kB,OAClD9mB,EAAKsK,OAAOxB,OADhB,CAKA,IAAIqpD,EAAY9iD,EAAQ+hD,OAEpBe,GAAsC,OAAxBA,EAAUH,WAA8C,OAAxBG,EAAUF,YAhFhE,SAASG,EAAYnC,EAAckC,GAqE/B,OApEAlC,EAAa1iD,SAASlE,MAAK,SAASiF,EAAUxF,EAAM9I,GAChD,IAAIqyD,GAAe,EAEnBjiC,EAAK9hB,GAAU,SAASrM,GAEpB,GAAsB,OAAlBnB,KAAKwN,UAAqBxN,KAAKwN,WAAa2hD,EAC5C,OAAQhuD,EAAKpG,MACT,IAAK,eAGqB,OAAlBiF,KAAKikB,UAA0D,QAArCjkB,KAAKikB,SAASvsB,KAAKkW,eACzC0jD,EAAYnwD,EAAMkwD,KAClBE,GAAe,GAGvB,MAEJ,IAAK,gBAC2B,OAAxBF,EAAUH,WACsB,OAAhCG,EAAUH,UAAUF,SACnBh4D,EAAe1B,KAAK+5D,EAAUH,UAAUF,QAAS7vD,EAAKzJ,QACvD65D,GAAe,GAES,OAAxBF,EAAUF,WACsB,OAAhCE,EAAUF,UAAUH,SACpBh4D,EAAe1B,KAAK+5D,EAAUF,UAAUH,QAAS7vD,EAAKzJ,QACtD65D,GAAe,GAEnB,MAEJ,IAAK,aAC2B,OAAxBF,EAAUH,WACkB,OAA5BG,EAAUH,UAAU/5C,KACnBne,EAAe1B,KAAK+5D,EAAUH,UAAU/5C,IAAKhW,EAAKzJ,QACnD65D,GAAe,GAES,OAAxBF,EAAUF,WACkB,OAA5BE,EAAUF,UAAUh6C,KACpBne,EAAe1B,KAAK+5D,EAAUF,UAAUh6C,IAAKhW,EAAKzJ,QAClD65D,GAAe,GAEnB,MAEJ,IAAK,eAG8C,MAA3CpwD,EAAKzJ,KAAKyW,OAAOhN,EAAKzJ,KAAK6D,OAAS,KACR,OAAxB81D,EAAUH,WACmB,OAA7BG,EAAUH,UAAUH,MACnB/3D,EAAe1B,KAAK+5D,EAAUH,UAAUH,KAAM5vD,EAAKzJ,KAAKkW,iBACzD2jD,GAAe,GAES,OAAxBF,EAAUF,WACmB,OAA7BE,EAAUF,UAAUJ,MACpB/3D,EAAe1B,KAAK+5D,EAAUF,UAAUJ,KAAM5vD,EAAKzJ,KAAKkW,iBACxD2jD,GAAe,QAQnCA,GACAryD,EAAKsK,OAAOxB,MAIbmnD,EAAa1iD,SAASrE,UAYzBkpD,CAAYnwD,EAAK4kB,QAASsrC,IAEtB7kD,EAAcrL,EAAK4kB,WACnB7mB,EAAKsK,OAAOxB,M,cCvFxBpR,EAAOD,QAAU,SAA2BwK,EAAM6G,EAAM9I,GAIpD,GAAa,MAHF8I,EAAKnG,KAAKnK,KAGrB,CAKA,IAAI85D,EAAWxpD,EAAKhK,MAAQgK,EAAKhK,KAAK6D,KAAK9G,KAC1B,eAAby2D,GACa,kBAAbA,GACa,sBAAbA,GACa,wBAAbA,GACa,0BAAbA,GACAtyD,EAAKsK,OAAOxB,M,gBChBpB,IAAI,mBAAE0E,GAAuB,EAAQ,GAErC,SAAS+kD,EAAetwD,GACpB,MAAqB,aAAdA,EAAKpG,MAAsC,MAAfoG,EAAK/I,OAAgC,MAAf+I,EAAK/I,MAGlExB,EAAOD,QAAU,SAAyBwK,EAAM6G,EAAM9I,GAEhC,OAAd8I,EAAKhK,MAA+B,OAAdgK,EAAK3I,KAM3BqN,EAAmB1M,KAAK8rD,WAAY5sD,IACpCwN,EAAmB1M,KAAKgmB,MAAO9mB,GAC/BA,EAAKsK,OAAOxB,GAIY,eAAxBA,EAAKhK,KAAK6D,KAAK9G,MAKf02D,EAAezpD,EAAK3I,KAAKwC,OAAS4vD,EAAezpD,EAAKhK,KAAK6D,QAC3D3C,EAAKsK,OAAOxB,GALZ9I,EAAKsK,OAAOxB,GAZZ9I,EAAKsK,OAAOxB,K,gBCTpB,IAAIsnB,EAAO,EAAQ,GAAYA,KAC3BiI,EAAW,CACXpW,OAAQ,EAAQ,KAChBE,kBAAmB,EAAQ,KAC3BsB,MAAO,EAAQ,KACf3nB,UAAW,EAAQ,KACnBC,WAAY,EAAQ,KACpBC,OAAQ,EAAQ,IAChBe,OAAQ,EAAQ,KAChBX,IAAK,EAAQ,KACbwR,SAAU,EAAQ,IAAW8W,YAC7B7W,WAAY,EAAQ,IAAWmX,cAC/B7oB,SAAU,EAAQ,IAAWyoB,kBAGjCltB,EAAOD,QAAU,SAASygC,GACtB9H,EAAK8H,EAAK,CACN/H,MAAO,SAASluB,EAAM6G,EAAM9I,GACpBq4B,EAASv+B,eAAemI,EAAKpG,OAC7Bw8B,EAASp2B,EAAKpG,MAAMzD,KAAK0I,KAAMmB,EAAM6G,EAAM9I,Q,gBCnB3D,IAAIkyD,EAAiB,EAAQ,GAAYr2C,QACrC22C,EAAoB,EAAQ,KAEhC96D,EAAOD,QAAU,SAASwK,GAEqB,cAAvCiwD,EAAejwD,EAAKzJ,MAAMyjB,UAC1Bu2C,EAAkBvwD,K,cCN1BvK,EAAOD,QAAU,SAASwK,GACtBA,EAAK6kB,MAAMvZ,SAASlE,MAAK,SAASwH,GAC9BA,EAAKgW,QAAQtZ,SAASlE,MAAK,SAASopD,GAChCA,EAAellD,SAASlE,MAAK,SAAS1G,EAAMmG,GACtB,eAAdnG,EAAK9G,MAAwC,QAAf8G,EAAKzJ,MACnC4P,EAAKnG,KAAO,CACR9G,KAAM,eACNgG,IAAKc,EAAKd,IACVrJ,KAAM,MAEW,iBAAdmK,EAAK9G,MAAyC,SAAd8G,EAAKnK,OAC5CsQ,EAAKnG,KAAO,CACR9G,KAAM,aACNgG,IAAKc,EAAKd,IACV3I,MAAO,iB,cCX/B,IAAIw5D,EAAY,+CACZC,EAAiB,sFAarBj7D,EAAOD,QAAU,SAASwK,GACtB,IAAI2wD,EAAY3wD,EAAK/I,MAErB,GAAK05D,GAAgC,WAAnBA,EAAU/2D,KAA5B,CAIA,IAAIg3D,EAAgBD,EAAU15D,MAAMwL,QAAQ,cAAe,OAlB/D,SAAoBxL,GAChB,GAAc,KAAVA,GAA0B,MAAVA,EAOpB,OAFAA,EAAQA,EAAMwL,QAAQguD,EAAW,MAEzBC,EAAe7rD,KAAK5N,IAWxB45D,CAAWD,KACX5wD,EAAK/I,MAAQ,CACT2C,KAAM,aACNgG,IAAK+wD,EAAU/wD,IACfrJ,KAAMq6D,O,gBC7BlB,IAAIE,EAAc,EAAQ,GAAYn5D,SAClCy+B,EAAW,CACX,KAAQ,EAAQ,KAChB,cAAe,EAAQ,KACvB,WAAc,EAAQ,KACtB,OAAU,EAAQ,IAClB,QAAW,EAAQ,KAGvB3gC,EAAOD,QAAU,SAAuBwK,GACpC,GAAKnB,KAAK8O,YAAV,CAIA,IAAIhW,EAAWm5D,EAAYjyD,KAAK8O,YAAYhW,UAExCy+B,EAASv+B,eAAeF,EAASqiB,WACjCoc,EAASz+B,EAASqiB,UAAUha,M,cCjBpCvK,EAAOD,QAAU,SAAsBwK,GACnC,IAAIjC,EAAOiC,EAAKsL,SAEhBvN,EAAKwJ,WAAU,SAASvH,EAAM6G,GAC1B,GAAkB,eAAd7G,EAAKpG,KACL,GAAkB,SAAdoG,EAAKzJ,KACLsQ,EAAKnG,KAAO,CACR9G,KAAM,SACNgG,IAAKI,EAAKJ,IACV3I,MAAO,YAER,GAAkB,WAAd+I,EAAKzJ,KAAmB,CAC/B,IAAI2H,EAAO2I,EAAK3I,KAEZA,GAA2B,aAAnBA,EAAKwC,KAAK9G,MAA2C,MAApBsE,EAAKwC,KAAKzJ,OACnD4H,KAAKwJ,OAAOnK,GAGhBW,KAAKwJ,OAAOxB,QACT,GAAkB,WAAd7G,EAAKzJ,KAAmB,CAC/B,IAAIsG,EAAOgK,EAAKhK,KAEXA,GAA2B,aAAnBA,EAAK6D,KAAK9G,MACnBiF,KAAKwJ,OAAOxB,OAO5B9I,EAAKqJ,MAAK,SAASpH,EAAM6G,GACH,eAAd7G,EAAKpG,OACAiN,EAAK3I,MAAS2I,EAAKhK,MAAgC,eAAxBgK,EAAKhK,KAAK6D,KAAK9G,MAC3CiF,KAAKwJ,OAAOxB,OAKpB9I,EAAKkJ,WACLlJ,EAAKgK,OAAOhK,EAAK8H,WAAW,CACxBjM,KAAM,aACNrD,KAAM,c,cCzClBd,EAAOD,QAAU,SAA4BwK,GACzC,IAAI/I,EAAQ+I,EAAKsL,SAASnF,KAAKzF,KAE/B,GAAmB,eAAfzJ,EAAM2C,KACN,OAAQ3C,EAAMV,MACV,IAAK,SACDyJ,EAAKsL,SAASnF,KAAKzF,KAAO,CACtB9G,KAAM,SACNgG,IAAK3I,EAAM2I,IACX3I,MAAO,OAEX,MACJ,IAAK,OACD+I,EAAKsL,SAASnF,KAAKzF,KAAO,CACtB9G,KAAM,SACNgG,IAAK3I,EAAM2I,IACX3I,MAAO,U,gBChB3B,IAAIiP,EAAO,EAAQ,GAAYA,KAE/BzQ,EAAOD,QAAU,SAA4BwK,GACzC,SAAS+wD,IACL,GAAIp9C,EAAOvZ,OACP,OAAOuZ,EAAOA,EAAOvZ,OAAS,GAAGR,KAIzC,SAASo3D,IACc,eAAfD,KACAp9C,EAAOrL,MAGNqL,EAAOvZ,QACRuZ,EAAOpL,QACH,CACI3O,KAAM,SACNgG,IAAK,KACL3I,MAAO,KAEX,CACI2C,KAAM,aACN3C,MAAO,KAEX,CACI2C,KAAM,SACNgG,IAAK,KACL3I,MAAO,MAKnBg6D,EAASxzD,KAAKG,MAAMqzD,EAAUt9C,GAE9BA,EAAS,GAGb,IAAIs9C,EAAW,GACXt9C,EAAS,GAEb3T,EAAKsL,SAASlE,MAAK,SAASpH,GACxB,GAAkB,aAAdA,EAAKpG,MAAsC,MAAfoG,EAAK/I,MAGjC,OAFA+5D,SACAC,EAASxzD,KAAKuC,IAKA,eAAdA,EAAKpG,MACa,gBAAdoG,EAAKzJ,MACS,SAAdyJ,EAAKzJ,MACS,WAAdyJ,EAAKzJ,MACS,WAAdyJ,EAAKzJ,QAMK,eAAdyJ,EAAKpG,MAA2B+Z,EAAOvZ,QAAyB,eAAf22D,MAIrDp9C,EAAOlW,KAAKuC,MAGhBgxD,IACAhxD,EAAKsL,UAAW,IAAIpF,GAAOU,UAAUqqD,K,gBCnEzC,IAAIllD,EAAa,EAAQ,IAAYE,KACjCilD,EAAc,CAEd,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EAGN,IAAM,EACN,IAAM,EACN,IAAM,EACN,KAAO,EAGP,IAAM,EACN,IAAM,EACN,MAAQ,EACR,MAAQ,EACR,IAAM,GAGVz7D,EAAOD,QAAU,SAA2BwK,EAAM6G,GAC9C,IAAI5P,EAAQ8U,EAAW/L,EAAK/I,MAAO4P,GAInC,GAFA7G,EAAK/I,MAAQA,EAEC,MAAVA,GAAsC,OAArB4H,KAAK8O,aAA+C,OAAvB9O,KAAK+rD,cAAwB,CAC3E,IAAI7N,EAAO/8C,EAAK+8C,KAAKtwC,cAGrB,IAAKykD,EAAYr5D,eAAeklD,GAC5B,OAKJ,GAAkC,aAA9Bl+C,KAAK8O,YAAYhW,UACa,SAA9BkH,KAAK8O,YAAYhW,SACjB,OAIJ,GAAIkH,KAAKikB,UAAmC,SAAvBjkB,KAAKikB,SAASvsB,KAC/B,OAGJsQ,EAAKnG,KAAO,CACR9G,KAAM,SACNgG,IAAKI,EAAKJ,IACV3I,MAAOA,M,gBCpDnB,IAAIwqB,EAAQ,EAAQ,GAAYA,MAC5B1V,EAAa,EAAQ,IAAYE,KACjC+jD,EAAY,IAAI58C,IAAI,CAEpB,QACA,YACA,YACA,SACA,aACA,aAKA,OACA,aAGJ3d,EAAOD,QAAU,SAA4BwK,EAAM6G,GAC/C7G,EAAK/I,MAAQ8U,EAAW/L,EAAK/I,MAAO4P,GAEjB,MAAf7G,EAAK/I,OAAiB4H,KAAK8O,cAAgBqiD,EAAUv9C,IAAI5T,KAAK8O,YAAYhW,YAE1EkP,EAAKnG,KAAO,CACR9G,KAAM,SACNgG,IAAKI,EAAKJ,IACV3I,MAAO+I,EAAK/I,OAIXwqB,EAAMuB,iBAAiBnkB,KAAK8O,aAAasV,OAAOpc,EAAKnG,KAAM,YAE5DmG,EAAKnG,KAAOV,M,cChCxBvK,EAAOD,QAAU,SAASwK,GACtB,IAAI/I,EAAQ+I,EAAK/I,MAOjBA,EAAQA,EAAMwL,QAAQ,qBAAsB,IAE5CzC,EAAK/I,MAAQA,I,cCVjB,IAGIk6D,EAAW,IAAI7uD,OAAO,4GAAgE,KAE1F7M,EAAOD,QAAU,SAASwK,GACtB,IAAI/I,EAAQ+I,EAAK/I,MAEjB,GAAmB,WAAfA,EAAM2C,KAAV,CAIA,IAAIw3D,EAAQn6D,EAAMA,MAAM,GACpB8e,EAAM9e,EAAMA,MAAMgjB,OAAO,EAAGhjB,EAAMA,MAAMmD,OAAS,GAGrD2b,EAAMA,EAAItT,QAAQ,QAAS,KAIvB0uD,EAAStsD,KAAKkR,GACd/V,EAAK/I,MAAQ,CACT2C,KAAM,MACNgG,IAAKI,EAAK/I,MAAM2I,IAChB3I,MAAO8e,GAMX/V,EAAK/I,MAAMA,OAA8B,IAAtB8e,EAAIha,QAAQ,KAAc,IAAMga,EAAM,IAAMq7C,EAAQr7C,EAAMq7C,K,gBC9BrF,IAAIC,EAAU,EAAQ,KAClBC,EAAc,EAAQ,KACtBC,EAAsB,EAAQ,KAC9BC,EAAiB,EAAQ,KACzBC,EAAoB,EAAQ,KAC5BC,EAAgB,EAAQ,KACxBC,EAAe,EAAQ,KACvBC,EAAkB,EAAQ,KAE9Bn8D,EAAOD,QAAU,SAASygC,EAAK7oB,GAE3B,IAAIykD,EAAUR,EAAQp7B,EAAK7oB,GAC3BA,EAAQ8Y,OAAO,UAAW+P,GAE1Bq7B,EAAYr7B,EAAK7oB,GACjBA,EAAQ8Y,OAAO,cAAe+P,GAE9Bs7B,EAAoBt7B,GACpB7oB,EAAQ8Y,OAAO,sBAAuB+P,GAEtCu7B,EAAev7B,GACf7oB,EAAQ8Y,OAAO,iBAAkB+P,GAEjCw7B,EAAkBx7B,EAAK47B,GACvBzkD,EAAQ8Y,OAAO,oBAAqB+P,GAEpCy7B,EAAcz7B,GACd7oB,EAAQ8Y,OAAO,gBAAiB+P,GAEhC07B,EAAa17B,GACb7oB,EAAQ8Y,OAAO,eAAgB+P,GAE/B27B,EAAgB37B,GAChB7oB,EAAQ8Y,OAAO,kBAAmB+P,K,gBCjCtC,IAAIg6B,EAAiB,EAAQ,GAAYr2C,QACrCuU,EAAO,EAAQ,GAAYA,KAC3BpuB,EAAW,EAAQ,GAAYA,SAC/B+xD,EAA2B,EAAQ,KACnCC,EAAkB,EAAQ,KAE9Bt8D,EAAOD,QAAU,SAAiBygC,EAAK7oB,GACnC,IAAI4kD,EAAkBF,IAgCtB,OA9BA3jC,EAAK8H,EAAK,CACNolB,MAAO,OACPptB,MAAO,SAAqBjuB,GACxBA,EAAK6kB,MAAMvZ,SAASlE,KAAK4qD,GACzBD,EAAgB/xD,EAAMoN,EAAQ+hD,UAItChhC,EAAK8H,EAAK,CACNolB,MAAO,SACPptB,MAAO,SAASjuB,GACRA,EAAK4kB,UACL5kB,EAAK4kB,QAAQzU,GAAK,KAClBnQ,EAAK4kB,QAAQzU,GAAKpQ,EAASC,EAAK4kB,UAKO,cAAvCqrC,EAAejwD,EAAKzJ,MAAMyjB,WAC1Bha,EAAK6kB,MAAMotC,iBAAkB,EAE7BjyD,EAAK6kB,MAAMvZ,SAASlE,MAAK,SAASwH,GAC9BA,EAAKgW,QAAQtZ,SAASlE,MAAK,SAASopD,GAChCA,EAAehtC,cAAgBgtC,EAAergD,aAO3D,CACHxC,YAAaqkD,K,gBCxCrB,IAAIjyD,EAAW,EAAQ,GAAYA,SAEnC,SAASmyD,IACLrzD,KAAKgwD,KAAO,EACZhwD,KAAKzB,IAAM1G,OAAOY,OAAO,MAG7B46D,EAAMt6D,UAAU0c,QAAU,SAASpS,GAC/B,IAAIlE,EAAQa,KAAKzB,IAAI8E,GAOrB,OALKlE,IACDA,IAAUa,KAAKgwD,KACfhwD,KAAKzB,IAAI8E,GAAOlE,GAGbA,GAGXvI,EAAOD,QAAU,WACb,IAAIwgB,EAAM,IAAIk8C,EAEd,OAAO,SAAyBlyD,GAC5B,IAAImQ,EAAKpQ,EAASC,GAMlB,OAJAA,EAAKmQ,GAAK6F,EAAI1B,QAAQnE,GACtBnQ,EAAK5F,OAAS+V,EAAG/V,OACjB4F,EAAKokB,YAAc,KAEZpkB,K,gBC5Bf,IAAID,EAAW,EAAQ,GAAYA,SAC/BoyD,EAAc,EAAQ,KAEtBC,EAA0B,CAC1B,gBAAgB,EAChB,cAAc,EACd,OAAS,EACT,QAAU,GAEVC,EAAyB,CACzB,MAAQ,EACR,SAAW,EACX,OAAS,EACT,QAAU,EACV,gBAAgB,EAChB,cAAc,EACd,OAAS,EACT,QAAU,GAGd58D,EAAOD,QAAU,SAAgBwK,EAAMkwD,GACnC,IAAIoC,EAAU57D,OAAOY,OAAO,MACxBi7D,GAAY,EAEhBvyD,EAAK4kB,QAAQtZ,SAASlE,MAAK,SAASorD,GAChC,IAAIC,EAAU,IACVvP,EAAQ,EAEZsP,EAAelnD,SAASlE,MAAK,SAASpH,GAClC,OAAQA,EAAKpG,MACT,IAAK,gBACD,GAAIs2D,GAAaA,EAAUJ,OAAQ,CAC/B,IAAI4C,EAAaxC,EAAUJ,OAAO9vD,EAAKzJ,OAAS,EAEhD,GAAc,IAAV2sD,GAAewP,IAAexP,EAC9B,MAAM,IAAIp+C,MAAM,qDAAwD/E,EAASyyD,IAGrFtP,EAAQwP,EAEZ,MAEJ,IAAK,sBACD,IAAIn8D,EAAOyJ,EAAKzJ,KAAKkW,cAEhB4lD,EAAuBx6D,eAAetB,KACvC+7D,EAAQ/7D,IAAQ,EAChBg8D,GAAY,GAEhB,MAEJ,IAAK,wBACGh8D,EAAOyJ,EAAKzJ,KAAKkW,cAEhB2lD,EAAwBv6D,eAAetB,KACxC+7D,EAAQ/7D,IAAQ,EAChBg8D,GAAY,GAEhB,MAEJ,IAAK,eACDE,EAAUzyD,EAAKzJ,KAAKkW,cACpB,MAEJ,IAAK,oBACGzM,EAAK2S,QACL2/C,EAAQ,IAAMtyD,EAAK2S,MAAMlG,cAAgB,MAAO,EAChD8lD,GAAY,GAEhB,MAEJ,IAAK,aACL,IAAK,aACDE,EAAU,QAKtBD,EAAehvC,cAAgB2uC,EAAYK,GAAgB7hD,WAC3D6hD,EAAeriD,GAAK,KACpBqiD,EAAeriD,GAAKpQ,EAASyyD,GAEzBtP,IACAsP,EAAehvC,eAAiB,IAAM0/B,GAG1B,MAAZuP,IACAD,EAAehvC,eAAiB,IAAMivC,MAK9CzyD,EAAK2yD,gBAAkBJ,GAAa77D,OAAOoG,KAAKw1D,GAASr2C,OAAOhP,KAAK,O,cC5FzExX,EAAOD,QAAU,SAAqBg9D,GAClC,IAAII,EAAI,EACJC,EAAI,EACJC,EAAI,EAmDR,OAjDAN,EAAelnD,SAASlE,MAAK,SAAS+mB,EAAKnuB,GACvC,OAAQA,EAAKpG,MACT,IAAK,eACL,IAAK,WACDoG,EAAKsL,SAASlE,KAAK+mB,GACnB,MAEJ,IAAK,aACDykC,IACA,MAEJ,IAAK,gBACL,IAAK,oBACDC,IACA,MAEJ,IAAK,sBACD,OAAQ7yD,EAAKzJ,KAAKkW,eACd,IAAK,MACDzM,EAAKsL,SAASlE,KAAK+mB,GACnB,MAEJ,IAAK,SACL,IAAK,QACL,IAAK,aACL,IAAK,eACD2kC,IACA,MAGJ,QACID,IAER,MAEJ,IAAK,wBACDC,IACA,MAEJ,IAAK,eAE8C,MAA3C9yD,EAAKzJ,KAAKyW,OAAOhN,EAAKzJ,KAAK6D,OAAS,IACpC04D,QAOT,CAACF,EAAGC,EAAGC,K,gBCtDlB,IAAI5sD,EAAO,EAAQ,GAAYA,KAC3B+pD,EAAiB,EAAQ,GAAYr2C,QACrC/hB,EAAiBnB,OAAOkB,UAAUC,eAClCs2B,EAAO,EAAQ,GAAYA,KAE/B,SAAS4kC,EAAa31D,EAAKyJ,EAAM9I,EAAMi1D,GACnC,IAAIhzD,EAAO6G,EAAKnG,KACZnK,EAAO05D,EAAejwD,EAAKzJ,MAAMyjB,SACjC7J,EAAKnQ,EAAKzJ,KAAKkW,cAAgB,KAAOzM,EAAK4kB,QAAU5kB,EAAK4kB,QAAQzU,GAAK,MAEtEtY,EAAe1B,KAAKiH,EAAK7G,KAC1B6G,EAAI7G,GAAQG,OAAOY,OAAO,OAG1B07D,UACO51D,EAAI7G,GAAM4Z,GAGhBtY,EAAe1B,KAAKiH,EAAI7G,GAAO4Z,KAChC/S,EAAI7G,GAAM4Z,GAAM,IAAIjK,GAGxB9I,EAAI7G,GAAM4Z,GAAIjI,OAAOnK,EAAKsK,OAAOxB,IA8CrC,SAASosD,EAAYjzD,GACjB,MAAqB,WAAdA,EAAKpG,MAAmC,UAAdoG,EAAKzJ,KAG1C,SAAS28D,EAAclzD,EAAM6G,EAAM9I,GAC/B,GAAKk1D,EAAYjzD,GAAjB,CAIA,IAAI9B,EAAO2I,EAAK3I,MAAQ2I,EAAK3I,KAAKwC,KAE7BxC,GAAS+0D,EAAY/0D,IAKtB8B,EAAK4kB,SACL1mB,EAAK0mB,SACL5kB,EAAK4kB,QAAQzU,KAAOjS,EAAK0mB,QAAQzU,KACjCjS,EAAK2mB,MAAMvZ,SAAS3C,WAAW3I,EAAK6kB,MAAMvZ,UAC1CvN,EAAKsK,OAAOxB,KAUpBpR,EAAOD,QAAU,SAAsBygC,EAAK7oB,IAzE5C,SAAyB6oB,EAAK7oB,GAC1B,IAAI+lD,EAAYz8D,OAAOY,OAAO,MAC1B87D,EAAiB,KA+BrB,IAAK,IAAIhZ,KA7BTnkB,EAAI3qB,SAASlE,MAAK,SAASpH,EAAM6G,EAAM9I,GACnC,GAAkB,WAAdiC,EAAKpG,KAAmB,CACxB,IAAIrD,EAAO05D,EAAejwD,EAAKzJ,MAAMyjB,SAErC,OAAQzjB,GACJ,IAAK,YAED,YADAw8D,EAAaI,EAAWtsD,EAAM9I,GAAM,GAGxC,IAAK,QACD,GAAIqP,EAAQ8hD,gBAER,YADA6D,EAAaI,EAAWtsD,EAAM9I,GAAM,GAMzB,OAAnBq1D,GACS,YAAT78D,GACS,WAATA,IACA68D,EAAiBvsD,QAGE,OAAnBusD,IACAA,EAAiBvsD,MAKVssD,EACf,IAAK,IAAIhjD,KAAMgjD,EAAU/Y,GACrBnkB,EAAI3qB,SAAS5C,WACTyqD,EAAU/Y,GAAQjqC,GACP,UAAXiqC,EAAqB,KAAOgZ,GAqCxCC,CAAgBp9B,EAAK7oB,GAErB+gB,EAAK8H,EAAK,CACNolB,MAAO,SACP5T,SAAS,EACTxZ,MAAOilC,M,gBCxGf,IAAI/kC,EAAO,EAAQ,GAAYA,KAC3Bv1B,EAAQ,EAAQ,IAEpB,SAAS06D,EAAYtzD,EAAM6G,EAAM9I,GAC7B,IAAIw1D,EAAYvzD,EAAK4kB,QAAQtZ,SACzB2D,EAAejP,EAAK6kB,MAAMvZ,SAE9BvN,EAAK2J,UAAUb,EAAK3I,MAAM,SAASA,GAE/B,GAAkB,SAAdA,EAAKtE,KACL,OAAOhB,EAAM+rB,iBAAiBxuB,KAAKo9D,EAAWr1D,GAGlD,IAAIs1D,EAAgBt1D,EAAK0mB,QAAQtZ,SAC7BmoD,EAAmBv1D,EAAK2mB,MAAMvZ,SAGlC,GAAItL,EAAK2yD,kBAAoBz0D,EAAKy0D,gBAAiB,CAE/C,GAAI/5D,EAAM6qB,iBAAiB+vC,EAAeD,GAGtC,OAFAE,EAAiB9qD,WAAWsG,GAC5BlR,EAAKsK,OAAOxB,IACL,EAIX,GAAIjO,EAAM8qB,oBAAoBzU,EAAcwkD,GAGxC,OAFA76D,EAAM0rB,aAAakvC,EAAeD,GAClCx1D,EAAKsK,OAAOxB,IACL,EAKf,OAAOjO,EAAMuqB,oBAAoBowC,EAAWC,MAOpD/9D,EAAOD,QAAU,SAA0BygC,GACvC9H,EAAK8H,EAAK,CACNolB,MAAO,OACPptB,MAAOqlC,M,gBC5Cf,IAAIptD,EAAO,EAAQ,GAAYA,KAC3BioB,EAAO,EAAQ,GAAYA,KAE/B,SAASmlC,EAAYtzD,EAAM6G,EAAM9I,GAU7B,IATA,IAAIw1D,EAAYvzD,EAAK4kB,QAAQtZ,SAStBioD,EAAUptD,OAASotD,EAAUntD,MAAM,CACtC,IAAIstD,EAAe,IAAIxtD,EACvBwtD,EAAa3rD,OAAOwrD,EAAUlrD,OAAOkrD,EAAUptD,OAE/CpI,EAAKgK,OAAOhK,EAAK8H,WAAW,CACxBjM,KAAM,OACNgG,IAAKI,EAAKJ,IACVglB,QAAS,CACLhrB,KAAM,eACNgG,IAAKI,EAAK4kB,QAAQhlB,IAClB0L,SAAUooD,GAEd7uC,MAAO,CACHjrB,KAAM,QACNgG,IAAKI,EAAK6kB,MAAMjlB,IAChB0L,SAAUtL,EAAK6kB,MAAMvZ,SAAStK,QAElC2xD,gBAAiB3yD,EAAK2yD,kBACtB9rD,IAIZpR,EAAOD,QAAU,SAAqBygC,GAClC9H,EAAK8H,EAAK,CACNolB,MAAO,OACP5T,SAAS,EACTxZ,MAAOqlC,M,gBCvCf,IAAIptD,EAAO,EAAQ,GAAYA,KAC3BnG,EAAW,EAAQ,GAAYA,SAC/BouB,EAAO,EAAQ,GAAYA,KAQ3BwlC,EAAQ,CAAC,MAAO,QAAS,SAAU,QACnCC,EAAO,CACP,aAAc,MACd,eAAgB,QAChB,gBAAiB,SACjB,cAAe,OAEf,cAAe,MACf,gBAAiB,QACjB,iBAAkB,SAClB,eAAgB,OAEhB,mBAAoB,MACpB,qBAAsB,QACtB,sBAAuB,SACvB,oBAAqB,OACrB,mBAAoB,MACpB,qBAAsB,QACtB,sBAAuB,SACvB,oBAAqB,OACrB,mBAAoB,MACpB,qBAAsB,QACtB,sBAAuB,SACvB,oBAAqB,QAErBC,EAAgB,CAChB,OAAU,SACV,aAAc,SACd,eAAgB,SAChB,gBAAiB,SACjB,cAAe,SAEf,QAAW,UACX,cAAe,UACf,gBAAiB,UACjB,iBAAkB,UAClB,eAAgB,UAEhB,eAAgB,eAChB,mBAAoB,eACpB,qBAAsB,eACtB,sBAAuB,eACvB,oBAAqB,eACrB,eAAgB,eAChB,mBAAoB,eACpB,qBAAsB,eACtB,sBAAuB,eACvB,oBAAqB,eACrB,eAAgB,eAChB,mBAAoB,eACpB,qBAAsB,eACtB,sBAAuB,eACvB,oBAAqB,gBAGzB,SAASC,EAAKv9D,GACVsI,KAAKtI,KAAOA,EACZsI,KAAKe,IAAM,KACXf,KAAKk1D,YAASzsD,EACdzI,KAAKm1D,MAAQ,CACT,IAAO,KACP,MAAS,KACT,OAAU,KACV,KAAQ,MAiQhB,SAASV,EAAY1kD,EAAMqlD,EAAQC,EAAmBC,GAClD,IAAIllD,EAAeL,EAAKiW,MAAMvZ,SAC1Be,EAAWuC,EAAKgW,QAAQtZ,SAASpE,QAAQiJ,GA0C7C,OAxCAvB,EAAKiW,MAAMvZ,SAAS/D,WAAU,SAASoG,EAAa9G,GAChD,IAAIlP,EAAWgW,EAAYhW,SAE3B,GAAKk8D,EAAch8D,eAAeF,GAAlC,CAIA,IACIy8D,EACAC,EAFA98D,EAAMs8D,EAAcl8D,GAInBw8D,GAAqB9nD,IAAa8nD,GAC/B58D,KAAO08D,IACPI,EAtVH,EAuVGD,EAAYH,EAAO18D,IAItB68D,GAAcA,EAAU/gD,IAAI1b,EAAUgW,KACvC0mD,EA7VE,GA8VFD,EAAY,IAAIN,EAAKv8D,IAGN8b,IAAI1b,EAAUgW,KAMjCsmD,EAAO18D,GAAO68D,EACdF,EAAkBz2D,KAAK,CACnB42D,UAAWA,EACXxvC,MAAO5V,EACPpI,KAAMA,EACNutD,UAAWA,IAGfD,EAAoB9nD,GAbZ8nD,EAAoB,SAgBzBA,EAzSXL,EAAKl8D,UAAU08D,iBAAmB,SAAS3mD,EAAa0J,GACpD,IAAIijB,EAAS,GACTy5B,EAAS,GA6Db,QA5DmBpmD,EAAY1W,MAAMqU,SAAS3D,MAAK,SAASmH,GACxD,IAAIylD,GAAU,EAEd,OAAQzlD,EAAMlV,MACV,IAAK,aACD,OAAQkV,EAAMvY,MACV,IAAK,MACL,IAAK,MAED,YADAw9D,EAASjlD,EAAMvY,MAGnB,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,SACDg+D,EAAUzlD,EAAMvY,KAGxB,MAEJ,IAAK,YACD,OAAQuY,EAAMiuC,MAEV,IAAK,MAIL,IAAK,KACL,IAAK,KACL,IAAK,OACL,IAAK,OACL,IAAK,KACDwX,EAAUzlD,EAAMiuC,KAGxB,MAEJ,IAAK,WACL,IAAK,SACL,IAAK,aACD,MAEJ,IAAK,WACDwX,EAAUzlD,EAAMvY,KAChB,MAEJ,IAAK,aACD,OAAO,EAEX,QACI,OAAO,EAGf+jC,EAAO78B,KAAK,CACRuC,KAAM8O,EACNylD,QAASA,EACTlwC,UAAW1W,EAAY0W,gBAIXiW,EAAOlgC,OAASid,MAIT,iBAAhBxY,KAAKk1D,QAAuBl1D,KAAKk1D,SAAWA,KAIvDl1D,KAAKk1D,OAASA,EAEPz5B,KAGXw5B,EAAKl8D,UAAU48D,YAAc,SAASC,EAAMx9D,GACxC,IAAImuC,EAAevmC,KAAKm1D,MAAMS,GAE9B,OAAQrvB,GAAiBnuC,EAAMotB,YAAc+gB,EAAa/gB,WAG9DyvC,EAAKl8D,UAAUyb,IAAM,SAAS9c,EAAMoX,GAwEhC,QAvEA,WACI,IAAIqmD,EAAQn1D,KAAKm1D,MACbS,EAAOb,EAAKr9D,GAEhB,GAAIk+D,EAAM,CACN,GAAIA,KAAQT,IAAU,EAClB,OAAO,EAKX,KAFI15B,EAASz7B,KAAKy1D,iBAAiB3mD,EAAa,MAEhC2sB,EAAOlgC,OACnB,OAAO,EAIX,IAAK,IAAI7C,KAAOy8D,EACZ,GAAmB,OAAfA,EAAMz8D,IAAiBy8D,EAAMz8D,GAAKg9D,UAAYj6B,EAAO,GAAGi6B,QACxD,OAAO,EAIf,OAAK11D,KAAK21D,YAAYC,EAAMn6B,EAAO,MAInC05B,EAAMS,GAAQn6B,EAAO,IACd,GACJ,GAAI/jC,IAASsI,KAAKtI,KAAM,CAC3B,IAAI+jC,EAEJ,KAFIA,EAASz7B,KAAKy1D,iBAAiB3mD,EAAa,MAEhC2sB,EAAOlgC,OACnB,OAAO,EAGX,OAAQkgC,EAAOlgC,QACX,KAAK,EACDkgC,EA9LR,GA8LwBA,EA/L1B,GAgMUA,EA9LP,GA8LwBA,EAhM3B,GAiMUA,EA9LT,GA8LwBA,EAjMzB,GAkMU,MAEJ,KAAK,EACDA,EAnMP,GAmMwBA,EArM3B,GAsMUA,EAnMT,GAmMwBA,EArMvB,GAsMQ,MAEJ,KAAK,EACDA,EAvMT,GAuMwBA,EAzMvB,GA8MA,IAAK,IAAItkC,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,IAAIuB,KAAOy8D,EACZ,GAAmB,OAAfA,EAAMz8D,IAAiBy8D,EAAMz8D,GAAKg9D,UAAYj6B,EAAOtkC,GAAGu+D,QACxD,OAAO,EAKnB,IAASv+D,EAAI,EAAGA,EAAI,EAAGA,IACf6I,KAAK21D,YAAYb,EAAM39D,GAAIskC,EAAOtkC,MAClCg+D,EAAML,EAAM39D,IAAMskC,EAAOtkC,IAIjC,OAAO,IAIGG,KAAK0I,QAalBA,KAAKe,MACNf,KAAKe,IAAM+N,EAAY/N,MAGpB,IAGXk0D,EAAKl8D,UAAU88D,eAAiB,WAC5B,IAAIC,EAAM91D,KAAKm1D,MAAMW,IACjBvH,EAAQvuD,KAAKm1D,MAAM5G,MACnBwH,EAAS/1D,KAAKm1D,MAAMY,OACpBzH,EAAOtuD,KAAKm1D,MAAM7G,KAEtB,GAAIwH,GAAOvH,GAASwH,GAAUzH,EAAM,CAChC,IAAI9oC,EACAswC,EAAItwC,UACJ+oC,EAAM/oC,UACNuwC,EAAOvwC,UACP8oC,EAAK9oC,UAET,OAAqB,IAAdA,GAAiC,IAAdA,EAG9B,OAAO,GAGXyvC,EAAKl8D,UAAUi9D,SAAW,WACtB,IAAI9tD,EAAS,IAAIb,EACb8tD,EAAQn1D,KAAKm1D,MACb15B,EAAS,CACT05B,EAAMW,IACNX,EAAM5G,MACN4G,EAAMY,OACNZ,EAAM7G,MAEN2H,EAAe,CACf/0D,EAASi0D,EAAMW,IAAI30D,MACnBD,EAASi0D,EAAM5G,MAAMptD,MACrBD,EAASi0D,EAAMY,OAAO50D,MACtBD,EAASi0D,EAAM7G,KAAKntD,OAGpB80D,EArRG,KAqRoBA,EAvRnB,KAwRJx6B,EAAOhyB,MACHwsD,EAxRC,KAwRwBA,EA1R3B,KA2REx6B,EAAOhyB,MACHwsD,EA3RJ,KA2R4BA,EA5R9B,IA6RMx6B,EAAOhyB,QAKnB,IAAK,IAAItS,EAAI,EAAGA,EAAIskC,EAAOlgC,OAAQpE,IAC3BA,GACA+Q,EAAOa,WAAW,CAAEhO,KAAM,aAAc3C,MAAO,MAGnD8P,EAAOa,WAAW0yB,EAAOtkC,GAAGgK,MAYhC,OATInB,KAAKk1D,SACLhtD,EAAOa,WAAW,CAAEhO,KAAM,aAAc3C,MAAO,MAC/C8P,EAAOa,WAAW,CACdhO,KAAM,aACNgG,IAAK,KACLrJ,KAAMsI,KAAKk1D,UAIZ,CACHn6D,KAAM,QACNgG,IAAK,KACL0L,SAAUvE,IAIlB+sD,EAAKl8D,UAAUm9D,eAAiB,WAC5B,MAAO,CACHn7D,KAAM,cACNgG,IAAKf,KAAKe,IACVykB,UAAWxlB,KAAKm1D,MAAMW,IAAItwC,UAC1B1sB,SAAUkH,KAAKtI,KACfU,MAAO4H,KAAKg2D,aAmEpBp/D,EAAOD,QAAU,SAAuBygC,EAAK47B,GACzC,IAAImD,EAAgB,GAChBd,EAAoB,GAExB/lC,EAAK8H,EAAK,CACNolB,MAAO,OACP5T,SAAS,EACTxZ,MAAO,SAASjuB,GACZ,IAEIi1D,EACAhB,EAHAtJ,EAAa9rD,KAAKgmB,OAAShmB,KAAK8rD,WAChCuK,GAAUl1D,EAAK2yD,iBAAmB,IAAM,IAAM3yD,EAAK4kB,QAAQtZ,SAASpE,QAAQiJ,GAI3E6kD,EAAcn9D,eAAe8yD,EAAWx6C,IAMzC8kD,EAAUD,EAAcrK,EAAWx6C,KALnC8kD,EAAU,CACNd,kBAAmB,MAEvBa,EAAcrK,EAAWx6C,IAAM8kD,GAK/BA,EAAQp9D,eAAeq9D,GACvBjB,EAASgB,EAAQC,IAEjBjB,EAAS,GACTgB,EAAQC,GAAUjB,GAGtBgB,EAAQd,kBAAoBb,EAAYn9D,KAAK0I,KAAMmB,EAAMi0D,EAAQC,EAAmBe,EAAQd,sBA7CxG,SAA2BD,EAAmBlC,GAC1CkC,EAAkBn3D,SAAQ,SAAS8J,GAC/B,IAAIutD,EAAYvtD,EAAKutD,UAEhBA,EAAUM,mBAzXT,IA6XF7tD,EAAKwtD,UACLxtD,EAAKA,KAAKnG,KAAOsxD,EAAgBoC,EAAUW,kBAE3CluD,EAAKge,MAAMxc,OAAOxB,EAAKA,UAsC/BsuD,CAAkBjB,EAAmBrC,EAAQlkD,e,gBC1ajD,IAAIynD,EAAkB,EAAQ,GAAYz9D,SACtCs4D,EAAiB,EAAQ,GAAYr2C,QACrCuU,EAAO,EAAQ,GAAYA,KAC3BpuB,EAAW,EAAQ,GAAYA,SAC/Bs1D,EAAgB,EAChBC,EAAkB,CAClB,IAAO,GAGPC,EAAiB,CAEjB,QAAW,qDAEX,aAAc,2CAGdC,EAAoB,CACpB,OAAQ,YAAa,UAAW,OAAQ,OAAQ,OAAQ,OACxD,WAAY,WAAY,WAAY,WACpC,YAAa,YAAa,YAAa,YACvC,UAAW,WAAY,cAAe,UAAW,gBAAiB,aAClE,aAAc,cAGdC,EAAsB,CACtB,SAAU,WAAY,WAAY,SAGlCC,EAAiB,CACjB,eAAgB,CAAC,UACjB,eAAgB,CAAC,UACjB,eAAgB,CAAC,UACjB,aAAc,CAAC,UACf,eAAgB,CAAC,UACjB,gBAAiB,CAAC,UAClB,cAAe,CAAC,UAChB,mBAAoB,CAAC,aAAc,eAAgB,UACnD,qBAAsB,CAAC,eAAgB,eAAgB,UACvD,sBAAuB,CAAC,gBAAiB,eAAgB,UACzD,oBAAqB,CAAC,cAAe,eAAgB,UACrD,mBAAoB,CAAC,aAAc,eAAgB,UACnD,qBAAsB,CAAC,eAAgB,eAAgB,UACvD,sBAAuB,CAAC,gBAAiB,eAAgB,UACzD,oBAAqB,CAAC,cAAe,eAAgB,UACrD,mBAAoB,CAAC,aAAc,eAAgB,UACnD,qBAAsB,CAAC,eAAgB,eAAgB,UACvD,sBAAuB,CAAC,gBAAiB,eAAgB,UACzD,oBAAqB,CAAC,cAAe,eAAgB,UACrD,aAAc,CAAC,UACf,eAAgB,CAAC,UACjB,gBAAiB,CAAC,UAClB,cAAe,CAAC,UAChB,cAAe,CAAC,WAChB,gBAAiB,CAAC,WAClB,iBAAkB,CAAC,WACnB,eAAgB,CAAC,WACjB,aAAc,CAAC,QACf,eAAgB,CAAC,QACjB,cAAe,CAAC,QAChB,YAAa,CAAC,QACd,cAAe,CAAC,QAChB,kBAAmB,CAAC,cACpB,sBAAuB,CAAC,cACxB,mBAAoB,CAAC,eAGzB,SAASC,EAAuB7oD,EAAca,EAAauW,GACvD,IAAI0xC,EAAWR,EAAgBtoD,GAAckN,SAE7C,GAAiB,eAAb47C,EACA,OAAO9oD,EAAe,IAAM/M,EAAS4N,EAAY1W,OAGrD,IAAI4+D,EAAgBloD,EAAYwC,GAC5BiU,EAAcF,EAAa2xC,GAE/B,IAAKzxC,EAAa,CACd,OAAQzW,EAAY1W,MAAM2C,MACtB,IAAK,QACD,IAAIk8D,EAAW,GACX/B,EAAS,GACTQ,EAAU,GACVwB,GAAM,EAEVpoD,EAAY1W,MAAMqU,SAASlE,MAAK,SAAS+mB,EAAKnuB,GAC1C,OAAQA,EAAKpG,MACT,IAAK,QACL,IAAK,WACL,IAAK,cACDoG,EAAKsL,SAASlE,KAAK+mB,GACnB,MAEJ,IAAK,MACD4nC,GAAM,EACN,MAEJ,IAAK,aACD,IAAIx/D,EAAOyJ,EAAKzJ,KAEXu/D,IACDA,EAAW7F,EAAe15D,GAAMujB,QAGhC,SAASjV,KAAKtO,KACdw9D,EAASzxD,OAAO0zD,WAGH,WAAbJ,GACyC,IAArCJ,EAAkBz5D,QAAQxF,KAC1Bg+D,EAAQh+D,IAAQ,GAEA,aAAbq/D,GACoC,IAAvCH,EAAoB15D,QAAQxF,KAC5Bg+D,EAAQh+D,IAAQ,GAEbg/D,EAAe19D,eAAe+9D,IACjCL,EAAeK,GAAU/wD,KAAKtO,KAC9Bg+D,EAAQh+D,IAAQ,GAIxB,MAEJ,IAAK,WACGA,EAAOyJ,EAAKzJ,KAMhB,GAJKu/D,IACDA,EAAW7F,EAAe15D,GAAMujB,QAGvB,SAATvjB,EAKeyJ,EAAKsL,SAAS3D,MAAK,SAAS3H,GACvC,MAAqB,aAAdA,EAAKpG,MAAsC,MAAfoG,EAAK/I,WAGxCV,EAAO,iBAIfg+D,EAAQh+D,EAAO,OAAQ,EAGvByJ,EAAKsL,SAASlE,KAAK+mB,GAEnB,MAEJ,IAAK,YACD,IAAI4uB,EAAO/8C,EAAK+8C,KAMhB,OAJI,SAASl4C,KAAKk4C,KACdgX,EAASzxD,OAAO0zD,WAGZjZ,GAEJ,IAAK,MAIL,IAAK,KACL,IAAK,KACL,IAAK,OACL,IAAK,OACL,IAAK,KACDwX,EAAQxX,IAAQ,OAOpC34B,EAAc2xC,EACR,IAAMV,IACN,IAAM3+D,OAAOoG,KAAKy3D,GAASt4C,OAAS,IAAM83C,EAAS+B,EACzD,MAEJ,IAAK,MACD1xC,EAAc,IAAMzW,EAAY1W,MAAMA,MACtC,MAEJ,QACImtB,EAAcrkB,EAAS4N,EAAY1W,OAG3CitB,EAAa2xC,GAAiBzxC,EAGlC,OAAOtX,EAAesX,EAoB1B,SAASkvC,EAAY1kD,EAAM/H,EAAM9I,EAAMk4D,EAAO/xC,GAC1C,IAAIjV,EAAeL,EAAKiW,MAAMvZ,SAE9B2D,EAAa1H,WAAU,SAASoG,EAAauoD,GACzC,IA4BQh4D,EA5BJvG,EAAWgW,EAAYhW,SACvBysB,EAAcuxC,EAAuBh+D,EAAUgW,EAAauW,IAC5DhmB,EAAO+3D,EAAM7xC,MAEJkxC,EAAgBz9D,eAAeF,GACpCgW,EAAY0W,YAAcnmB,EAAK2I,KAAKnG,KAAK2jB,WACzC4xC,EAAM7xC,GAAe,CACjBS,MAAO5V,EACPpI,KAAMqvD,GAGVh4D,EAAK2mB,MAAMxc,OAAOnK,EAAK2I,OAQvBoI,EAAa5G,OAAO6tD,IASpBh4D,EAjDhB,SAAkB+3D,EAAOtoD,EAAauW,GAClC,IAAIvsB,EAAWy9D,EAAgBznD,EAAYhW,UAE3C,GAAI+9D,EAAe79D,eAAeF,EAASqiB,UAGvC,IAFA,IAAIm8C,EAAQT,EAAe/9D,EAASqiB,UAE3BhkB,EAAI,EAAGA,EAAImgE,EAAM/7D,OAAQpE,IAAK,CACnC,IAAIogE,EAAOT,EAAuBh+D,EAASuiB,OAASi8C,EAAMngE,GAAI2X,EAAauW,GACvEhmB,EAAO+3D,EAAMp+D,eAAeu+D,GAAQH,EAAMG,GAAQ,KAEtD,GAAIl4D,KAAUyP,EAAY0W,WAAanmB,EAAK2I,KAAKnG,KAAK2jB,WAClD,OAAOnmB,GAsCAm4D,CAASJ,EAAOtoD,EAAauW,IAGpCjV,EAAa5G,OAAO6tD,IAQpBvoD,EAAYyW,YAAcA,EAE1B6xC,EAAM7xC,GAAe,CACjBS,MAAO5V,EACPpI,KAAMqvD,OAMlBjnD,EAAahI,WACblJ,EAAKsK,OAAOxB,GAIpBpR,EAAOD,QAAU,SAAuBygC,GACpC,IAAI++B,EAAgB,GAChB9wC,EAAextB,OAAOY,OAAO,MAEjC62B,EAAK8H,EAAK,CACNolB,MAAO,OACP5T,SAAS,EACTxZ,MAAO,SAASjuB,EAAM6G,EAAM9I,GACxB,IAEIk3D,EACAgB,EAHAtL,EAAa9rD,KAAKgmB,OAAShmB,KAAK8rD,WAChCuK,GAAUl1D,EAAK2yD,iBAAmB,IAAM,IAAM3yD,EAAK4kB,QAAQtZ,SAASpE,QAAQiJ,GAI3E6kD,EAAcn9D,eAAe8yD,EAAWx6C,IAIzC8kD,EAAUD,EAAcrK,EAAWx6C,KAHnC8kD,EAAU,GACVD,EAAcrK,EAAWx6C,IAAM8kD,GAK/BA,EAAQp9D,eAAeq9D,GACvBe,EAAQhB,EAAQC,IAEhBe,EAAQ,GACRhB,EAAQC,GAAUe,GAGtB3C,EAAYn9D,KAAK0I,KAAMmB,EAAM6G,EAAM9I,EAAMk4D,EAAO/xC,Q,gBCxS5D,IAAIiK,EAAO,EAAQ,GAAYA,KAC3Bv1B,EAAQ,EAAQ,IAcpB,SAAS06D,EAAYtzD,EAAM6G,EAAM9I,GAC7B,IAAIw1D,EAAYvzD,EAAK4kB,QAAQtZ,SACzB2D,EAAejP,EAAK6kB,MAAMvZ,SAC1BgrD,EAAoB/C,EAAUrsD,QAAQsc,cACtC+yC,EAAwB,GAE5Bx4D,EAAK0J,UAAUZ,EAAKhK,MAAM,SAASA,EAAM25D,GAErC,GAAkB,SAAd35D,EAAKjD,KACL,OAAOhB,EAAM+rB,iBAAiBxuB,KAAKo9D,EAAW12D,GAGlD,GAAImD,EAAK2yD,kBAAoB91D,EAAK81D,gBAC9B,OAAO,EAGX,IAAI8D,EAAoB55D,EAAK+nB,QAAQtZ,SAASnF,KAC1CuwD,EAAmB75D,EAAKgoB,MAAMvZ,SAC9BqrD,EAAoBF,EAAkB/1D,KAAK8iB,cAG/C,GAAImzC,KAAqBJ,EACrB,OAAO,EAIX,GAAIhD,EAAUptD,OAASotD,EAAUntD,MACzBmtD,EAAUrsD,QAAQiJ,KAAOsmD,EAAkB/1D,KAAKyP,GAGhD,OAFAlB,EAAatG,WAAW+tD,QACxB34D,EAAKsK,OAAOmuD,GAMpB,GAAI59D,EAAM8qB,oBAAoBzU,EAAcynD,GAAmB,CAC3D,IAAIhyC,EAAU+xC,EAAkB/1D,KAAKyP,GAiBrC,OAfAojD,EAAU5rD,MAAK,SAASjH,EAAMmG,GAC1B,IAAI+vD,EAASl2D,EAAKyP,GAElB,OAAIuU,EAAUkyC,GACVrD,EAAUxrD,OAAO0uD,EAAmB5vD,IAC7B,GAGNA,EAAKhK,UAAV,GACI02D,EAAUxrD,OAAO0uD,IACV,WAIf14D,EAAKsK,OAAOmuD,GAKhB,GAAIG,IAAsBL,EACtB,OAAO,EAGXC,EAAsBI,IAAqB,KAInDlhE,EAAOD,QAAU,SAAmBygC,GAChC9H,EAAK8H,EAAK,CACNolB,MAAO,OACPptB,MAAOqlC,M,gBCnFf,IAAIptD,EAAO,EAAQ,GAAYA,KAC3BioB,EAAO,EAAQ,GAAYA,KAC3Bv1B,EAAQ,EAAQ,IAEpB,SAASi+D,EAAmB94D,GACxB,IAAI3D,EAAS,EAMb,OAJA2D,EAAKqJ,MAAK,SAAS1G,GACftG,GAAUsG,EAAKyP,GAAG/V,OAAS,KAGxBA,EAAS,EAGpB,SAAS08D,EAAuBvpC,GAG5B,IAFA,IAAInzB,EAAS,EAEJpE,EAAI,EAAGA,EAAIu3B,EAAOnzB,OAAQpE,IAC/BoE,GAAUmzB,EAAOv3B,GAAGoE,OAGxB,OACIA,EACAmzB,EAAOnzB,OAAS,EAIxB,SAASk5D,EAAYtzD,EAAM6G,EAAM9I,GAC7B,IAAIk0D,EAAiC,OAAfpzD,KAAKgmB,OAAiBhmB,KAAKgmB,MAAMotC,gBACnDsB,EAAYvzD,EAAK4kB,QAAQtZ,SACzBuZ,EAAQ7kB,EAAK6kB,MACbkyC,EAAsBrgE,OAAOY,OAAO,MACpC0/D,GAAe,EACfC,GAAiB,EAErBl5D,EAAK2J,UAAUb,EAAK3I,MAAM,SAASA,EAAMg5D,GACrC,IAAIC,EAAYj5D,EAAK2mB,MACjBuyC,EAAWl5D,EAAKtE,KAEpB,GAAiB,SAAbw9D,EAAqB,CACrB,IAAIC,EAASz+D,EAAM+rB,iBAAiBxuB,KAAKo9D,EAAWr1D,GAapD,OAXKm5D,GAAuB,WAAbD,GAAyBD,GACpChpC,EAAKgpC,EAAW,CACZ9b,MAAO,OACPptB,MAAO,SAASjuB,GACZA,EAAK4kB,QAAQtZ,SAASlE,MAAK,SAAS1G,GAChCq2D,EAAoBr2D,EAAK8iB,gBAAiB,QAMnD6zC,EAGX,IAAI7D,EAAgBt1D,EAAK0mB,QAAQtZ,SAEjC,GAAItL,EAAK2yD,kBAAoBz0D,EAAKy0D,gBAC9B,OAAO,EAQX,KALAsE,GAAkBzD,EAAc7rD,MAAK,SAAS0E,GAC1C,OAAOA,EAASmX,iBAAiBuzC,QAIbC,EACpB,OAAO,EAIX,GAAIA,GAAgBp+D,EAAM6qB,iBAAiB+vC,EAAeD,GAGtD,OAFA4D,EAAU7rD,SAAS3C,WAAWkc,EAAMvZ,UACpCvN,EAAKsK,OAAOxB,IACL,EAIX,IAAIywD,EAAO1+D,EAAM+qB,oBAAoBkB,EAAMvZ,SAAU6rD,EAAU7rD,UAI/D,GAAIgsD,EAAKxzC,GAAG1pB,OAAQ,CAChB,IAAKk9D,EAAKvzC,IAAI3pB,SAAWk9D,EAAKtzC,IAAI5pB,OAO9B,OALI68D,IACAr+D,EAAM0rB,aAAaivC,EAAWC,GAC9Bz1D,EAAKsK,OAAO6uD,KAGT,EACJ,IAAKjF,EAGR,GAAIqF,EAAKvzC,IAAI3pB,SAAWk9D,EAAKtzC,IAAI5pB,OAAQ,CAErC,IAAIm9D,EAAiBV,EAAmBtD,GACpCiE,EAAcV,EAAuBQ,EAAKxzC,IAE1CkzC,GAAgBO,EAAiBC,IACjC5+D,EAAM0rB,aAAakvC,EAAeD,GAClC1uC,EAAMvZ,UAAW,IAAIpF,GAAOU,UAAU0wD,EAAKvzC,WAE5C,IAAKuzC,EAAKvzC,IAAI3pB,QAAUk9D,EAAKtzC,IAAI5pB,OAAQ,CAExCm9D,EAAiBV,EAAmBrD,GACpCgE,EAAcV,EAAuBQ,EAAKxzC,IAE1CmzC,GAAkBM,EAAiBC,IACnC5+D,EAAM0rB,aAAaivC,EAAWC,GAC9B2D,EAAU7rD,UAAW,IAAIpF,GAAOU,UAAU0wD,EAAKtzC,UAEhD,CAGH,IAAIyzC,EAAc,CACd79D,KAAM,eACNgG,IAAK,KACL0L,SAAU1S,EAAM0rB,aAAakvC,EAAcxyD,OAAQuyD,IAEnDmE,EAAiBb,EAAmBY,EAAYnsD,UAAY,EAKhE,IAJIksD,EAAcV,EAAuBQ,EAAKxzC,MAI3B4zC,EAAgB,CAC/B,IAAIC,EAAU55D,EAAK8H,WAAW,CAC1BjM,KAAM,OACNgG,IAAK,KACLglB,QAAS6yC,EACT5yC,MAAO,CACHjrB,KAAM,QACNgG,IAAK,KACL0L,UAAU,IAAIpF,GAAOU,UAAU0wD,EAAKxzC,KAExC6uC,gBAAiB3yD,EAAK2yD,kBAY1B,OATA9tC,EAAMvZ,UAAW,IAAIpF,GAAOU,UAAU0wD,EAAKvzC,KAC3CozC,EAAU7rD,UAAW,IAAIpF,GAAOU,UAAU0wD,EAAKrzC,cAE3C+yC,EACAj5D,EAAKgK,OAAO4vD,EAAST,GAErBn5D,EAAKgK,OAAO4vD,EAAS9wD,IAGlB,IAMnBmwD,IAGAA,GAAgBxD,EAAc7rD,MAAK,SAASiwD,GACxC,OAAOrE,EAAU5rD,MAAK,SAAS0E,GAC3B,OAAOA,EAASmX,gBAAkBo0C,EAAap0C,qBAK3DgwC,EAAcpsD,MAAK,SAAS1G,GACxBq2D,EAAoBr2D,EAAK8iB,gBAAiB,QAKtD/tB,EAAOD,QAAU,SAAsBygC,GACnC9H,EAAK8H,EAAK,CACNolB,MAAO,OACP5T,SAAS,EACTxZ,MAAOqlC,M,03EC1KFv+C,EAAW,SAAC8iD,GACvB,IAAM1/C,EAAM,IAAI,IAAI,CAAE6O,WAAW,IAClB7O,EAAIpD,SAASxR,EAAQs0D,GAEpC,GAAmB,OAAf1/C,EAAID,aAAkC5Q,IAAf6Q,EAAID,OAAsB,CAEnD,IACI,EAAyB,GAS7B,OARAC,EAAID,OAAOnb,SAAQ,SAACuV,GAClB,IAAMwlD,EAAaxlD,EAAMsU,WAAW3hB,MAAM,KAAK7K,OAC3C09D,IAJexgD,IAKjB,EAAa7Z,KAAKs6D,EAAYzlD,IACrBwlD,EANQxgD,MAOjB,EAAe,CAACygD,EAAYzlD,QAGzB,EAEP,MAAO,IAILylD,EAAc,SAACzlD,GACnB,gBAAUA,EAAMsgB,eACItrB,IAAlBgL,EAAMsF,QAAwB,GAAK,IAAItF,EAAMsF,UAIpCrU,EAAS,CACpB,QAAW,0CACX,YAAe,CACb,UAAa,CACX,MAAS,CACP,CACE,KAAQ,UAEV,CACE,KAAQ,aAKhB,WAAc,CACZ,SAAY,CACV,MAAS,CACP,MAAS,CACP,CACE,MAAS,CACP,CACE,KAAQ,UAEV,CACE,MAAS,CACP,MAAS,CACP,CACE,KAAQ,UAEV,CACE,KAAQ,4BAGZ,SAAY,EACZ,SAAY,EACZ,KAAQ,SAEV,KAAQ,UAGZ,SAAY,EACZ,SAAY,EACZ,KAAQ,SAEV,CACE,MAAS,CACP,CACE,KAAQ,UAEV,CACE,MAAS,CACP,CACE,KAAQ,SACR,qBAAwB,CACtB,KAAQ,4BAGZ,CACE,KAAQ,QACR,MAAS,CACP,MAAS,CACP,CACE,KAAQ,2BAEV,CACE,MAAS,CACP,CACE,KAAQ,2BAEV,CACE,KAAQ,4BAGZ,SAAY,EACZ,SAAY,EACZ,KAAQ,eAQtB,SAAY,EACZ,SAAY,EACZ,KAAQ,SAEV,CACE,KAAQ,UAEV,CACE,KAAQ,OAId,KAAQ,SAEV,UAAa,CACX,KAAQ,SACR,qBAAwB,CACtB,KAAQ,SACR,qBAAwB,CACtB,KAAQ,6BAId,WAAc,CACZ,MAAS,CACP,MAAS,CACP,MAAS,CACP,CACE,KAAQ,UAEV,CACE,KAAQ,WAGZ,SAAY,EACZ,SAAY,EACZ,KAAQ,SAEV,KAAQ,SAEV,KAAQ,UAGZ,KAAQ,U,o1CCvJGy0D,EAAU,SACrBC,EACAC,G,YAAA,IAAAA,MAAA,G,6FAIA,IADMhgD,EAASnD,EAASkjD,IACb79D,OAAS,EAClB,MAAM,IAAI0K,MAAM,2BAA2BoT,EAAOjL,KAAK,O,OAInDkrD,EAAc,IAAKF,GAGrB/6D,MAAMC,QAAQg7D,EAAY7sD,UAC5B,GAAM0sB,QAAQnS,IACZsyC,EAAY7sD,SAASlO,KACnB,SAAO0R,EAAqB9Y,GAAS,0C,8DACd,iBAAV8Y,EAAP,MACEA,EAAMyuC,WAAW,KACA,GAAM6a,EAActpD,EAAM5D,MAAM,GAAIgtD,IADrD,M,OACIG,EAAa,SAClBF,EAAY7sD,SAA6BtV,GAAKqiE,E,iBAGnD,MAAO,CAAP,EAAOvpD,eAVX,M,OACF,S,iBAeF,MAAO,CAAP,EAAOqpD,WAGIG,EAAmB,SAAO9jD,GAAW,0C,wDAE9C,O,sBAAO,CAAP,EAAO,MAAQ,kBAAkBA,GAAOgjC,Q,iCAI/B,O,sBADDzhC,EAAM,IAAI0Z,IAAIjb,GACb,GAAMyiB,MAAMlhB,EAAIwiD,MAAM3kD,MAAK,SAAO0nB,GAAQ,0C,+DACN,QAArC,EAACA,EAAS3D,QAAQ9gC,IAAI,uBAAe,QAAI,IAAI2hE,SAAS,SACjD,GAAMl9B,EAASpB,QADpB,M,OACF,MAAO,CAAP,EAAO,U,OAEA,SAAMoB,EAAS5I,Q,OAAtB,MAAO,CAAP,EAAO,qB,OAJX,MAAO,CAAP,EAAO,U,OAQA,O,SAAA,GAAMsF,QAAQ1jB,QAAQ,OAAOE,EAAG,Q,OAAvC,MAAO,CAAP,EAAO,U,4CAKA4jD,EAAgB,SAC3B5jD,EACA0jD,GAAoD,0C,wDAGnC,O,sBAAA,GAAMA,EAAU1jD,I,cAAzBgjC,EAAS,SAEX,YAASA,GACJ,GAAMwgB,EAAQxgB,EAAmB0gB,IADtC,M,OACF,MAAO,CAAP,EAAO,U,OAEP,MAAO,CAAP,EAAO1gB,G,0BAGT,O,SAAO,CAAP,EAAO,OAAOhjC,EAAG,O,8mBC5DR6hB,EAAS,SAAClpB,G,QAEf+K,EAASnD,EAAS5H,GACxB,GAAI+K,EAAO9d,OAAS,EAClB,MAAM,IAAI0K,MAAM,2BAA2BoT,EAAOjL,KAAK,OAOzD,IAHA,IAAMlP,EAAO06D,EAAM,IAAKtrD,GAAU,IAAIiG,K,WAG7Bpd,GACP,IAAMgK,EAAOjC,EAAK/H,GAGlB,QAC4BsR,IAA1BtH,EAAKmN,QAAQ7B,UACoB,IAAjCtL,EAAKmN,QAAQ7B,SAASlR,OACtB,CAEA,QAAoBkN,IAAhBtH,EAAK+gD,QACD2X,EAA6C,QAA/B,EAAG14D,EAAK+gD,OAAO5zC,QAAQ7B,gBAAQ,QAAI,IACxC6Q,OACbu8C,EAAeC,WAAU,SAAC7pD,GAAU,OAAAA,IAAU9O,EAAKmN,WACnD,G,iBAQN,IAAK,IAAI,EAAI,EAAG,EAAInN,EAAKmN,QAAQ7B,SAASlR,OAAQ,IAAK,CACrD,IAAM0U,EAAQ9O,EAAKmN,QAAQ7B,SAAS,GACpC,GAAqB,iBAAVwD,EACT,GAAqB,IAAjBA,EAAM1U,OAER4F,EAAKmN,QAAQ7B,SAAS6Q,OAAO,IAAK,QAC7B,GAAI,EAAI,EAAG,CAChB,IAAMy8C,EAAc54D,EAAKmN,QAAQ7B,SAAS,EAAI,GACnB,iBAAhBstD,GAET54D,EAAKmN,QAAQ7B,SAAS6Q,SAAS,EAAG,EAAG,GAAGy8C,EAAc9pD,IAO9D,IAAM+pD,EAAiC,QAAzB,EAAG74D,EAAKmN,QAAQW,iBAAS,QAAI,GAyE3C,GAxEApX,OAAOoG,KAAK+7D,GAAU97D,SAAQ,SAACgR,G,UACvB,YAACG,EAAA,KAAKC,EAAA,KAEZ,GAAInO,EAAK84D,YAAYrmD,IAAItE,IAGvB,QAAoB7G,IAAhBtH,EAAK+gD,OAAsB,CAE7B,GAAY,IAAR7yC,GAAalO,EAAK+gD,OAAOgY,iBAAiBtmD,IAAItE,GAEhD,mBADO0qD,EAAS9qD,GAOlB,IAAsC,QAAlC,EAAC/N,EAAK+gD,OAAO+X,YAAYjiE,IAAIsX,UAAK,QAAI,GAAK,EAAG,CAC1C,cAAenO,EAAK+gD,OAAO5zC,UAC/BnN,EAAK+gD,OAAO5zC,QAAQW,UAAY,IAGlC,IAAMkrD,EAAah5D,EAAK+gD,OAAO5zC,QAC5BW,UACGmrD,EAGH,QAHiB,EAClBviE,OAAOoG,KAAKk8D,GAAYphB,MAAK,SAAC7pC,GAC5B,OAAAA,EAASyqD,SAASrqD,aACnB,QAAI+qD,EAAchrD,EAAK,IACnBirD,EAAD,UAAC,GACDC,EAAwC,QAA7B,EAAGJ,EAAWC,UAAe,QAAI,GAC5CI,EAAaR,EAAS9qD,QAGOzG,IAA/B0xD,EAAWC,WACND,EAAWC,UAIbJ,EAAS9qD,GAGhBirD,EAAWE,EAAsB,IAARhrD,EAAYirD,EAAY,EAAGhrD,IAAS,EAAH,KAC5C,IAARD,EAAYkrD,EAAc,IAC3BC,iBAMFR,EAAS9qD,MAKiB,IAAjCrX,OAAOoG,KAAK+7D,GAAUz+D,eACjB4F,EAAKmN,QAAQW,UAIlB5Q,MAAMC,QAAQ6C,EAAKmN,QAAQmB,cAC7BtO,EAAKmN,QAAQmB,WAAatO,EAAKmN,QAAQmB,WAAWzG,QAChD,SAAC6G,GAAc,OAAqB,IAArBA,EAAUtU,WAKzB8C,MAAMC,QAAQ6C,EAAKmN,QAAQmB,aACU,IAAnCtO,EAAKmN,QAAQmB,WAAWlU,eAAqB4F,EAAKmN,QAAQmB,aAM1D,eAAgBtO,EAAKmN,YAAW,cAAenN,EAAKmN,eACpC7F,IAAhBtH,EAAK+gD,OAAsB,CAC7B,IAAM2X,EACAY,GADAZ,EAAiB14D,EAAK+gD,OAAO5zC,QAAQ7B,UACNqtD,WACnC,SAAC7pD,GAAU,OAAAA,IAAU9O,EAAKmN,YAGL,IAAnBmsD,GACFZ,EAAev8C,OAAM,MAArBu8C,EAAc,GAAQY,EAAe,GAAMt5D,EAAKmN,QAAQ7B,aAvHvDtV,EAAI+H,EAAK3D,OAAS,EAAGpE,GAAK,EAAGA,I,EAA7BA,GA6HT,OAAO+H,EAAK,GAAGoP,SAKXc,EAAgB,SAACF,GACrB,IAAMG,EAHU,KAGMnS,QAAQgS,EAAS,IAAM,EAE7C,MAAO,CAACG,EADKA,EAAM,EAAIH,EAAS7C,MAAM,GAAK6C,IAIvCmrD,EAAgB,SAAChrD,EAAaC,GAClC,SAAG,CAAC,GAAI,IAAK,KAAKD,GAAOC,GAErBorD,EAAY,SAACC,GACjB,IACE,OAAO,IAAKnjC,OAAOmjC,GAAQtpD,IAC3B,MAAOoC,GAEP,OADAD,QAAQC,MAAMA,GACPknD,IAILC,EAAgB,eAChBC,EAAkB,SACtBr8D,EACAuU,GAYA,YAZA,IAAAA,MAAA,IAAuBwB,KAEvB/V,EAAIN,SAAQ,SAAC48D,GACX,GAAIz8D,MAAMC,QAAQw8D,GAChBD,EAAgBC,EAAK/nD,QAChB,GAAmB,iBAAR+nD,EAEhB,IADA,IAAMt3D,EAAQs3D,EAAIt3D,MAAMo3D,GACfzjE,EAAI,EAAGA,GAAKqM,UAAS,IAAIjI,OAAQpE,IACxC4b,EAAIyB,IAAKhR,EAAmBrM,GAAGkV,MAAM,GAAI,OAIxC0G,GAUH6mD,EAAQ,SACZtrD,EACA4rD,EACAhY,GAQA,I,QANMz1C,EAA2B,QAAnB,EAAG6B,EAAQ7B,gBAAQ,QAAI,GAC/BwtD,EAAmC,IAAI3lD,IACvCnT,EAAO,CAAEmN,QAAO,EAAE4zC,OAAM,EAAE+X,YAAW,EAAEC,iBAAgB,GAEvDa,EAAkB,CAAC55D,GAEhBhK,EAAI,EAAGA,EAAIsV,EAASlR,OAAQpE,IAAK,CACxC,IAAM6G,EAAOyO,EAAStV,GACtB,GAAI,YAAS6G,GAAO,CAClB,IAAM,EAAUA,EACViR,EAA6B,QAApB,EAAG,EAAQA,iBAAS,QAAI,GAEjC+rD,EAAapB,EACjB,EACA,IAAIrlD,IAAI,EACH2lD,EACAriE,OAAOoG,KAAKgR,GAAW1Q,KACxB,SAAC2Q,GAAqB,OAAAE,EAAcF,GAAU,QAGlD/N,GAGF,IAAIoT,IACFymD,EACGz8D,KAAI,SAAC4C,GAAS,SAAIA,EAAK84D,YAAYh8D,WACnCsO,QAAO,SAAC/N,EAAKP,GAAS,SAAIO,EAAQP,KAAO,KAC5CC,SAAQ,SAACgR,G,MACT+qD,EAAYlnD,IAAI7D,GAAoC,QAA1B,EAAC+qD,EAAYjiE,IAAIkX,UAAS,QAAI,GAAK,MAG/D6rD,EAAgBn8D,KAAI,MAApBm8D,EAAe,EAASC,SACnB,GAAI38D,MAAMC,QAAQN,GAAO,CACf68D,EAAgB78D,GACxBE,SAAQ,SAACgR,G,MACd+qD,EAAYlnD,IAAI7D,GAAoC,QAA1B,EAAC+qD,EAAYjiE,IAAIkX,UAAS,QAAI,GAAK,WAG/DzC,EAAS6Q,OAAOnmB,EAAG,EAAGujE,EAAU18D,IAIpC,OAAO+8D,G","file":"ainsley.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Ainsley\"] = factory();\n\telse\n\t\troot[\"Ainsley\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 212);\n","var TokenStream = require('../common/TokenStream');\nvar adoptBuffer = require('../common/adopt-buffer');\n\nvar constants = require('./const');\nvar TYPE = constants.TYPE;\n\nvar charCodeDefinitions = require('./char-code-definitions');\nvar isNewline = charCodeDefinitions.isNewline;\nvar isName = charCodeDefinitions.isName;\nvar isValidEscape = charCodeDefinitions.isValidEscape;\nvar isNumberStart = charCodeDefinitions.isNumberStart;\nvar isIdentifierStart = charCodeDefinitions.isIdentifierStart;\nvar charCodeCategory = charCodeDefinitions.charCodeCategory;\nvar isBOM = charCodeDefinitions.isBOM;\n\nvar utils = require('./utils');\nvar cmpStr = utils.cmpStr;\nvar getNewlineLength = utils.getNewlineLength;\nvar findWhiteSpaceEnd = utils.findWhiteSpaceEnd;\nvar consumeEscaped = utils.consumeEscaped;\nvar consumeName = utils.consumeName;\nvar consumeNumber = utils.consumeNumber;\nvar consumeBadUrlRemnants = utils.consumeBadUrlRemnants;\n\nvar OFFSET_MASK = 0x00FFFFFF;\nvar TYPE_SHIFT = 24;\n\nfunction tokenize(source, stream) {\n    function getCharCode(offset) {\n        return offset < sourceLength ? source.charCodeAt(offset) : 0;\n    }\n\n    //  4.3.3. Consume a numeric token\n    function consumeNumericToken() {\n        // Consume a number and let number be the result.\n        offset = consumeNumber(source, offset);\n\n        // If the next 3 input code points would start an identifier, then:\n        if (isIdentifierStart(getCharCode(offset), getCharCode(offset + 1), getCharCode(offset + 2))) {\n            // Create a <dimension-token> with the same value and type flag as number, and a unit set initially to the empty string.\n            // Consume a name. Set the <dimension-token>s unit to the returned value.\n            // Return the <dimension-token>.\n            type = TYPE.Dimension;\n            offset = consumeName(source, offset);\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0025 PERCENTAGE SIGN (%), consume it.\n        if (getCharCode(offset) === 0x0025) {\n            // Create a <percentage-token> with the same value as number, and return it.\n            type = TYPE.Percentage;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create a <number-token> with the same value and type flag as number, and return it.\n        type = TYPE.Number;\n    }\n\n    //  4.3.4. Consume an ident-like token\n    function consumeIdentLikeToken() {\n        const nameStartOffset = offset;\n\n        // Consume a name, and let string be the result.\n        offset = consumeName(source, offset);\n\n        // If strings value is an ASCII case-insensitive match for \"url\",\n        // and the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        if (cmpStr(source, nameStartOffset, offset, 'url') && getCharCode(offset) === 0x0028) {\n            // While the next two input code points are whitespace, consume the next input code point.\n            offset = findWhiteSpaceEnd(source, offset + 1);\n\n            // If the next one or two input code points are U+0022 QUOTATION MARK (\"), U+0027 APOSTROPHE ('),\n            // or whitespace followed by U+0022 QUOTATION MARK (\") or U+0027 APOSTROPHE ('),\n            // then create a <function-token> with its value set to string and return it.\n            if (getCharCode(offset) === 0x0022 ||\n                getCharCode(offset) === 0x0027) {\n                type = TYPE.Function;\n                offset = nameStartOffset + 4;\n                return;\n            }\n\n            // Otherwise, consume a url token, and return it.\n            consumeUrlToken();\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        // Create a <function-token> with its value set to string and return it.\n        if (getCharCode(offset) === 0x0028) {\n            type = TYPE.Function;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create an <ident-token> with its value set to string and return it.\n        type = TYPE.Ident;\n    }\n\n    //  4.3.5. Consume a string token\n    function consumeStringToken(endingCodePoint) {\n        // This algorithm may be called with an ending code point, which denotes the code point\n        // that ends the string. If an ending code point is not specified,\n        // the current input code point is used.\n        if (!endingCodePoint) {\n            endingCodePoint = getCharCode(offset++);\n        }\n\n        // Initially create a <string-token> with its value set to the empty string.\n        type = TYPE.String;\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            var code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // ending code point\n                case endingCodePoint:\n                    // Return the <string-token>.\n                    offset++;\n                    return;\n\n                // EOF\n                case charCodeCategory.Eof:\n                    // This is a parse error. Return the <string-token>.\n                    return;\n\n                // newline\n                case charCodeCategory.WhiteSpace:\n                    if (isNewline(code)) {\n                        // This is a parse error. Reconsume the current input code point,\n                        // create a <bad-string-token>, and return it.\n                        offset += getNewlineLength(source, offset, code);\n                        type = TYPE.BadString;\n                        return;\n                    }\n                    break;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the next input code point is EOF, do nothing.\n                    if (offset === source.length - 1) {\n                        break;\n                    }\n\n                    var nextCode = getCharCode(offset + 1);\n\n                    // Otherwise, if the next input code point is a newline, consume it.\n                    if (isNewline(nextCode)) {\n                        offset += getNewlineLength(source, offset + 1, nextCode);\n                    } else if (isValidEscape(code, nextCode)) {\n                        // Otherwise, (the stream starts with a valid escape) consume\n                        // an escaped code point and append the returned code point to\n                        // the <string-token>s value.\n                        offset = consumeEscaped(source, offset) - 1;\n                    }\n                    break;\n\n                // anything else\n                // Append the current input code point to the <string-token>s value.\n            }\n        }\n    }\n\n    //  4.3.6. Consume a url token\n    // Note: This algorithm assumes that the initial \"url(\" has already been consumed.\n    // This algorithm also assumes that its being called to consume an \"unquoted\" value, like url(foo).\n    // A quoted value, like url(\"foo\"), is parsed as a <function-token>. Consume an ident-like token\n    // automatically handles this distinction; this algorithm shouldnt be called directly otherwise.\n    function consumeUrlToken() {\n        // Initially create a <url-token> with its value set to the empty string.\n        type = TYPE.Url;\n\n        // Consume as much whitespace as possible.\n        offset = findWhiteSpaceEnd(source, offset);\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            var code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // U+0029 RIGHT PARENTHESIS ())\n                case 0x0029:\n                    // Return the <url-token>.\n                    offset++;\n                    return;\n\n                // EOF\n                case charCodeCategory.Eof:\n                    // This is a parse error. Return the <url-token>.\n                    return;\n\n                // whitespace\n                case charCodeCategory.WhiteSpace:\n                    // Consume as much whitespace as possible.\n                    offset = findWhiteSpaceEnd(source, offset);\n\n                    // If the next input code point is U+0029 RIGHT PARENTHESIS ()) or EOF,\n                    // consume it and return the <url-token>\n                    // (if EOF was encountered, this is a parse error);\n                    if (getCharCode(offset) === 0x0029 || offset >= source.length) {\n                        if (offset < source.length) {\n                            offset++;\n                        }\n                        return;\n                    }\n\n                    // otherwise, consume the remnants of a bad url, create a <bad-url-token>,\n                    // and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+0022 QUOTATION MARK (\")\n                // U+0027 APOSTROPHE (')\n                // U+0028 LEFT PARENTHESIS (()\n                // non-printable code point\n                case 0x0022:\n                case 0x0027:\n                case 0x0028:\n                case charCodeCategory.NonPrintable:\n                    // This is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the stream starts with a valid escape, consume an escaped code point and\n                    // append the returned code point to the <url-token>s value.\n                    if (isValidEscape(code, getCharCode(offset + 1))) {\n                        offset = consumeEscaped(source, offset) - 1;\n                        break;\n                    }\n\n                    // Otherwise, this is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // anything else\n                // Append the current input code point to the <url-token>s value.\n            }\n        }\n    }\n\n    if (!stream) {\n        stream = new TokenStream();\n    }\n\n    // ensure source is a string\n    source = String(source || '');\n\n    var sourceLength = source.length;\n    var offsetAndType = adoptBuffer(stream.offsetAndType, sourceLength + 1); // +1 because of eof-token\n    var balance = adoptBuffer(stream.balance, sourceLength + 1);\n    var tokenCount = 0;\n    var start = isBOM(getCharCode(0));\n    var offset = start;\n    var balanceCloseType = 0;\n    var balanceStart = 0;\n    var balancePrev = 0;\n\n    // https://drafts.csswg.org/css-syntax-3/#consume-token\n    //  4.3.1. Consume a token\n    while (offset < sourceLength) {\n        var code = source.charCodeAt(offset);\n        var type = 0;\n\n        balance[tokenCount] = sourceLength;\n\n        switch (charCodeCategory(code)) {\n            // whitespace\n            case charCodeCategory.WhiteSpace:\n                // Consume as much whitespace as possible. Return a <whitespace-token>.\n                type = TYPE.WhiteSpace;\n                offset = findWhiteSpaceEnd(source, offset + 1);\n                break;\n\n            // U+0022 QUOTATION MARK (\")\n            case 0x0022:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0023 NUMBER SIGN (#)\n            case 0x0023:\n                // If the next input code point is a name code point or the next two input code points are a valid escape, then:\n                if (isName(getCharCode(offset + 1)) || isValidEscape(getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // Create a <hash-token>.\n                    type = TYPE.Hash;\n\n                    // If the next 3 input code points would start an identifier, set the <hash-token>s type flag to \"id\".\n                    // if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    //     // TODO: set id flag\n                    // }\n\n                    // Consume a name, and set the <hash-token>s value to the returned string.\n                    offset = consumeName(source, offset + 1);\n\n                    // Return the <hash-token>.\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0027 APOSTROPHE (')\n            case 0x0027:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0028 LEFT PARENTHESIS (()\n            case 0x0028:\n                // Return a <(-token>.\n                type = TYPE.LeftParenthesis;\n                offset++;\n                break;\n\n            // U+0029 RIGHT PARENTHESIS ())\n            case 0x0029:\n                // Return a <)-token>.\n                type = TYPE.RightParenthesis;\n                offset++;\n                break;\n\n            // U+002B PLUS SIGN (+)\n            case 0x002B:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+002C COMMA (,)\n            case 0x002C:\n                // Return a <comma-token>.\n                type = TYPE.Comma;\n                offset++;\n                break;\n\n            // U+002D HYPHEN-MINUS (-)\n            case 0x002D:\n                // If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, if the next 2 input code points are U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (->), consume them and return a <CDC-token>.\n                    if (getCharCode(offset + 1) === 0x002D &&\n                        getCharCode(offset + 2) === 0x003E) {\n                        type = TYPE.CDC;\n                        offset = offset + 3;\n                    } else {\n                        // Otherwise, if the input stream starts with an identifier, ...\n                        if (isIdentifierStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                            // ... reconsume the current input code point, consume an ident-like token, and return it.\n                            consumeIdentLikeToken();\n                        } else {\n                            // Otherwise, return a <delim-token> with its value set to the current input code point.\n                            type = TYPE.Delim;\n                            offset++;\n                        }\n                    }\n                }\n                break;\n\n            // U+002E FULL STOP (.)\n            case 0x002E:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+002F SOLIDUS (/)\n            case 0x002F:\n                // If the next two input code point are U+002F SOLIDUS (/) followed by a U+002A ASTERISK (*),\n                if (getCharCode(offset + 1) === 0x002A) {\n                    // ... consume them and all following code points up to and including the first U+002A ASTERISK (*)\n                    // followed by a U+002F SOLIDUS (/), or up to an EOF code point.\n                    type = TYPE.Comment;\n                    offset = source.indexOf('*/', offset + 2) + 2;\n                    if (offset === 1) {\n                        offset = source.length;\n                    }\n                } else {\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+003A COLON (:)\n            case 0x003A:\n                // Return a <colon-token>.\n                type = TYPE.Colon;\n                offset++;\n                break;\n\n            // U+003B SEMICOLON (;)\n            case 0x003B:\n                // Return a <semicolon-token>.\n                type = TYPE.Semicolon;\n                offset++;\n                break;\n\n            // U+003C LESS-THAN SIGN (<)\n            case 0x003C:\n                // If the next 3 input code points are U+0021 EXCLAMATION MARK U+002D HYPHEN-MINUS U+002D HYPHEN-MINUS (!--), ...\n                if (getCharCode(offset + 1) === 0x0021 &&\n                    getCharCode(offset + 2) === 0x002D &&\n                    getCharCode(offset + 3) === 0x002D) {\n                    // ... consume them and return a <CDO-token>.\n                    type = TYPE.CDO;\n                    offset = offset + 4;\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0040 COMMERCIAL AT (@)\n            case 0x0040:\n                // If the next 3 input code points would start an identifier, ...\n                if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    // ... consume a name, create an <at-keyword-token> with its value set to the returned value, and return it.\n                    type = TYPE.AtKeyword;\n                    offset = consumeName(source, offset + 1);\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+005B LEFT SQUARE BRACKET ([)\n            case 0x005B:\n                // Return a <[-token>.\n                type = TYPE.LeftSquareBracket;\n                offset++;\n                break;\n\n            // U+005C REVERSE SOLIDUS (\\)\n            case 0x005C:\n                // If the input stream starts with a valid escape, ...\n                if (isValidEscape(code, getCharCode(offset + 1))) {\n                    // ... reconsume the current input code point, consume an ident-like token, and return it.\n                    consumeIdentLikeToken();\n                } else {\n                    // Otherwise, this is a parse error. Return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+005D RIGHT SQUARE BRACKET (])\n            case 0x005D:\n                // Return a <]-token>.\n                type = TYPE.RightSquareBracket;\n                offset++;\n                break;\n\n            // U+007B LEFT CURLY BRACKET ({)\n            case 0x007B:\n                // Return a <{-token>.\n                type = TYPE.LeftCurlyBracket;\n                offset++;\n                break;\n\n            // U+007D RIGHT CURLY BRACKET (})\n            case 0x007D:\n                // Return a <}-token>.\n                type = TYPE.RightCurlyBracket;\n                offset++;\n                break;\n\n            // digit\n            case charCodeCategory.Digit:\n                // Reconsume the current input code point, consume a numeric token, and return it.\n                consumeNumericToken();\n                break;\n\n            // name-start code point\n            case charCodeCategory.NameStart:\n                // Reconsume the current input code point, consume an ident-like token, and return it.\n                consumeIdentLikeToken();\n                break;\n\n            // EOF\n            case charCodeCategory.Eof:\n                // Return an <EOF-token>.\n                break;\n\n            // anything else\n            default:\n                // Return a <delim-token> with its value set to the current input code point.\n                type = TYPE.Delim;\n                offset++;\n        }\n\n        switch (type) {\n            case balanceCloseType:\n                balancePrev = balanceStart & OFFSET_MASK;\n                balanceStart = balance[balancePrev];\n                balanceCloseType = balanceStart >> TYPE_SHIFT;\n                balance[tokenCount] = balancePrev;\n                balance[balancePrev++] = tokenCount;\n                for (; balancePrev < tokenCount; balancePrev++) {\n                    if (balance[balancePrev] === sourceLength) {\n                        balance[balancePrev] = tokenCount;\n                    }\n                }\n                break;\n\n            case TYPE.LeftParenthesis:\n            case TYPE.Function:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightParenthesis;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n\n            case TYPE.LeftSquareBracket:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightSquareBracket;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n\n            case TYPE.LeftCurlyBracket:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightCurlyBracket;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n        }\n\n        offsetAndType[tokenCount++] = (type << TYPE_SHIFT) | offset;\n    }\n\n    // finalize buffers\n    offsetAndType[tokenCount] = (TYPE.EOF << TYPE_SHIFT) | offset; // <EOF-token>\n    balance[tokenCount] = sourceLength;\n    balance[sourceLength] = sourceLength; // prevents false positive balance match with any token\n    while (balanceStart !== 0) {\n        balancePrev = balanceStart & OFFSET_MASK;\n        balanceStart = balance[balancePrev];\n        balance[balancePrev] = sourceLength;\n    }\n\n    // update stream\n    stream.source = source;\n    stream.firstCharOffset = start;\n    stream.offsetAndType = offsetAndType;\n    stream.tokenCount = tokenCount;\n    stream.balance = balance;\n    stream.reset();\n    stream.next();\n\n    return stream;\n}\n\n// extend tokenizer with constants\nObject.keys(constants).forEach(function(key) {\n    tokenize[key] = constants[key];\n});\n\n// extend tokenizer with static methods from utils\nObject.keys(charCodeDefinitions).forEach(function(key) {\n    tokenize[key] = charCodeDefinitions[key];\n});\nObject.keys(utils).forEach(function(key) {\n    tokenize[key] = utils[key];\n});\n\nmodule.exports = tokenize;\n","export const isObject = (x: any): boolean =>\n  !!(x !== null && typeof x === \"object\" && !Array.isArray(x));\n\nexport const map = (arr: any[], fn: (value: any) => any): any[] => {\n  const out = [];\n  const len = arr.length;\n  for (let i = 0; i < len; i++) out.push(fn(arr[i]));\n  return out;\n};\n\nexport const flat = (arr: any[][]) =>\n  // eslint-disable-next-line prefer-spread\n  ([] as any[]).concat.apply([], arr);\n\nexport const combinations = (mods: any[][]) => {\n  let list: any[][] = [[]];\n  let index = 0;\n  while (index < mods.length) {\n    list = flat(\n      map(mods[index++], (option) => list.map((prev) => prev.concat([option])))\n    );\n  }\n  return list;\n};\n\nexport const assign = (objects: Array<Record<string, any>>) => {\n  const out: Record<string, any> = {};\n  const len = objects.length;\n  for (let i = 0; i < len; i++) {\n    const obj = objects[i];\n    map(Object.keys(obj), (key) => {\n      out[key] = obj[key];\n    });\n  }\n  return out;\n};\n\nexport const toString = (value: any): string =>\n  typeof value === \"string\" ? value : (value as string) + \"\";\n\nexport const memoize = (func: (arg1: string, arg2?: string) => any): any => {\n  const cache: Record<string, any> = {};\n  return (arg1: string, arg2?: string) => {\n    const cacheKey = arg1 + \"{}\" + (arg2 as string);\n    if (!(cache[cacheKey] as boolean)) cache[cacheKey] = func(arg1, arg2);\n    return cache[cacheKey];\n  };\n};\n","module.exports = require('./syntax');\n","var tokenizer = require('../../tokenizer');\nvar TYPE = tokenizer.TYPE;\n\nvar WhiteSpace = TYPE.WhiteSpace;\nvar Semicolon = TYPE.Semicolon;\nvar LeftCurlyBracket = TYPE.LeftCurlyBracket;\nvar Delim = TYPE.Delim;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction getOffsetExcludeWS() {\n    if (this.scanner.tokenIndex > 0) {\n        if (this.scanner.lookupType(-1) === WhiteSpace) {\n            return this.scanner.tokenIndex > 1\n                ? this.scanner.getTokenStart(this.scanner.tokenIndex - 1)\n                : this.scanner.firstCharOffset;\n        }\n    }\n\n    return this.scanner.tokenStart;\n}\n\n// 0, 0, false\nfunction balanceEnd() {\n    return 0;\n}\n\n// LEFTCURLYBRACKET, 0, false\nfunction leftCurlyBracket(tokenType) {\n    return tokenType === LeftCurlyBracket ? 1 : 0;\n}\n\n// LEFTCURLYBRACKET, SEMICOLON, false\nfunction leftCurlyBracketOrSemicolon(tokenType) {\n    return tokenType === LeftCurlyBracket || tokenType === Semicolon ? 1 : 0;\n}\n\n// EXCLAMATIONMARK, SEMICOLON, false\nfunction exclamationMarkOrSemicolon(tokenType, source, offset) {\n    if (tokenType === Delim && source.charCodeAt(offset) === EXCLAMATIONMARK) {\n        return 1;\n    }\n\n    return tokenType === Semicolon ? 1 : 0;\n}\n\n// 0, SEMICOLON, true\nfunction semicolonIncluded(tokenType) {\n    return tokenType === Semicolon ? 2 : 0;\n}\n\nmodule.exports = {\n    name: 'Raw',\n    structure: {\n        value: String\n    },\n    parse: function(startToken, mode, excludeWhiteSpace) {\n        var startOffset = this.scanner.getTokenStart(startToken);\n        var endOffset;\n\n        this.scanner.skip(\n            this.scanner.getRawLength(startToken, mode || balanceEnd)\n        );\n\n        if (excludeWhiteSpace && this.scanner.tokenStart > startOffset) {\n            endOffset = getOffsetExcludeWS.call(this);\n        } else {\n            endOffset = this.scanner.tokenStart;\n        }\n\n        return {\n            type: 'Raw',\n            loc: this.getLocation(startOffset, endOffset),\n            value: this.scanner.source.substring(startOffset, endOffset)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    },\n\n    mode: {\n        default: balanceEnd,\n        leftCurlyBracket: leftCurlyBracket,\n        leftCurlyBracketOrSemicolon: leftCurlyBracketOrSemicolon,\n        exclamationMarkOrSemicolon: exclamationMarkOrSemicolon,\n        semicolonIncluded: semicolonIncluded\n    }\n};\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","//\n//                              list\n//                            \n//             head \n//                            tail\n//                                         \n//                                                 \n//            item        item        item        item\n//                      \n//  null prev prev prev prev \n//           next next next next null\n//                      \n//           data      data      data      data \n//                      \n//\n\nfunction createItem(data) {\n    return {\n        prev: null,\n        next: null,\n        data: data\n    };\n}\n\nfunction allocateCursor(node, prev, next) {\n    var cursor;\n\n    if (cursors !== null) {\n        cursor = cursors;\n        cursors = cursors.cursor;\n        cursor.prev = prev;\n        cursor.next = next;\n        cursor.cursor = node.cursor;\n    } else {\n        cursor = {\n            prev: prev,\n            next: next,\n            cursor: node.cursor\n        };\n    }\n\n    node.cursor = cursor;\n\n    return cursor;\n}\n\nfunction releaseCursor(node) {\n    var cursor = node.cursor;\n\n    node.cursor = cursor.cursor;\n    cursor.prev = null;\n    cursor.next = null;\n    cursor.cursor = cursors;\n    cursors = cursor;\n}\n\nvar cursors = null;\nvar List = function() {\n    this.cursor = null;\n    this.head = null;\n    this.tail = null;\n};\n\nList.createItem = createItem;\nList.prototype.createItem = createItem;\n\nList.prototype.updateCursors = function(prevOld, prevNew, nextOld, nextNew) {\n    var cursor = this.cursor;\n\n    while (cursor !== null) {\n        if (cursor.prev === prevOld) {\n            cursor.prev = prevNew;\n        }\n\n        if (cursor.next === nextOld) {\n            cursor.next = nextNew;\n        }\n\n        cursor = cursor.cursor;\n    }\n};\n\nList.prototype.getSize = function() {\n    var size = 0;\n    var cursor = this.head;\n\n    while (cursor) {\n        size++;\n        cursor = cursor.next;\n    }\n\n    return size;\n};\n\nList.prototype.fromArray = function(array) {\n    var cursor = null;\n\n    this.head = null;\n\n    for (var i = 0; i < array.length; i++) {\n        var item = createItem(array[i]);\n\n        if (cursor !== null) {\n            cursor.next = item;\n        } else {\n            this.head = item;\n        }\n\n        item.prev = cursor;\n        cursor = item;\n    }\n\n    this.tail = cursor;\n\n    return this;\n};\n\nList.prototype.toArray = function() {\n    var cursor = this.head;\n    var result = [];\n\n    while (cursor) {\n        result.push(cursor.data);\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.toJSON = List.prototype.toArray;\n\nList.prototype.isEmpty = function() {\n    return this.head === null;\n};\n\nList.prototype.first = function() {\n    return this.head && this.head.data;\n};\n\nList.prototype.last = function() {\n    return this.tail && this.tail.data;\n};\n\nList.prototype.each = function(fn, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, this.head);\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        fn.call(context, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.forEach = List.prototype.each;\n\nList.prototype.eachRight = function(fn, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, this.tail, null);\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        fn.call(context, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.forEachRight = List.prototype.eachRight;\n\nList.prototype.nextUntil = function(start, fn, context) {\n    if (start === null) {\n        return;\n    }\n\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, start);\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        if (fn.call(context, item.data, item, this)) {\n            break;\n        }\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.prevUntil = function(start, fn, context) {\n    if (start === null) {\n        return;\n    }\n\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, start, null);\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        if (fn.call(context, item.data, item, this)) {\n            break;\n        }\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.some = function(fn, context) {\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        if (fn.call(context, cursor.data, cursor, this)) {\n            return true;\n        }\n\n        cursor = cursor.next;\n    }\n\n    return false;\n};\n\nList.prototype.map = function(fn, context) {\n    var result = new List();\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        result.appendData(fn.call(context, cursor.data, cursor, this));\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.filter = function(fn, context) {\n    var result = new List();\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        if (fn.call(context, cursor.data, cursor, this)) {\n            result.appendData(cursor.data);\n        }\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.clear = function() {\n    this.head = null;\n    this.tail = null;\n};\n\nList.prototype.copy = function() {\n    var result = new List();\n    var cursor = this.head;\n\n    while (cursor !== null) {\n        result.insert(createItem(cursor.data));\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.prepend = function(item) {\n    //      head\n    //    ^\n    // item\n    this.updateCursors(null, item, this.head, item);\n\n    // insert to the beginning of the list\n    if (this.head !== null) {\n        // new item <- first item\n        this.head.prev = item;\n\n        // new item -> first item\n        item.next = this.head;\n    } else {\n        // if list has no head, then it also has no tail\n        // in this case tail points to the new item\n        this.tail = item;\n    }\n\n    // head always points to new item\n    this.head = item;\n\n    return this;\n};\n\nList.prototype.prependData = function(data) {\n    return this.prepend(createItem(data));\n};\n\nList.prototype.append = function(item) {\n    return this.insert(item);\n};\n\nList.prototype.appendData = function(data) {\n    return this.insert(createItem(data));\n};\n\nList.prototype.insert = function(item, before) {\n    if (before !== undefined && before !== null) {\n        // prev   before\n        //      ^\n        //     item\n        this.updateCursors(before.prev, item, before, item);\n\n        if (before.prev === null) {\n            // insert to the beginning of list\n            if (this.head !== before) {\n                throw new Error('before doesn\\'t belong to list');\n            }\n\n            // since head points to before therefore list doesn't empty\n            // no need to check tail\n            this.head = item;\n            before.prev = item;\n            item.next = before;\n\n            this.updateCursors(null, item);\n        } else {\n\n            // insert between two items\n            before.prev.next = item;\n            item.prev = before.prev;\n\n            before.prev = item;\n            item.next = before;\n        }\n    } else {\n        // tail\n        //      ^\n        //      item\n        this.updateCursors(this.tail, item, null, item);\n\n        // insert to the ending of the list\n        if (this.tail !== null) {\n            // last item -> new item\n            this.tail.next = item;\n\n            // last item <- new item\n            item.prev = this.tail;\n        } else {\n            // if list has no tail, then it also has no head\n            // in this case head points to new item\n            this.head = item;\n        }\n\n        // tail always points to new item\n        this.tail = item;\n    }\n\n    return this;\n};\n\nList.prototype.insertData = function(data, before) {\n    return this.insert(createItem(data), before);\n};\n\nList.prototype.remove = function(item) {\n    //      item\n    //       ^\n    // prev     next\n    this.updateCursors(item, item.prev, item, item.next);\n\n    if (item.prev !== null) {\n        item.prev.next = item.next;\n    } else {\n        if (this.head !== item) {\n            throw new Error('item doesn\\'t belong to list');\n        }\n\n        this.head = item.next;\n    }\n\n    if (item.next !== null) {\n        item.next.prev = item.prev;\n    } else {\n        if (this.tail !== item) {\n            throw new Error('item doesn\\'t belong to list');\n        }\n\n        this.tail = item.prev;\n    }\n\n    item.prev = null;\n    item.next = null;\n\n    return item;\n};\n\nList.prototype.push = function(data) {\n    this.insert(createItem(data));\n};\n\nList.prototype.pop = function() {\n    if (this.tail !== null) {\n        return this.remove(this.tail);\n    }\n};\n\nList.prototype.unshift = function(data) {\n    this.prepend(createItem(data));\n};\n\nList.prototype.shift = function() {\n    if (this.head !== null) {\n        return this.remove(this.head);\n    }\n};\n\nList.prototype.prependList = function(list) {\n    return this.insertList(list, this.head);\n};\n\nList.prototype.appendList = function(list) {\n    return this.insertList(list);\n};\n\nList.prototype.insertList = function(list, before) {\n    // ignore empty lists\n    if (list.head === null) {\n        return this;\n    }\n\n    if (before !== undefined && before !== null) {\n        this.updateCursors(before.prev, list.tail, before, list.head);\n\n        // insert in the middle of dist list\n        if (before.prev !== null) {\n            // before.prev <-> list.head\n            before.prev.next = list.head;\n            list.head.prev = before.prev;\n        } else {\n            this.head = list.head;\n        }\n\n        before.prev = list.tail;\n        list.tail.next = before;\n    } else {\n        this.updateCursors(this.tail, list.tail, null, list.head);\n\n        // insert to end of the list\n        if (this.tail !== null) {\n            // if destination list has a tail, then it also has a head,\n            // but head doesn't change\n\n            // dest tail -> source head\n            this.tail.next = list.head;\n\n            // dest tail <- source head\n            list.head.prev = this.tail;\n        } else {\n            // if list has no a tail, then it also has no a head\n            // in this case points head to new item\n            this.head = list.head;\n        }\n\n        // tail always start point to new item\n        this.tail = list.tail;\n    }\n\n    list.head = null;\n    list.tail = null;\n\n    return this;\n};\n\nList.prototype.replace = function(oldItem, newItemOrList) {\n    if ('head' in newItemOrList) {\n        this.insertList(newItemOrList, oldItem);\n    } else {\n        this.insert(newItemOrList, oldItem);\n    }\n\n    this.remove(oldItem);\n};\n\nmodule.exports = List;\n","var charCodeDef = require('./char-code-definitions');\nvar isDigit = charCodeDef.isDigit;\nvar isHexDigit = charCodeDef.isHexDigit;\nvar isUppercaseLetter = charCodeDef.isUppercaseLetter;\nvar isName = charCodeDef.isName;\nvar isWhiteSpace = charCodeDef.isWhiteSpace;\nvar isValidEscape = charCodeDef.isValidEscape;\n\nfunction getCharCode(source, offset) {\n    return offset < source.length ? source.charCodeAt(offset) : 0;\n}\n\nfunction getNewlineLength(source, offset, code) {\n    if (code === 13 /* \\r */ && getCharCode(source, offset + 1) === 10 /* \\n */) {\n        return 2;\n    }\n\n    return 1;\n}\n\nfunction cmpChar(testStr, offset, referenceCode) {\n    var code = testStr.charCodeAt(offset);\n\n    // code.toLowerCase() for A..Z\n    if (isUppercaseLetter(code)) {\n        code = code | 32;\n    }\n\n    return code === referenceCode;\n}\n\nfunction cmpStr(testStr, start, end, referenceStr) {\n    if (end - start !== referenceStr.length) {\n        return false;\n    }\n\n    if (start < 0 || end > testStr.length) {\n        return false;\n    }\n\n    for (var i = start; i < end; i++) {\n        var testCode = testStr.charCodeAt(i);\n        var referenceCode = referenceStr.charCodeAt(i - start);\n\n        // testCode.toLowerCase() for A..Z\n        if (isUppercaseLetter(testCode)) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction findWhiteSpaceStart(source, offset) {\n    for (; offset >= 0; offset--) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset + 1;\n}\n\nfunction findWhiteSpaceEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\nfunction findDecimalNumberEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isDigit(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\n//  4.3.7. Consume an escaped code point\nfunction consumeEscaped(source, offset) {\n    // It assumes that the U+005C REVERSE SOLIDUS (\\) has already been consumed and\n    // that the next input code point has already been verified to be part of a valid escape.\n    offset += 2;\n\n    // hex digit\n    if (isHexDigit(getCharCode(source, offset - 1))) {\n        // Consume as many hex digits as possible, but no more than 5.\n        // Note that this means 1-6 hex digits have been consumed in total.\n        for (var maxOffset = Math.min(source.length, offset + 5); offset < maxOffset; offset++) {\n            if (!isHexDigit(getCharCode(source, offset))) {\n                break;\n            }\n        }\n\n        // If the next input code point is whitespace, consume it as well.\n        var code = getCharCode(source, offset);\n        if (isWhiteSpace(code)) {\n            offset += getNewlineLength(source, offset, code);\n        }\n    }\n\n    return offset;\n}\n\n// 4.3.11. Consume a name\n// Note: This algorithm does not do the verification of the first few code points that are necessary\n// to ensure the returned code points would constitute an <ident-token>. If that is the intended use,\n// ensure that the stream starts with an identifier before calling this algorithm.\nfunction consumeName(source, offset) {\n    // Let result initially be an empty string.\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        var code = source.charCodeAt(offset);\n\n        // name code point\n        if (isName(code)) {\n            // Append the code point to result.\n            continue;\n        }\n\n        // the stream starts with a valid escape\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point. Append the returned code point to result.\n            offset = consumeEscaped(source, offset) - 1;\n            continue;\n        }\n\n        // anything else\n        // Reconsume the current input code point. Return result.\n        break;\n    }\n\n    return offset;\n}\n\n// 4.3.12. Consume a number\nfunction consumeNumber(source, offset) {\n    var code = source.charCodeAt(offset);\n\n    // 2. If the next input code point is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),\n    // consume it and append it to repr.\n    if (code === 0x002B || code === 0x002D) {\n        code = source.charCodeAt(offset += 1);\n    }\n\n    // 3. While the next input code point is a digit, consume it and append it to repr.\n    if (isDigit(code)) {\n        offset = findDecimalNumberEnd(source, offset + 1);\n        code = source.charCodeAt(offset);\n    }\n\n    // 4. If the next 2 input code points are U+002E FULL STOP (.) followed by a digit, then:\n    if (code === 0x002E && isDigit(source.charCodeAt(offset + 1))) {\n        // 4.1 Consume them.\n        // 4.2 Append them to repr.\n        code = source.charCodeAt(offset += 2);\n\n        // 4.3 Set type to \"number\".\n        // TODO\n\n        // 4.4 While the next input code point is a digit, consume it and append it to repr.\n\n        offset = findDecimalNumberEnd(source, offset);\n    }\n\n    // 5. If the next 2 or 3 input code points are U+0045 LATIN CAPITAL LETTER E (E)\n    // or U+0065 LATIN SMALL LETTER E (e), ... , followed by a digit, then:\n    if (cmpChar(source, offset, 101 /* e */)) {\n        var sign = 0;\n        code = source.charCodeAt(offset + 1);\n\n        // ... optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+) ...\n        if (code === 0x002D || code === 0x002B) {\n            sign = 1;\n            code = source.charCodeAt(offset + 2);\n        }\n\n        // ... followed by a digit\n        if (isDigit(code)) {\n            // 5.1 Consume them.\n            // 5.2 Append them to repr.\n\n            // 5.3 Set type to \"number\".\n            // TODO\n\n            // 5.4 While the next input code point is a digit, consume it and append it to repr.\n            offset = findDecimalNumberEnd(source, offset + 1 + sign + 1);\n        }\n    }\n\n    return offset;\n}\n\n//  4.3.14. Consume the remnants of a bad url\n// ... its sole use is to consume enough of the input stream to reach a recovery point\n// where normal tokenizing can resume.\nfunction consumeBadUrlRemnants(source, offset) {\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        var code = source.charCodeAt(offset);\n\n        // U+0029 RIGHT PARENTHESIS ())\n        // EOF\n        if (code === 0x0029) {\n            // Return.\n            offset++;\n            break;\n        }\n\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point.\n            // Note: This allows an escaped right parenthesis (\"\\)\") to be encountered\n            // without ending the <bad-url-token>. This is otherwise identical to\n            // the \"anything else\" clause.\n            offset = consumeEscaped(source, offset);\n        }\n    }\n\n    return offset;\n}\n\nmodule.exports = {\n    consumeEscaped: consumeEscaped,\n    consumeName: consumeName,\n    consumeNumber: consumeNumber,\n    consumeBadUrlRemnants: consumeBadUrlRemnants,\n\n    cmpChar: cmpChar,\n    cmpStr: cmpStr,\n\n    getNewlineLength: getNewlineLength,\n    findWhiteSpaceStart: findWhiteSpaceStart,\n    findWhiteSpaceEnd: findWhiteSpaceEnd\n};\n","var constants = require('../tokenizer/const');\nvar TYPE = constants.TYPE;\nvar NAME = constants.NAME;\n\nvar utils = require('../tokenizer/utils');\nvar cmpStr = utils.cmpStr;\n\nvar EOF = TYPE.EOF;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\n\nvar OFFSET_MASK = 0x00FFFFFF;\nvar TYPE_SHIFT = 24;\n\nvar TokenStream = function() {\n    this.offsetAndType = null;\n    this.balance = null;\n\n    this.reset();\n};\n\nTokenStream.prototype = {\n    reset: function() {\n        this.eof = false;\n        this.tokenIndex = -1;\n        this.tokenType = 0;\n        this.tokenStart = this.firstCharOffset;\n        this.tokenEnd = this.firstCharOffset;\n    },\n\n    lookupType: function(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset] >> TYPE_SHIFT;\n        }\n\n        return EOF;\n    },\n    lookupOffset: function(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset - 1] & OFFSET_MASK;\n        }\n\n        return this.source.length;\n    },\n    lookupValue: function(offset, referenceStr) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return cmpStr(\n                this.source,\n                this.offsetAndType[offset - 1] & OFFSET_MASK,\n                this.offsetAndType[offset] & OFFSET_MASK,\n                referenceStr\n            );\n        }\n\n        return false;\n    },\n    getTokenStart: function(tokenIndex) {\n        if (tokenIndex === this.tokenIndex) {\n            return this.tokenStart;\n        }\n\n        if (tokenIndex > 0) {\n            return tokenIndex < this.tokenCount\n                ? this.offsetAndType[tokenIndex - 1] & OFFSET_MASK\n                : this.offsetAndType[this.tokenCount] & OFFSET_MASK;\n        }\n\n        return this.firstCharOffset;\n    },\n\n    // TODO: -> skipUntilBalanced\n    getRawLength: function(startToken, mode) {\n        var cursor = startToken;\n        var balanceEnd;\n        var offset = this.offsetAndType[Math.max(cursor - 1, 0)] & OFFSET_MASK;\n        var type;\n\n        loop:\n        for (; cursor < this.tokenCount; cursor++) {\n            balanceEnd = this.balance[cursor];\n\n            // stop scanning on balance edge that points to offset before start token\n            if (balanceEnd < startToken) {\n                break loop;\n            }\n\n            type = this.offsetAndType[cursor] >> TYPE_SHIFT;\n\n            // check token is stop type\n            switch (mode(type, this.source, offset)) {\n                case 1:\n                    break loop;\n\n                case 2:\n                    cursor++;\n                    break loop;\n\n                default:\n                    offset = this.offsetAndType[cursor] & OFFSET_MASK;\n\n                    // fast forward to the end of balanced block\n                    if (this.balance[balanceEnd] === cursor) {\n                        cursor = balanceEnd;\n                    }\n            }\n        }\n\n        return cursor - this.tokenIndex;\n    },\n    isBalanceEdge: function(pos) {\n        return this.balance[this.tokenIndex] < pos;\n    },\n    isDelim: function(code, offset) {\n        if (offset) {\n            return (\n                this.lookupType(offset) === TYPE.Delim &&\n                this.source.charCodeAt(this.lookupOffset(offset)) === code\n            );\n        }\n\n        return (\n            this.tokenType === TYPE.Delim &&\n            this.source.charCodeAt(this.tokenStart) === code\n        );\n    },\n\n    getTokenValue: function() {\n        return this.source.substring(this.tokenStart, this.tokenEnd);\n    },\n    getTokenLength: function() {\n        return this.tokenEnd - this.tokenStart;\n    },\n    substrToCursor: function(start) {\n        return this.source.substring(start, this.tokenStart);\n    },\n\n    skipWS: function() {\n        for (var i = this.tokenIndex, skipTokenCount = 0; i < this.tokenCount; i++, skipTokenCount++) {\n            if ((this.offsetAndType[i] >> TYPE_SHIFT) !== WHITESPACE) {\n                break;\n            }\n        }\n\n        if (skipTokenCount > 0) {\n            this.skip(skipTokenCount);\n        }\n    },\n    skipSC: function() {\n        while (this.tokenType === WHITESPACE || this.tokenType === COMMENT) {\n            this.next();\n        }\n    },\n    skip: function(tokenCount) {\n        var next = this.tokenIndex + tokenCount;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.offsetAndType[next - 1] & OFFSET_MASK;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.next();\n        }\n    },\n    next: function() {\n        var next = this.tokenIndex + 1;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.tokenEnd;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.eof = true;\n            this.tokenType = EOF;\n            this.tokenStart = this.tokenEnd = this.source.length;\n        }\n    },\n\n    dump: function() {\n        var offset = this.firstCharOffset;\n\n        return Array.prototype.slice.call(this.offsetAndType, 0, this.tokenCount).map(function(item, idx) {\n            var start = offset;\n            var end = item & OFFSET_MASK;\n\n            offset = end;\n\n            return {\n                idx: idx,\n                type: NAME[item >> TYPE_SHIFT],\n                chunk: this.source.substring(start, end),\n                balance: this.balance[idx]\n            };\n        }, this);\n    }\n};\n\nmodule.exports = TokenStream;\n","// CSS Syntax Module Level 3\n// https://www.w3.org/TR/css-syntax-3/\nvar TYPE = {\n    EOF: 0,                 // <EOF-token>\n    Ident: 1,               // <ident-token>\n    Function: 2,            // <function-token>\n    AtKeyword: 3,           // <at-keyword-token>\n    Hash: 4,                // <hash-token>\n    String: 5,              // <string-token>\n    BadString: 6,           // <bad-string-token>\n    Url: 7,                 // <url-token>\n    BadUrl: 8,              // <bad-url-token>\n    Delim: 9,               // <delim-token>\n    Number: 10,             // <number-token>\n    Percentage: 11,         // <percentage-token>\n    Dimension: 12,          // <dimension-token>\n    WhiteSpace: 13,         // <whitespace-token>\n    CDO: 14,                // <CDO-token>\n    CDC: 15,                // <CDC-token>\n    Colon: 16,              // <colon-token>     :\n    Semicolon: 17,          // <semicolon-token> ;\n    Comma: 18,              // <comma-token>     ,\n    LeftSquareBracket: 19,  // <[-token>\n    RightSquareBracket: 20, // <]-token>\n    LeftParenthesis: 21,    // <(-token>\n    RightParenthesis: 22,   // <)-token>\n    LeftCurlyBracket: 23,   // <{-token>\n    RightCurlyBracket: 24,  // <}-token>\n    Comment: 25\n};\n\nvar NAME = Object.keys(TYPE).reduce(function(result, key) {\n    result[TYPE[key]] = key;\n    return result;\n}, {});\n\nmodule.exports = {\n    TYPE: TYPE,\n    NAME: NAME\n};\n","module.exports = {\n    hasNoChildren: function(node) {\n        return !node || !node.children || node.children.isEmpty();\n    },\n    isNodeChildrenList: function(node, list) {\n        return node !== null && node.children === list;\n    }\n};\n","var OMIT_PLUSSIGN = /^(?:\\+|(-))?0*(\\d*)(?:\\.0*|(\\.\\d*?)0*)?$/;\nvar KEEP_PLUSSIGN = /^([\\+\\-])?0*(\\d*)(?:\\.0*|(\\.\\d*?)0*)?$/;\nvar unsafeToRemovePlusSignAfter = {\n    Dimension: true,\n    HexColor: true,\n    Identifier: true,\n    Number: true,\n    Raw: true,\n    UnicodeRange: true\n};\n\nfunction packNumber(value, item) {\n    // omit plus sign only if no prev or prev is safe type\n    var regexp = item && item.prev !== null && unsafeToRemovePlusSignAfter.hasOwnProperty(item.prev.data.type)\n        ? KEEP_PLUSSIGN\n        : OMIT_PLUSSIGN;\n\n    // 100 -> '100'\n    // 00100 -> '100'\n    // +100 -> '100' (only when safe, e.g. omitting plus sign for 1px+1px leads to single dimension instead of two)\n    // -100 -> '-100'\n    // 0.123 -> '.123'\n    // 0.12300 -> '.123'\n    // 0.0 -> ''\n    // 0 -> ''\n    // -0 -> '-'\n    value = String(value).replace(regexp, '$1$2$3');\n\n    if (value === '' || value === '-') {\n        value = '0';\n    }\n\n    return value;\n}\n\nmodule.exports = function(node, item) {\n    node.value = packNumber(node.value, item);\n};\nmodule.exports.pack = packNumber;\n","import {\n  Ainsley,\n  AinsleyRule,\n  AinsleyPropertyOrPlaceholder,\n  AinsleyVariableMap,\n  AinsleyChild,\n  AinsleyChildren,\n  AinsleyAST,\n  AinsleyGenerateOptions\n} from \"../types\";\nimport { isObject, assign, flat, map, combinations, memoize } from \"./utils\";\n\nexport const ITERATOR_REGEX = \"\\\\{[a-zA-Z0-9_-]+\\\\}\";\nexport const DEFAULT_OPTIONS: AinsleyGenerateOptions = {\n  addVariationToSelector: (selector, variationAbbreviation) =>\n    variationAbbreviation + \"-\" + selector,\n  addPropertyToSelector: (selector, propertyAbbreviation) =>\n    selector + propertyAbbreviation.toLowerCase(),\n  addValueToSelector: (selector, valueAbbreviation) =>\n    selector + valueAbbreviation.toUpperCase(),\n  abbreviateProperty: (propertyName) => [\n    propertyName\n      .split(\"-\")\n      .map((word) => word.charAt(0))\n      .join(\"\")\n      .toLowerCase(),\n    propertyName.toLowerCase()\n  ]\n};\n\nconst ITERATOR_SEARCH = new RegExp(ITERATOR_REGEX, \"g\");\n\nexport const generate = (\n  ainsley: Ainsley,\n  options: Partial<AinsleyGenerateOptions> = {}\n): string => {\n  const mergedOptions = assign([\n    DEFAULT_OPTIONS,\n    options\n  ]) as AinsleyGenerateOptions;\n  const memoizedOptions: Partial<AinsleyGenerateOptions> = {};\n  map(Object.keys(mergedOptions), (key) => {\n    memoizedOptions[key as keyof AinsleyGenerateOptions] = memoize(\n      mergedOptions[key as keyof AinsleyGenerateOptions] as (\n        arg1: string,\n        arg2?: string\n      ) => any\n    );\n  });\n  return generateFromAst(\n    ainsleyToAst(ainsley, memoizedOptions as AinsleyGenerateOptions, {})\n  );\n};\n\nexport const generateFromAst = (ainsleyRules: AinsleyAST): string =>\n  map(\n    ainsleyRules,\n    (ainsleyRule: string | AinsleyRule | [string, AinsleyAST]) => {\n      if (typeof ainsleyRule === \"string\") {\n        return ainsleyRule;\n      } else if (ainsleyRule[0].charAt(0) === \"@\") {\n        return (\n          ainsleyRule[0] + \"{\" + generateFromAst(ainsleyRule[1] as any) + \"}\"\n        );\n      } else {\n        return (\n          \".\" +\n          ainsleyRule[0] +\n          \"{\" +\n          map(\n            ainsleyRule[1],\n            (declaration: [string, string]) =>\n              declaration[0] + \":\" + declaration[1]\n          ).join(\";\") +\n          \"}\"\n        );\n      }\n    }\n  ).join(\"\");\n\nconst ainsleyToAst = (\n  ainsley: Ainsley,\n  options: AinsleyGenerateOptions,\n  inheritedVariables: AinsleyVariableMap\n): AinsleyAST => {\n  // first, compute variables\n  const newVariables = assign([inheritedVariables]);\n  if (isObject(ainsley.variables)) {\n    const variables = ainsley.variables as AinsleyVariableMap;\n    map(Object.keys(variables), (variable: string) => {\n      const modAndBase = parseVariable(variable);\n      const mod = modAndBase[0];\n      const base = modAndBase[1];\n      if (mod === 0) {\n        newVariables[base] = variables[variable];\n      } else if (mod === 2) {\n        newVariables[base] = assign([\n          inheritedVariables[base],\n          variables[variable]\n        ]);\n      }\n    });\n  }\n\n  // then, flatten children into ast\n  const rulesListWithoutVariants =\n    ainsley.children === undefined\n      ? []\n      : ainsleyChildrenToAst(ainsley.children, options, newVariables);\n\n  // lastly, multiply ast with variations\n  const rulesList: AinsleyAST = flat(\n    map(\n      combinations(\n        map(ainsley.variations ?? [], (variationSet) =>\n          [[\"\", \"\"]].concat(variationSet)\n        )\n      ),\n      (combination) =>\n        combination.reduce(\n          (prevAst: AinsleyAST, variation: [string, string]) => {\n            const variationAbbreviation = variation[0];\n            const variationInstruction = variation[1];\n\n            if (variationInstruction === \"\") {\n              return prevAst;\n            } else if (variationInstruction.charAt(0) === \"@\") {\n              return [\n                [\n                  variationInstruction,\n                  map(prevAst, (rule: AinsleyRule) =>\n                    typeof rule === \"string\"\n                      ? rule\n                      : [\n                          options.addVariationToSelector(\n                            rule[0],\n                            variationAbbreviation\n                          ),\n                          rule[1]\n                        ]\n                  )\n                ]\n              ];\n            } else {\n              return map(prevAst, (rule: AinsleyRule) =>\n                typeof rule === \"string\"\n                  ? rule\n                  : [\n                      options.addVariationToSelector(\n                        rule[0],\n                        variationAbbreviation\n                      ) + variationInstruction,\n                      rule[1]\n                    ]\n              );\n            }\n          },\n          rulesListWithoutVariants\n        )\n    )\n  );\n\n  return rulesList;\n};\n\nconst ainsleyChildrenToAst = (\n  ainsleyChildren: AinsleyChildren,\n  options: AinsleyGenerateOptions,\n  variables: AinsleyVariableMap\n): AinsleyAST =>\n  flat(\n    map(ainsleyChildren, (child: AinsleyChild) => {\n      if (typeof child === \"string\") {\n        return [child];\n      } else if (isObject(child)) {\n        return ainsleyToAst(child as Ainsley, options, variables);\n      } else {\n        child = child as AinsleyRule | AinsleyPropertyOrPlaceholder;\n        if (Array.isArray(child[1])) {\n          return ainsleyRuleToAst(child as AinsleyRule, options, variables);\n        } else {\n          return ainsleyPropertyToAst(\n            child as AinsleyPropertyOrPlaceholder,\n            options\n          );\n        }\n      }\n    })\n  );\n\nconst ainsleyRuleToAst = (\n  ainsleyRule: AinsleyRule,\n  options: AinsleyGenerateOptions,\n  variables: AinsleyVariableMap\n): AinsleyAST => {\n  const selector = ainsleyRule[0];\n  const declarations = ainsleyRule[1];\n  const variablesFound: Array<[string, number]> = [];\n  map(declarations, (declaration) => {\n    const propertyMatches =\n      ((declaration[0] as string) + \"\").match(ITERATOR_SEARCH) ?? [];\n    const valueMatches =\n      ((declaration[1] as string) + \"\").match(ITERATOR_SEARCH) ?? [];\n    map(propertyMatches, (match) => variablesFound.push([match, 0]));\n    map(valueMatches, (match) => variablesFound.push([match, 1]));\n  });\n\n  return map(\n    combinations(\n      map(variablesFound, (iteratorAndType: [string, number]) => {\n        const iterator = iteratorAndType[0];\n        const location = iteratorAndType[1];\n        const variableName = iterator.slice(1, -1);\n        return map(Object.keys(variables[variableName]), (abbreviation) => [\n          iterator,\n          abbreviation,\n          variables[variableName][abbreviation],\n          location\n        ]);\n      })\n    ),\n    (combination) => {\n      let combinationIndex = 0;\n      let current: [string, string, string | number, number] =\n        combination[combinationIndex];\n\n      return [\n        combination.reduce(\n          (\n            selector: string,\n            part: [string, string, string | number, number]\n          ) => {\n            if (part[3] === 0) {\n              return options.addPropertyToSelector(selector, part[1]);\n            } /* if (part[3] === 1) */ else {\n              return options.addValueToSelector(selector, part[1]);\n            }\n          },\n          selector\n        ),\n        map(declarations, (declaration) =>\n          map(declaration, (declarationPart) => {\n            while (\n              current !== undefined &&\n              declarationPart.indexOf(current[0]) !== -1\n            ) {\n              declarationPart = declarationPart.replace(current[0], current[2]);\n              current = combination[++combinationIndex];\n            }\n            return declarationPart;\n          })\n        )\n      ];\n    }\n  );\n};\n\nconst ainsleyPropertyToAst = (\n  ainsleyProperty: AinsleyPropertyOrPlaceholder,\n  options: AinsleyGenerateOptions\n): AinsleyAST => {\n  const propertyInput = ainsleyProperty[0];\n  const propertyValues = ainsleyProperty[1];\n\n  const propertyData: [string, string] = options.abbreviateProperty(\n    propertyInput\n  );\n  const propertyAbbreviation = propertyData[0];\n  const propertyName = propertyData[1];\n\n  return map(Object.keys(propertyValues), (valueAbbreviation: string) => [\n    options.addValueToSelector(\n      options.addPropertyToSelector(\"\", propertyAbbreviation),\n      valueAbbreviation\n    ),\n    [[propertyName, propertyValues[valueAbbreviation]]]\n  ]);\n};\n\nconst parseVariable = (variable: string): [number, string] => {\n  const mod = \"?+\".indexOf(variable[0]) + 1;\n  const base = mod > 0 ? variable.slice(1) : variable;\n  return [mod, base];\n};\n","// singleton embed pattern, using id as the unique identifier\nexport const embed = (css: string, id?: string): void => {\n  let styleEl: HTMLStyleElement | null = null;\n  if (id !== undefined) styleEl = document.querySelector(`style#${id}`);\n\n  if (styleEl === null) {\n    styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    if (id !== undefined) styleEl.setAttribute(\"id\", id);\n    document.head.appendChild(styleEl);\n  }\n\n  styleEl.innerHTML = css;\n};\n","const { toString: toStringFunction } = Function.prototype;\nconst {\n  create,\n  defineProperty,\n  getOwnPropertyDescriptor,\n  getOwnPropertyNames,\n  getOwnPropertySymbols,\n  getPrototypeOf,\n} = Object;\nconst { hasOwnProperty, propertyIsEnumerable } = Object.prototype;\n\n/**\n * @enum\n *\n * @const {Object} SUPPORTS\n *\n * @property {boolean} SYMBOL_PROPERTIES are symbol properties supported\n * @property {boolean} WEAKMAP is WeakMap supported\n */\nexport const SUPPORTS = {\n  SYMBOL_PROPERTIES: typeof getOwnPropertySymbols === 'function',\n  WEAKMAP: typeof WeakMap === 'function',\n};\n\n/**\n * @function createCache\n *\n * @description\n * get a new cache object to prevent circular references\n *\n * @returns the new cache object\n */\nexport const createCache = (): FastCopy.Cache => {\n  if (SUPPORTS.WEAKMAP) {\n    return new WeakMap();\n  }\n\n  // tiny implementation of WeakMap\n  const object = create({\n    has: (key: any) => !!~object._keys.indexOf(key),\n    set: (key: any, value: any) => {\n      object._keys.push(key);\n      object._values.push(value);\n    },\n    get: (key: any) => object._values[object._keys.indexOf(key)],\n  });\n\n  object._keys = [];\n  object._values = [];\n\n  return object;\n};\n\n/**\n * @function getCleanClone\n *\n * @description\n * get an empty version of the object with the same prototype it has\n *\n * @param object the object to build a clean clone from\n * @param realm the realm the object resides in\n * @returns the empty cloned object\n */\nexport const getCleanClone = (object: any, realm: FastCopy.Realm): any => {\n  if (!object.constructor) {\n    return create(null);\n  }\n\n  const { constructor: Constructor } = object;\n  const prototype = object.__proto__ || getPrototypeOf(object);\n\n  if (Constructor === realm.Object) {\n    return prototype === realm.Object.prototype ? {} : create(prototype);\n  }\n\n  if (~toStringFunction.call(Constructor).indexOf('[native code]')) {\n    try {\n      return new Constructor();\n    } catch {}\n  }\n\n  return create(prototype);\n};\n\n/**\n * @function getObjectCloneLoose\n *\n * @description\n * get a copy of the object based on loose rules, meaning all enumerable keys\n * and symbols are copied, but property descriptors are not considered\n *\n * @param object the object to clone\n * @param realm the realm the object resides in\n * @param handleCopy the function that handles copying the object\n * @returns the copied object\n */\nexport const getObjectCloneLoose: FastCopy.ObjectCloner = (\n  object: any,\n  realm: FastCopy.Realm,\n  handleCopy: FastCopy.Copier,\n  cache: FastCopy.Cache,\n): any => {\n  const clone: any = getCleanClone(object, realm);\n  // set in the cache immediately to be able to reuse the object recursively\n  cache.set(object, clone);\n\n  for (const key in object) {\n    if (hasOwnProperty.call(object, key)) {\n      clone[key] = handleCopy(object[key], cache);\n    }\n  }\n\n  if (SUPPORTS.SYMBOL_PROPERTIES) {\n    const symbols: symbol[] = getOwnPropertySymbols(object);\n\n    const { length } = symbols;\n\n    if (length) {\n      for (let index = 0, symbol; index < length; index++) {\n        symbol = symbols[index];\n\n        if (propertyIsEnumerable.call(object, symbol)) {\n          clone[symbol] = handleCopy(object[symbol], cache);\n        }\n      }\n    }\n  }\n\n  return clone;\n};\n\n/**\n * @function getObjectCloneStrict\n *\n * @description\n * get a copy of the object based on strict rules, meaning all keys and symbols\n * are copied based on the original property descriptors\n *\n * @param object the object to clone\n * @param realm the realm the object resides in\n * @param handleCopy the function that handles copying the object\n * @returns the copied object\n */\nexport const getObjectCloneStrict: FastCopy.ObjectCloner = (\n  object: any,\n  realm: FastCopy.Realm,\n  handleCopy: FastCopy.Copier,\n  cache: FastCopy.Cache,\n): any => {\n  const clone: any = getCleanClone(object, realm);\n  // set in the cache immediately to be able to reuse the object recursively\n  cache.set(object, clone);\n\n  const properties: (string | symbol)[] = SUPPORTS.SYMBOL_PROPERTIES\n    ? getOwnPropertyNames(object).concat((getOwnPropertySymbols(object) as unknown) as string[])\n    : getOwnPropertyNames(object);\n\n  const { length } = properties;\n\n  if (length) {\n    for (let index = 0, property, descriptor; index < length; index++) {\n      property = properties[index];\n\n      if (property !== 'callee' && property !== 'caller') {\n        descriptor = getOwnPropertyDescriptor(object, property);\n\n        descriptor.value = handleCopy(object[property], cache);\n\n        defineProperty(clone, property, descriptor);\n      }\n    }\n  }\n\n  return clone;\n};\n\n/**\n * @function getRegExpFlags\n *\n * @description\n * get the flags to apply to the copied regexp\n *\n * @param regExp the regexp to get the flags of\n * @returns the flags for the regexp\n */\nexport const getRegExpFlags = (regExp: RegExp): string => {\n  let flags = '';\n\n  if (regExp.global) {\n    flags += 'g';\n  }\n\n  if (regExp.ignoreCase) {\n    flags += 'i';\n  }\n\n  if (regExp.multiline) {\n    flags += 'm';\n  }\n\n  if (regExp.unicode) {\n    flags += 'u';\n  }\n\n  if (regExp.sticky) {\n    flags += 'y';\n  }\n\n  return flags;\n};\n","// utils\nimport { createCache, getObjectCloneLoose, getObjectCloneStrict, getRegExpFlags } from './utils';\n\nconst { isArray } = Array;\n\nconst GLOBAL_THIS = (() => {\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n\n  if (console && console.error) {\n    console.error('Unable to locate global object, returning \"this\".');\n  }\n})();\n\n/**\n * @function copy\n *\n * @description\n * copy an object deeply as much as possible\n *\n * If `strict` is applied, then all properties (including non-enumerable ones)\n * are copied with their original property descriptors on both objects and arrays.\n *\n * The object is compared to the global constructors in the `realm` provided,\n * and the native constructor is always used to ensure that extensions of native\n * objects (allows in ES2015+) are maintained.\n *\n * @param object the object to copy\n * @param [options] the options for copying with\n * @param [options.isStrict] should the copy be strict\n * @param [options.realm] the realm (this) object the object is copied from\n * @returns the copied object\n */\nfunction copy<T>(object: T, options?: FastCopy.Options): T {\n  // manually coalesced instead of default parameters for performance\n  const isStrict: boolean = !!(options && options.isStrict);\n  const realm: FastCopy.Realm = (options && options.realm) || GLOBAL_THIS;\n\n  const getObjectClone: FastCopy.ObjectCloner = isStrict\n    ? getObjectCloneStrict\n    : getObjectCloneLoose;\n\n  /**\n   * @function handleCopy\n   *\n   * @description\n   * copy the object recursively based on its type\n   *\n   * @param object the object to copy\n   * @returns the copied object\n   */\n  const handleCopy: FastCopy.Copier = (object: any, cache: FastCopy.Cache): any => {\n    if (!object || typeof object !== 'object') {\n      return object;\n    } if (cache.has(object)) {\n      return cache.get(object);\n    }\n\n    const { constructor: Constructor } = object;\n\n    // plain objects\n    if (Constructor === realm.Object) {\n      return getObjectClone(object, realm, handleCopy, cache);\n    }\n\n    let clone: any;\n    // arrays\n    if (isArray(object)) {\n      // if strict, include non-standard properties\n      if (isStrict) {\n        return getObjectCloneStrict(object, realm, handleCopy, cache);\n      }\n\n      const { length } = object;\n\n      clone = new Constructor();\n      cache.set(object, clone);\n\n      for (let index: number = 0; index < length; index++) {\n        clone[index] = handleCopy(object[index], cache);\n      }\n\n      return clone;\n    }\n\n    // dates\n    if (object instanceof realm.Date) {\n      return new Constructor(object.getTime());\n    }\n\n    // regexps\n    if (object instanceof realm.RegExp) {\n      clone = new Constructor(object.source, object.flags || getRegExpFlags(object));\n\n      clone.lastIndex = object.lastIndex;\n\n      return clone;\n    }\n\n    // maps\n    if (realm.Map && object instanceof realm.Map) {\n      clone = new Constructor();\n      cache.set(object, clone);\n\n      object.forEach((value: any, key: any) => {\n        clone.set(key, handleCopy(value, cache));\n      });\n\n      return clone;\n    }\n\n    // sets\n    if (realm.Set && object instanceof realm.Set) {\n      clone = new Constructor();\n      cache.set(object, clone);\n\n      object.forEach((value: any) => {\n        clone.add(handleCopy(value, cache));\n      });\n\n      return clone;\n    }\n\n    // buffers (node-only)\n    if (realm.Buffer && realm.Buffer.isBuffer(object)) {\n      clone = realm.Buffer.allocUnsafe\n        ? realm.Buffer.allocUnsafe(object.length)\n        : new Constructor(object.length);\n\n      cache.set(object, clone);\n      object.copy(clone);\n\n      return clone;\n    }\n\n    // arraybuffers / dataviews\n    if (realm.ArrayBuffer) {\n      // dataviews\n      if (realm.ArrayBuffer.isView(object)) {\n        clone = new Constructor(object.buffer.slice(0));\n        cache.set(object, clone);\n        return clone;\n      }\n\n      // arraybuffers\n      if (object instanceof realm.ArrayBuffer) {\n        clone = object.slice(0);\n        cache.set(object, clone);\n        return clone;\n      }\n    }\n\n    // if the object cannot / should not be cloned, don't\n    if (\n      // promise-like\n      typeof object.then === 'function' ||\n      // errors\n      object instanceof Error ||\n      // weakmaps\n      (realm.WeakMap && object instanceof realm.WeakMap) ||\n      // weaksets\n      (realm.WeakSet && object instanceof realm.WeakSet)\n    ) {\n      return object;\n    }\n\n    // assume anything left is a custom constructor\n    return getObjectClone(object, realm, handleCopy, cache);\n  };\n\n  return handleCopy(object, createCache());\n}\n\n/**\n * @function strictCopy\n *\n * @description\n * copy the object with `strict` option pre-applied\n *\n * @param object the object to copy\n * @param [options] the options for copying with\n * @param [options.realm] the realm (this) object the object is copied from\n * @returns the copied object\n */\ncopy.strict = function strictCopy(object: any, options?: FastCopy.Options) {\n  return copy(object, {\n    isStrict: true,\n    realm: options ? options.realm : void 0,\n  });\n};\n\nexport default copy;\n","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","module.exports = function createCustomError(name, message) {\n    // use Object.create(), because some VMs prevent setting line/column otherwise\n    // (iOS Safari 10 even throws an exception)\n    var error = Object.create(SyntaxError.prototype);\n    var errorStack = new Error();\n\n    error.name = name;\n    error.message = message;\n\n    Object.defineProperty(error, 'stack', {\n        get: function() {\n            return (errorStack.stack || '').replace(/^(.+\\n){1,3}/, name + ': ' + message + '\\n');\n        }\n    });\n\n    return error;\n};\n","function noop(value) {\n    return value;\n}\n\nfunction generateMultiplier(multiplier) {\n    if (multiplier.min === 0 && multiplier.max === 0) {\n        return '*';\n    }\n\n    if (multiplier.min === 0 && multiplier.max === 1) {\n        return '?';\n    }\n\n    if (multiplier.min === 1 && multiplier.max === 0) {\n        return multiplier.comma ? '#' : '+';\n    }\n\n    if (multiplier.min === 1 && multiplier.max === 1) {\n        return '';\n    }\n\n    return (\n        (multiplier.comma ? '#' : '') +\n        (multiplier.min === multiplier.max\n            ? '{' + multiplier.min + '}'\n            : '{' + multiplier.min + ',' + (multiplier.max !== 0 ? multiplier.max : '') + '}'\n        )\n    );\n}\n\nfunction generateTypeOpts(node) {\n    switch (node.type) {\n        case 'Range':\n            return (\n                ' [' +\n                (node.min === null ? '-' : node.min) +\n                ',' +\n                (node.max === null ? '' : node.max) +\n                ']'\n            );\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n}\n\nfunction generateSequence(node, decorate, forceBraces, compact) {\n    var combinator = node.combinator === ' ' || compact ? node.combinator : ' ' + node.combinator + ' ';\n    var result = node.terms.map(function(term) {\n        return generate(term, decorate, forceBraces, compact);\n    }).join(combinator);\n\n    if (node.explicit || forceBraces) {\n        result = (compact || result[0] === ',' ? '[' : '[ ') + result + (compact ? ']' : ' ]');\n    }\n\n    return result;\n}\n\nfunction generate(node, decorate, forceBraces, compact) {\n    var result;\n\n    switch (node.type) {\n        case 'Group':\n            result =\n                generateSequence(node, decorate, forceBraces, compact) +\n                (node.disallowEmpty ? '!' : '');\n            break;\n\n        case 'Multiplier':\n            // return since node is a composition\n            return (\n                generate(node.term, decorate, forceBraces, compact) +\n                decorate(generateMultiplier(node), node)\n            );\n\n        case 'Type':\n            result = '<' + node.name + (node.opts ? decorate(generateTypeOpts(node.opts), node.opts) : '') + '>';\n            break;\n\n        case 'Property':\n            result = '<\\'' + node.name + '\\'>';\n            break;\n\n        case 'Keyword':\n            result = node.name;\n            break;\n\n        case 'AtKeyword':\n            result = '@' + node.name;\n            break;\n\n        case 'Function':\n            result = node.name + '(';\n            break;\n\n        case 'String':\n        case 'Token':\n            result = node.value;\n            break;\n\n        case 'Comma':\n            result = ',';\n            break;\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n\n    return decorate(result, node);\n}\n\nmodule.exports = function(node, options) {\n    var decorate = noop;\n    var forceBraces = false;\n    var compact = false;\n\n    if (typeof options === 'function') {\n        decorate = options;\n    } else if (options) {\n        forceBraces = Boolean(options.forceBraces);\n        compact = Boolean(options.compact);\n        if (typeof options.decorate === 'function') {\n            decorate = options.decorate;\n        }\n    }\n\n    return generate(node, decorate, forceBraces, compact);\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar keywords = Object.create(null);\nvar properties = Object.create(null);\nvar HYPHENMINUS = 45; // '-'.charCodeAt()\n\nfunction isCustomProperty(str, offset) {\n    offset = offset || 0;\n\n    return str.length - offset >= 2 &&\n           str.charCodeAt(offset) === HYPHENMINUS &&\n           str.charCodeAt(offset + 1) === HYPHENMINUS;\n}\n\nfunction getVendorPrefix(str, offset) {\n    offset = offset || 0;\n\n    // verdor prefix should be at least 3 chars length\n    if (str.length - offset >= 3) {\n        // vendor prefix starts with hyper minus following non-hyper minus\n        if (str.charCodeAt(offset) === HYPHENMINUS &&\n            str.charCodeAt(offset + 1) !== HYPHENMINUS) {\n            // vendor prefix should contain a hyper minus at the ending\n            var secondDashIndex = str.indexOf('-', offset + 2);\n\n            if (secondDashIndex !== -1) {\n                return str.substring(offset, secondDashIndex + 1);\n            }\n        }\n    }\n\n    return '';\n}\n\nfunction getKeywordDescriptor(keyword) {\n    if (hasOwnProperty.call(keywords, keyword)) {\n        return keywords[keyword];\n    }\n\n    var name = keyword.toLowerCase();\n\n    if (hasOwnProperty.call(keywords, name)) {\n        return keywords[keyword] = keywords[name];\n    }\n\n    var custom = isCustomProperty(name, 0);\n    var vendor = !custom ? getVendorPrefix(name, 0) : '';\n\n    return keywords[keyword] = Object.freeze({\n        basename: name.substr(vendor.length),\n        name: name,\n        vendor: vendor,\n        prefix: vendor,\n        custom: custom\n    });\n}\n\nfunction getPropertyDescriptor(property) {\n    if (hasOwnProperty.call(properties, property)) {\n        return properties[property];\n    }\n\n    var name = property;\n    var hack = property[0];\n\n    if (hack === '/') {\n        hack = property[1] === '/' ? '//' : '/';\n    } else if (hack !== '_' &&\n               hack !== '*' &&\n               hack !== '$' &&\n               hack !== '#' &&\n               hack !== '+' &&\n               hack !== '&') {\n        hack = '';\n    }\n\n    var custom = isCustomProperty(name, hack.length);\n\n    // re-use result when possible (the same as for lower case)\n    if (!custom) {\n        name = name.toLowerCase();\n        if (hasOwnProperty.call(properties, name)) {\n            return properties[property] = properties[name];\n        }\n    }\n\n    var vendor = !custom ? getVendorPrefix(name, hack.length) : '';\n    var prefix = name.substr(0, hack.length + vendor.length);\n\n    return properties[property] = Object.freeze({\n        basename: name.substr(prefix.length),\n        name: name.substr(hack.length),\n        hack: hack,\n        vendor: vendor,\n        prefix: prefix,\n        custom: custom\n    });\n}\n\nmodule.exports = {\n    keyword: getKeywordDescriptor,\n    property: getPropertyDescriptor,\n    isCustomProperty: isCustomProperty,\n    vendorPrefix: getVendorPrefix\n};\n","var Tokenizer = require('./tokenizer');\nvar TAB = 9;\nvar N = 10;\nvar F = 12;\nvar R = 13;\nvar SPACE = 32;\nvar EXCLAMATIONMARK = 33;    // !\nvar NUMBERSIGN = 35;         // #\nvar AMPERSAND = 38;          // &\nvar APOSTROPHE = 39;         // '\nvar LEFTPARENTHESIS = 40;    // (\nvar RIGHTPARENTHESIS = 41;   // )\nvar ASTERISK = 42;           // *\nvar PLUSSIGN = 43;           // +\nvar COMMA = 44;              // ,\nvar HYPERMINUS = 45;         // -\nvar LESSTHANSIGN = 60;       // <\nvar GREATERTHANSIGN = 62;    // >\nvar QUESTIONMARK = 63;       // ?\nvar COMMERCIALAT = 64;       // @\nvar LEFTSQUAREBRACKET = 91;  // [\nvar RIGHTSQUAREBRACKET = 93; // ]\nvar LEFTCURLYBRACKET = 123;  // {\nvar VERTICALLINE = 124;      // |\nvar RIGHTCURLYBRACKET = 125; // }\nvar INFINITY = 8734;         // \nvar NAME_CHAR = createCharMap(function(ch) {\n    return /[a-zA-Z0-9\\-]/.test(ch);\n});\nvar COMBINATOR_PRECEDENCE = {\n    ' ': 1,\n    '&&': 2,\n    '||': 3,\n    '|': 4\n};\n\nfunction createCharMap(fn) {\n    var array = typeof Uint32Array === 'function' ? new Uint32Array(128) : new Array(128);\n    for (var i = 0; i < 128; i++) {\n        array[i] = fn(String.fromCharCode(i)) ? 1 : 0;\n    }\n    return array;\n}\n\nfunction scanSpaces(tokenizer) {\n    return tokenizer.substringToPos(\n        tokenizer.findWsEnd(tokenizer.pos)\n    );\n}\n\nfunction scanWord(tokenizer) {\n    var end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        var code = tokenizer.str.charCodeAt(end);\n        if (code >= 128 || NAME_CHAR[code] === 0) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a keyword');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanNumber(tokenizer) {\n    var end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        var code = tokenizer.str.charCodeAt(end);\n        if (code < 48 || code > 57) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a number');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanString(tokenizer) {\n    var end = tokenizer.str.indexOf('\\'', tokenizer.pos + 1);\n\n    if (end === -1) {\n        tokenizer.pos = tokenizer.str.length;\n        tokenizer.error('Expect an apostrophe');\n    }\n\n    return tokenizer.substringToPos(end + 1);\n}\n\nfunction readMultiplierRange(tokenizer) {\n    var min = null;\n    var max = null;\n\n    tokenizer.eat(LEFTCURLYBRACKET);\n\n    min = scanNumber(tokenizer);\n\n    if (tokenizer.charCode() === COMMA) {\n        tokenizer.pos++;\n        if (tokenizer.charCode() !== RIGHTCURLYBRACKET) {\n            max = scanNumber(tokenizer);\n        }\n    } else {\n        max = min;\n    }\n\n    tokenizer.eat(RIGHTCURLYBRACKET);\n\n    return {\n        min: Number(min),\n        max: max ? Number(max) : 0\n    };\n}\n\nfunction readMultiplier(tokenizer) {\n    var range = null;\n    var comma = false;\n\n    switch (tokenizer.charCode()) {\n        case ASTERISK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 0\n            };\n\n            break;\n\n        case PLUSSIGN:\n            tokenizer.pos++;\n\n            range = {\n                min: 1,\n                max: 0\n            };\n\n            break;\n\n        case QUESTIONMARK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 1\n            };\n\n            break;\n\n        case NUMBERSIGN:\n            tokenizer.pos++;\n\n            comma = true;\n\n            if (tokenizer.charCode() === LEFTCURLYBRACKET) {\n                range = readMultiplierRange(tokenizer);\n            } else {\n                range = {\n                    min: 1,\n                    max: 0\n                };\n            }\n\n            break;\n\n        case LEFTCURLYBRACKET:\n            range = readMultiplierRange(tokenizer);\n            break;\n\n        default:\n            return null;\n    }\n\n    return {\n        type: 'Multiplier',\n        comma: comma,\n        min: range.min,\n        max: range.max,\n        term: null\n    };\n}\n\nfunction maybeMultiplied(tokenizer, node) {\n    var multiplier = readMultiplier(tokenizer);\n\n    if (multiplier !== null) {\n        multiplier.term = node;\n        return multiplier;\n    }\n\n    return node;\n}\n\nfunction maybeToken(tokenizer) {\n    var ch = tokenizer.peek();\n\n    if (ch === '') {\n        return null;\n    }\n\n    return {\n        type: 'Token',\n        value: ch\n    };\n}\n\nfunction readProperty(tokenizer) {\n    var name;\n\n    tokenizer.eat(LESSTHANSIGN);\n    tokenizer.eat(APOSTROPHE);\n\n    name = scanWord(tokenizer);\n\n    tokenizer.eat(APOSTROPHE);\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Property',\n        name: name\n    });\n}\n\n// https://drafts.csswg.org/css-values-3/#numeric-ranges\n// 4.1. Range Restrictions and Range Definition Notation\n//\n// Range restrictions can be annotated in the numeric type notation using CSS bracketed\n// range notation[min,max]within the angle brackets, after the identifying keyword,\n// indicating a closed range between (and including) min and max.\n// For example, <integer [0, 10]> indicates an integer between 0 and 10, inclusive.\nfunction readTypeRange(tokenizer) {\n    // use null for Infinity to make AST format JSON serializable/deserializable\n    var min = null; // -Infinity\n    var max = null; // Infinity\n    var sign = 1;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n\n    if (tokenizer.charCode() === HYPERMINUS) {\n        tokenizer.peek();\n        sign = -1;\n    }\n\n    if (sign == -1 && tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        min = sign * Number(scanNumber(tokenizer));\n    }\n\n    scanSpaces(tokenizer);\n    tokenizer.eat(COMMA);\n    scanSpaces(tokenizer);\n\n    if (tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        sign = 1;\n\n        if (tokenizer.charCode() === HYPERMINUS) {\n            tokenizer.peek();\n            sign = -1;\n        }\n\n        max = sign * Number(scanNumber(tokenizer));\n    }\n\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    // If no range is indicated, either by using the bracketed range notation\n    // or in the property description, then [,] is assumed.\n    if (min === null && max === null) {\n        return null;\n    }\n\n    return {\n        type: 'Range',\n        min: min,\n        max: max\n    };\n}\n\nfunction readType(tokenizer) {\n    var name;\n    var opts = null;\n\n    tokenizer.eat(LESSTHANSIGN);\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS &&\n        tokenizer.nextCharCode() === RIGHTPARENTHESIS) {\n        tokenizer.pos += 2;\n        name += '()';\n    }\n\n    if (tokenizer.charCodeAt(tokenizer.findWsEnd(tokenizer.pos)) === LEFTSQUAREBRACKET) {\n        scanSpaces(tokenizer);\n        opts = readTypeRange(tokenizer);\n    }\n\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Type',\n        name: name,\n        opts: opts\n    });\n}\n\nfunction readKeywordOrFunction(tokenizer) {\n    var name;\n\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS) {\n        tokenizer.pos++;\n\n        return {\n            type: 'Function',\n            name: name\n        };\n    }\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Keyword',\n        name: name\n    });\n}\n\nfunction regroupTerms(terms, combinators) {\n    function createGroup(terms, combinator) {\n        return {\n            type: 'Group',\n            terms: terms,\n            combinator: combinator,\n            disallowEmpty: false,\n            explicit: false\n        };\n    }\n\n    combinators = Object.keys(combinators).sort(function(a, b) {\n        return COMBINATOR_PRECEDENCE[a] - COMBINATOR_PRECEDENCE[b];\n    });\n\n    while (combinators.length > 0) {\n        var combinator = combinators.shift();\n        for (var i = 0, subgroupStart = 0; i < terms.length; i++) {\n            var term = terms[i];\n            if (term.type === 'Combinator') {\n                if (term.value === combinator) {\n                    if (subgroupStart === -1) {\n                        subgroupStart = i - 1;\n                    }\n                    terms.splice(i, 1);\n                    i--;\n                } else {\n                    if (subgroupStart !== -1 && i - subgroupStart > 1) {\n                        terms.splice(\n                            subgroupStart,\n                            i - subgroupStart,\n                            createGroup(terms.slice(subgroupStart, i), combinator)\n                        );\n                        i = subgroupStart + 1;\n                    }\n                    subgroupStart = -1;\n                }\n            }\n        }\n\n        if (subgroupStart !== -1 && combinators.length) {\n            terms.splice(\n                subgroupStart,\n                i - subgroupStart,\n                createGroup(terms.slice(subgroupStart, i), combinator)\n            );\n        }\n    }\n\n    return combinator;\n}\n\nfunction readImplicitGroup(tokenizer) {\n    var terms = [];\n    var combinators = {};\n    var token;\n    var prevToken = null;\n    var prevTokenPos = tokenizer.pos;\n\n    while (token = peek(tokenizer)) {\n        if (token.type !== 'Spaces') {\n            if (token.type === 'Combinator') {\n                // check for combinator in group beginning and double combinator sequence\n                if (prevToken === null || prevToken.type === 'Combinator') {\n                    tokenizer.pos = prevTokenPos;\n                    tokenizer.error('Unexpected combinator');\n                }\n\n                combinators[token.value] = true;\n            } else if (prevToken !== null && prevToken.type !== 'Combinator') {\n                combinators[' '] = true;  // a b\n                terms.push({\n                    type: 'Combinator',\n                    value: ' '\n                });\n            }\n\n            terms.push(token);\n            prevToken = token;\n            prevTokenPos = tokenizer.pos;\n        }\n    }\n\n    // check for combinator in group ending\n    if (prevToken !== null && prevToken.type === 'Combinator') {\n        tokenizer.pos -= prevTokenPos;\n        tokenizer.error('Unexpected combinator');\n    }\n\n    return {\n        type: 'Group',\n        terms: terms,\n        combinator: regroupTerms(terms, combinators) || ' ',\n        disallowEmpty: false,\n        explicit: false\n    };\n}\n\nfunction readGroup(tokenizer) {\n    var result;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n    result = readImplicitGroup(tokenizer);\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    result.explicit = true;\n\n    if (tokenizer.charCode() === EXCLAMATIONMARK) {\n        tokenizer.pos++;\n        result.disallowEmpty = true;\n    }\n\n    return result;\n}\n\nfunction peek(tokenizer) {\n    var code = tokenizer.charCode();\n\n    if (code < 128 && NAME_CHAR[code] === 1) {\n        return readKeywordOrFunction(tokenizer);\n    }\n\n    switch (code) {\n        case RIGHTSQUAREBRACKET:\n            // don't eat, stop scan a group\n            break;\n\n        case LEFTSQUAREBRACKET:\n            return maybeMultiplied(tokenizer, readGroup(tokenizer));\n\n        case LESSTHANSIGN:\n            return tokenizer.nextCharCode() === APOSTROPHE\n                ? readProperty(tokenizer)\n                : readType(tokenizer);\n\n        case VERTICALLINE:\n            return {\n                type: 'Combinator',\n                value: tokenizer.substringToPos(\n                    tokenizer.nextCharCode() === VERTICALLINE\n                        ? tokenizer.pos + 2\n                        : tokenizer.pos + 1\n                )\n            };\n\n        case AMPERSAND:\n            tokenizer.pos++;\n            tokenizer.eat(AMPERSAND);\n\n            return {\n                type: 'Combinator',\n                value: '&&'\n            };\n\n        case COMMA:\n            tokenizer.pos++;\n            return {\n                type: 'Comma'\n            };\n\n        case APOSTROPHE:\n            return maybeMultiplied(tokenizer, {\n                type: 'String',\n                value: scanString(tokenizer)\n            });\n\n        case SPACE:\n        case TAB:\n        case N:\n        case R:\n        case F:\n            return {\n                type: 'Spaces',\n                value: scanSpaces(tokenizer)\n            };\n\n        case COMMERCIALAT:\n            code = tokenizer.nextCharCode();\n\n            if (code < 128 && NAME_CHAR[code] === 1) {\n                tokenizer.pos++;\n                return {\n                    type: 'AtKeyword',\n                    name: scanWord(tokenizer)\n                };\n            }\n\n            return maybeToken(tokenizer);\n\n        case ASTERISK:\n        case PLUSSIGN:\n        case QUESTIONMARK:\n        case NUMBERSIGN:\n        case EXCLAMATIONMARK:\n            // prohibited tokens (used as a multiplier start)\n            break;\n\n        case LEFTCURLYBRACKET:\n            // LEFTCURLYBRACKET is allowed since mdn/data uses it w/o quoting\n            // check next char isn't a number, because it's likely a disjoined multiplier\n            code = tokenizer.nextCharCode();\n\n            if (code < 48 || code > 57) {\n                return maybeToken(tokenizer);\n            }\n\n            break;\n\n        default:\n            return maybeToken(tokenizer);\n    }\n}\n\nfunction parse(source) {\n    var tokenizer = new Tokenizer(source);\n    var result = readImplicitGroup(tokenizer);\n\n    if (tokenizer.pos !== source.length) {\n        tokenizer.error('Unexpected input');\n    }\n\n    // reduce redundant groups with single group term\n    if (result.terms.length === 1 && result.terms[0].type === 'Group') {\n        result = result.terms[0];\n    }\n\n    return result;\n}\n\n// warm up parse to elimitate code branches that never execute\n// fix soft deoptimizations (insufficient type feedback)\nparse('[a&&<b>#|<\\'c\\'>*||e() f{2} /,(% g#{1,2} h{2,})]!');\n\nmodule.exports = parse;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   sources entry.  This value is prepended to the individual\n    //   entries in the source field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   sourceRoot, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","module.exports = {\n    AnPlusB: require('./AnPlusB'),\n    Atrule: require('./Atrule'),\n    AtrulePrelude: require('./AtrulePrelude'),\n    AttributeSelector: require('./AttributeSelector'),\n    Block: require('./Block'),\n    Brackets: require('./Brackets'),\n    CDC: require('./CDC'),\n    CDO: require('./CDO'),\n    ClassSelector: require('./ClassSelector'),\n    Combinator: require('./Combinator'),\n    Comment: require('./Comment'),\n    Declaration: require('./Declaration'),\n    DeclarationList: require('./DeclarationList'),\n    Dimension: require('./Dimension'),\n    Function: require('./Function'),\n    HexColor: require('./HexColor'),\n    Identifier: require('./Identifier'),\n    IdSelector: require('./IdSelector'),\n    MediaFeature: require('./MediaFeature'),\n    MediaQuery: require('./MediaQuery'),\n    MediaQueryList: require('./MediaQueryList'),\n    Nth: require('./Nth'),\n    Number: require('./Number'),\n    Operator: require('./Operator'),\n    Parentheses: require('./Parentheses'),\n    Percentage: require('./Percentage'),\n    PseudoClassSelector: require('./PseudoClassSelector'),\n    PseudoElementSelector: require('./PseudoElementSelector'),\n    Ratio: require('./Ratio'),\n    Raw: require('./Raw'),\n    Rule: require('./Rule'),\n    Selector: require('./Selector'),\n    SelectorList: require('./SelectorList'),\n    String: require('./String'),\n    StyleSheet: require('./StyleSheet'),\n    TypeSelector: require('./TypeSelector'),\n    UnicodeRange: require('./UnicodeRange'),\n    Url: require('./Url'),\n    Value: require('./Value'),\n    WhiteSpace: require('./WhiteSpace')\n};\n","var lexer = require('css-tree').lexer;\nvar packNumber = require('./Number').pack;\n\n// http://www.w3.org/TR/css3-color/#svg-color\nvar NAME_TO_HEX = {\n    'aliceblue': 'f0f8ff',\n    'antiquewhite': 'faebd7',\n    'aqua': '0ff',\n    'aquamarine': '7fffd4',\n    'azure': 'f0ffff',\n    'beige': 'f5f5dc',\n    'bisque': 'ffe4c4',\n    'black': '000',\n    'blanchedalmond': 'ffebcd',\n    'blue': '00f',\n    'blueviolet': '8a2be2',\n    'brown': 'a52a2a',\n    'burlywood': 'deb887',\n    'cadetblue': '5f9ea0',\n    'chartreuse': '7fff00',\n    'chocolate': 'd2691e',\n    'coral': 'ff7f50',\n    'cornflowerblue': '6495ed',\n    'cornsilk': 'fff8dc',\n    'crimson': 'dc143c',\n    'cyan': '0ff',\n    'darkblue': '00008b',\n    'darkcyan': '008b8b',\n    'darkgoldenrod': 'b8860b',\n    'darkgray': 'a9a9a9',\n    'darkgrey': 'a9a9a9',\n    'darkgreen': '006400',\n    'darkkhaki': 'bdb76b',\n    'darkmagenta': '8b008b',\n    'darkolivegreen': '556b2f',\n    'darkorange': 'ff8c00',\n    'darkorchid': '9932cc',\n    'darkred': '8b0000',\n    'darksalmon': 'e9967a',\n    'darkseagreen': '8fbc8f',\n    'darkslateblue': '483d8b',\n    'darkslategray': '2f4f4f',\n    'darkslategrey': '2f4f4f',\n    'darkturquoise': '00ced1',\n    'darkviolet': '9400d3',\n    'deeppink': 'ff1493',\n    'deepskyblue': '00bfff',\n    'dimgray': '696969',\n    'dimgrey': '696969',\n    'dodgerblue': '1e90ff',\n    'firebrick': 'b22222',\n    'floralwhite': 'fffaf0',\n    'forestgreen': '228b22',\n    'fuchsia': 'f0f',\n    'gainsboro': 'dcdcdc',\n    'ghostwhite': 'f8f8ff',\n    'gold': 'ffd700',\n    'goldenrod': 'daa520',\n    'gray': '808080',\n    'grey': '808080',\n    'green': '008000',\n    'greenyellow': 'adff2f',\n    'honeydew': 'f0fff0',\n    'hotpink': 'ff69b4',\n    'indianred': 'cd5c5c',\n    'indigo': '4b0082',\n    'ivory': 'fffff0',\n    'khaki': 'f0e68c',\n    'lavender': 'e6e6fa',\n    'lavenderblush': 'fff0f5',\n    'lawngreen': '7cfc00',\n    'lemonchiffon': 'fffacd',\n    'lightblue': 'add8e6',\n    'lightcoral': 'f08080',\n    'lightcyan': 'e0ffff',\n    'lightgoldenrodyellow': 'fafad2',\n    'lightgray': 'd3d3d3',\n    'lightgrey': 'd3d3d3',\n    'lightgreen': '90ee90',\n    'lightpink': 'ffb6c1',\n    'lightsalmon': 'ffa07a',\n    'lightseagreen': '20b2aa',\n    'lightskyblue': '87cefa',\n    'lightslategray': '789',\n    'lightslategrey': '789',\n    'lightsteelblue': 'b0c4de',\n    'lightyellow': 'ffffe0',\n    'lime': '0f0',\n    'limegreen': '32cd32',\n    'linen': 'faf0e6',\n    'magenta': 'f0f',\n    'maroon': '800000',\n    'mediumaquamarine': '66cdaa',\n    'mediumblue': '0000cd',\n    'mediumorchid': 'ba55d3',\n    'mediumpurple': '9370db',\n    'mediumseagreen': '3cb371',\n    'mediumslateblue': '7b68ee',\n    'mediumspringgreen': '00fa9a',\n    'mediumturquoise': '48d1cc',\n    'mediumvioletred': 'c71585',\n    'midnightblue': '191970',\n    'mintcream': 'f5fffa',\n    'mistyrose': 'ffe4e1',\n    'moccasin': 'ffe4b5',\n    'navajowhite': 'ffdead',\n    'navy': '000080',\n    'oldlace': 'fdf5e6',\n    'olive': '808000',\n    'olivedrab': '6b8e23',\n    'orange': 'ffa500',\n    'orangered': 'ff4500',\n    'orchid': 'da70d6',\n    'palegoldenrod': 'eee8aa',\n    'palegreen': '98fb98',\n    'paleturquoise': 'afeeee',\n    'palevioletred': 'db7093',\n    'papayawhip': 'ffefd5',\n    'peachpuff': 'ffdab9',\n    'peru': 'cd853f',\n    'pink': 'ffc0cb',\n    'plum': 'dda0dd',\n    'powderblue': 'b0e0e6',\n    'purple': '800080',\n    'rebeccapurple': '639',\n    'red': 'f00',\n    'rosybrown': 'bc8f8f',\n    'royalblue': '4169e1',\n    'saddlebrown': '8b4513',\n    'salmon': 'fa8072',\n    'sandybrown': 'f4a460',\n    'seagreen': '2e8b57',\n    'seashell': 'fff5ee',\n    'sienna': 'a0522d',\n    'silver': 'c0c0c0',\n    'skyblue': '87ceeb',\n    'slateblue': '6a5acd',\n    'slategray': '708090',\n    'slategrey': '708090',\n    'snow': 'fffafa',\n    'springgreen': '00ff7f',\n    'steelblue': '4682b4',\n    'tan': 'd2b48c',\n    'teal': '008080',\n    'thistle': 'd8bfd8',\n    'tomato': 'ff6347',\n    'turquoise': '40e0d0',\n    'violet': 'ee82ee',\n    'wheat': 'f5deb3',\n    'white': 'fff',\n    'whitesmoke': 'f5f5f5',\n    'yellow': 'ff0',\n    'yellowgreen': '9acd32'\n};\n\nvar HEX_TO_NAME = {\n    '800000': 'maroon',\n    '800080': 'purple',\n    '808000': 'olive',\n    '808080': 'gray',\n    '00ffff': 'cyan',\n    'f0ffff': 'azure',\n    'f5f5dc': 'beige',\n    'ffe4c4': 'bisque',\n    '000000': 'black',\n    '0000ff': 'blue',\n    'a52a2a': 'brown',\n    'ff7f50': 'coral',\n    'ffd700': 'gold',\n    '008000': 'green',\n    '4b0082': 'indigo',\n    'fffff0': 'ivory',\n    'f0e68c': 'khaki',\n    '00ff00': 'lime',\n    'faf0e6': 'linen',\n    '000080': 'navy',\n    'ffa500': 'orange',\n    'da70d6': 'orchid',\n    'cd853f': 'peru',\n    'ffc0cb': 'pink',\n    'dda0dd': 'plum',\n    'f00': 'red',\n    'ff0000': 'red',\n    'fa8072': 'salmon',\n    'a0522d': 'sienna',\n    'c0c0c0': 'silver',\n    'fffafa': 'snow',\n    'd2b48c': 'tan',\n    '008080': 'teal',\n    'ff6347': 'tomato',\n    'ee82ee': 'violet',\n    'f5deb3': 'wheat',\n    'ffffff': 'white',\n    'ffff00': 'yellow'\n};\n\nfunction hueToRgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n\nfunction hslToRgb(h, s, l, a) {\n    var r;\n    var g;\n    var b;\n\n    if (s === 0) {\n        r = g = b = l; // achromatic\n    } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n\n        r = hueToRgb(p, q, h + 1 / 3);\n        g = hueToRgb(p, q, h);\n        b = hueToRgb(p, q, h - 1 / 3);\n    }\n\n    return [\n        Math.round(r * 255),\n        Math.round(g * 255),\n        Math.round(b * 255),\n        a\n    ];\n}\n\nfunction toHex(value) {\n    value = value.toString(16);\n    return value.length === 1 ? '0' + value : value;\n}\n\nfunction parseFunctionArgs(functionArgs, count, rgb) {\n    var cursor = functionArgs.head;\n    var args = [];\n    var wasValue = false;\n\n    while (cursor !== null) {\n        var node = cursor.data;\n        var type = node.type;\n\n        switch (type) {\n            case 'Number':\n            case 'Percentage':\n                if (wasValue) {\n                    return;\n                }\n\n                wasValue = true;\n                args.push({\n                    type: type,\n                    value: Number(node.value)\n                });\n                break;\n\n            case 'Operator':\n                if (node.value === ',') {\n                    if (!wasValue) {\n                        return;\n                    }\n                    wasValue = false;\n                } else if (wasValue || node.value !== '+') {\n                    return;\n                }\n                break;\n\n            default:\n                // something we couldn't understand\n                return;\n        }\n\n        cursor = cursor.next;\n    }\n\n    if (args.length !== count) {\n        // invalid arguments count\n        // TODO: remove those tokens\n        return;\n    }\n\n    if (args.length === 4) {\n        if (args[3].type !== 'Number') {\n            // 4th argument should be a number\n            // TODO: remove those tokens\n            return;\n        }\n\n        args[3].type = 'Alpha';\n    }\n\n    if (rgb) {\n        if (args[0].type !== args[1].type || args[0].type !== args[2].type) {\n            // invalid color, numbers and percentage shouldn't be mixed\n            // TODO: remove those tokens\n            return;\n        }\n    } else {\n        if (args[0].type !== 'Number' ||\n            args[1].type !== 'Percentage' ||\n            args[2].type !== 'Percentage') {\n            // invalid color, for hsl values should be: number, percentage, percentage\n            // TODO: remove those tokens\n            return;\n        }\n\n        args[0].type = 'Angle';\n    }\n\n    return args.map(function(arg) {\n        var value = Math.max(0, arg.value);\n\n        switch (arg.type) {\n            case 'Number':\n                // fit value to [0..255] range\n                value = Math.min(value, 255);\n                break;\n\n            case 'Percentage':\n                // convert 0..100% to value in [0..255] range\n                value = Math.min(value, 100) / 100;\n\n                if (!rgb) {\n                    return value;\n                }\n\n                value = 255 * value;\n                break;\n\n            case 'Angle':\n                // fit value to (-360..360) range\n                return (((value % 360) + 360) % 360) / 360;\n\n            case 'Alpha':\n                // fit value to [0..1] range\n                return Math.min(value, 1);\n        }\n\n        return Math.round(value);\n    });\n}\n\nfunction compressFunction(node, item, list) {\n    var functionName = node.name;\n    var args;\n\n    if (functionName === 'rgba' || functionName === 'hsla') {\n        args = parseFunctionArgs(node.children, 4, functionName === 'rgba');\n\n        if (!args) {\n            // something went wrong\n            return;\n        }\n\n        if (functionName === 'hsla') {\n            args = hslToRgb.apply(null, args);\n            node.name = 'rgba';\n        }\n\n        if (args[3] === 0) {\n            // try to replace `rgba(x, x, x, 0)` to `transparent`\n            // always replace `rgba(0, 0, 0, 0)` to `transparent`\n            // otherwise avoid replacement in gradients since it may break color transition\n            // http://stackoverflow.com/questions/11829410/css3-gradient-rendering-issues-from-transparent-to-white\n            var scopeFunctionName = this.function && this.function.name;\n            if ((args[0] === 0 && args[1] === 0 && args[2] === 0) ||\n                !/^(?:to|from|color-stop)$|gradient$/i.test(scopeFunctionName)) {\n\n                item.data = {\n                    type: 'Identifier',\n                    loc: node.loc,\n                    name: 'transparent'\n                };\n\n                return;\n            }\n        }\n\n        if (args[3] !== 1) {\n            // replace argument values for normalized/interpolated\n            node.children.each(function(node, item, list) {\n                if (node.type === 'Operator') {\n                    if (node.value !== ',') {\n                        list.remove(item);\n                    }\n                    return;\n                }\n\n                item.data = {\n                    type: 'Number',\n                    loc: node.loc,\n                    value: packNumber(args.shift(), null)\n                };\n            });\n\n            return;\n        }\n\n        // otherwise convert to rgb, i.e. rgba(255, 0, 0, 1) -> rgb(255, 0, 0)\n        functionName = 'rgb';\n    }\n\n    if (functionName === 'hsl') {\n        args = args || parseFunctionArgs(node.children, 3, false);\n\n        if (!args) {\n            // something went wrong\n            return;\n        }\n\n        // convert to rgb\n        args = hslToRgb.apply(null, args);\n        functionName = 'rgb';\n    }\n\n    if (functionName === 'rgb') {\n        args = args || parseFunctionArgs(node.children, 3, true);\n\n        if (!args) {\n            // something went wrong\n            return;\n        }\n\n        // check if color is not at the end and not followed by space\n        var next = item.next;\n        if (next && next.data.type !== 'WhiteSpace') {\n            list.insert(list.createItem({\n                type: 'WhiteSpace',\n                value: ' '\n            }), next);\n        }\n\n        item.data = {\n            type: 'HexColor',\n            loc: node.loc,\n            value: toHex(args[0]) + toHex(args[1]) + toHex(args[2])\n        };\n\n        compressHex(item.data, item);\n    }\n}\n\nfunction compressIdent(node, item) {\n    if (this.declaration === null) {\n        return;\n    }\n\n    var color = node.name.toLowerCase();\n\n    if (NAME_TO_HEX.hasOwnProperty(color) &&\n        lexer.matchDeclaration(this.declaration).isType(node, 'color')) {\n        var hex = NAME_TO_HEX[color];\n\n        if (hex.length + 1 <= color.length) {\n            // replace for shorter hex value\n            item.data = {\n                type: 'HexColor',\n                loc: node.loc,\n                value: hex\n            };\n        } else {\n            // special case for consistent colors\n            if (color === 'grey') {\n                color = 'gray';\n            }\n\n            // just replace value for lower cased name\n            node.name = color;\n        }\n    }\n}\n\nfunction compressHex(node, item) {\n    var color = node.value.toLowerCase();\n\n    // #112233 -> #123\n    if (color.length === 6 &&\n        color[0] === color[1] &&\n        color[2] === color[3] &&\n        color[4] === color[5]) {\n        color = color[0] + color[2] + color[4];\n    }\n\n    if (HEX_TO_NAME[color]) {\n        item.data = {\n            type: 'Identifier',\n            loc: node.loc,\n            name: HEX_TO_NAME[color]\n        };\n    } else {\n        node.value = color;\n    }\n}\n\nmodule.exports = {\n    compressFunction: compressFunction,\n    compressIdent: compressIdent,\n    compressHex: compressHex\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isEqualSelectors(a, b) {\n    var cursor1 = a.head;\n    var cursor2 = b.head;\n\n    while (cursor1 !== null && cursor2 !== null && cursor1.data.id === cursor2.data.id) {\n        cursor1 = cursor1.next;\n        cursor2 = cursor2.next;\n    }\n\n    return cursor1 === null && cursor2 === null;\n}\n\nfunction isEqualDeclarations(a, b) {\n    var cursor1 = a.head;\n    var cursor2 = b.head;\n\n    while (cursor1 !== null && cursor2 !== null && cursor1.data.id === cursor2.data.id) {\n        cursor1 = cursor1.next;\n        cursor2 = cursor2.next;\n    }\n\n    return cursor1 === null && cursor2 === null;\n}\n\nfunction compareDeclarations(declarations1, declarations2) {\n    var result = {\n        eq: [],\n        ne1: [],\n        ne2: [],\n        ne2overrided: []\n    };\n\n    var fingerprints = Object.create(null);\n    var declarations2hash = Object.create(null);\n\n    for (var cursor = declarations2.head; cursor; cursor = cursor.next)  {\n        declarations2hash[cursor.data.id] = true;\n    }\n\n    for (var cursor = declarations1.head; cursor; cursor = cursor.next)  {\n        var data = cursor.data;\n\n        if (data.fingerprint) {\n            fingerprints[data.fingerprint] = data.important;\n        }\n\n        if (declarations2hash[data.id]) {\n            declarations2hash[data.id] = false;\n            result.eq.push(data);\n        } else {\n            result.ne1.push(data);\n        }\n    }\n\n    for (var cursor = declarations2.head; cursor; cursor = cursor.next)  {\n        var data = cursor.data;\n\n        if (declarations2hash[data.id]) {\n            // when declarations1 has an overriding declaration, this is not a difference\n            // unless no !important is used on prev and !important is used on the following\n            if (!hasOwnProperty.call(fingerprints, data.fingerprint) ||\n                (!fingerprints[data.fingerprint] && data.important)) {\n                result.ne2.push(data);\n            }\n\n            result.ne2overrided.push(data);\n        }\n    }\n\n    return result;\n}\n\nfunction addSelectors(dest, source) {\n    source.each(function(sourceData) {\n        var newStr = sourceData.id;\n        var cursor = dest.head;\n\n        while (cursor) {\n            var nextStr = cursor.data.id;\n\n            if (nextStr === newStr) {\n                return;\n            }\n\n            if (nextStr > newStr) {\n                break;\n            }\n\n            cursor = cursor.next;\n        }\n\n        dest.insert(dest.createItem(sourceData), cursor);\n    });\n\n    return dest;\n}\n\n// check if simpleselectors has no equal specificity and element selector\nfunction hasSimilarSelectors(selectors1, selectors2) {\n    var cursor1 = selectors1.head;\n\n    while (cursor1 !== null) {\n        var cursor2 = selectors2.head;\n\n        while (cursor2 !== null) {\n            if (cursor1.data.compareMarker === cursor2.data.compareMarker) {\n                return true;\n            }\n\n            cursor2 = cursor2.next;\n        }\n\n        cursor1 = cursor1.next;\n    }\n\n    return false;\n}\n\n// test node can't to be skipped\nfunction unsafeToSkipNode(node) {\n    switch (node.type) {\n        case 'Rule':\n            // unsafe skip ruleset with selector similarities\n            return hasSimilarSelectors(node.prelude.children, this);\n\n        case 'Atrule':\n            // can skip at-rules with blocks\n            if (node.block) {\n                // unsafe skip at-rule if block contains something unsafe to skip\n                return node.block.children.some(unsafeToSkipNode, this);\n            }\n            break;\n\n        case 'Declaration':\n            return false;\n    }\n\n    // unsafe by default\n    return true;\n}\n\nmodule.exports = {\n    isEqualSelectors: isEqualSelectors,\n    isEqualDeclarations: isEqualDeclarations,\n    compareDeclarations: compareDeclarations,\n    addSelectors: addSelectors,\n    hasSimilarSelectors: hasSimilarSelectors,\n    unsafeToSkipNode: unsafeToSkipNode\n};\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","var createCustomError = require('../utils/createCustomError');\nvar MAX_LINE_LENGTH = 100;\nvar OFFSET_CORRECTION = 60;\nvar TAB_REPLACEMENT = '    ';\n\nfunction sourceFragment(error, extraLines) {\n    function processLines(start, end) {\n        return lines.slice(start, end).map(function(line, idx) {\n            var num = String(start + idx + 1);\n\n            while (num.length < maxNumLength) {\n                num = ' ' + num;\n            }\n\n            return num + ' |' + line;\n        }).join('\\n');\n    }\n\n    var lines = error.source.split(/\\r\\n?|\\n|\\f/);\n    var line = error.line;\n    var column = error.column;\n    var startLine = Math.max(1, line - extraLines) - 1;\n    var endLine = Math.min(line + extraLines, lines.length + 1);\n    var maxNumLength = Math.max(4, String(endLine).length) + 1;\n    var cutLeft = 0;\n\n    // column correction according to replaced tab before column\n    column += (TAB_REPLACEMENT.length - 1) * (lines[line - 1].substr(0, column - 1).match(/\\t/g) || []).length;\n\n    if (column > MAX_LINE_LENGTH) {\n        cutLeft = column - OFFSET_CORRECTION + 3;\n        column = OFFSET_CORRECTION - 2;\n    }\n\n    for (var i = startLine; i <= endLine; i++) {\n        if (i >= 0 && i < lines.length) {\n            lines[i] = lines[i].replace(/\\t/g, TAB_REPLACEMENT);\n            lines[i] =\n                (cutLeft > 0 && lines[i].length > cutLeft ? '\\u2026' : '') +\n                lines[i].substr(cutLeft, MAX_LINE_LENGTH - 2) +\n                (lines[i].length > cutLeft + MAX_LINE_LENGTH - 1 ? '\\u2026' : '');\n        }\n    }\n\n    return [\n        processLines(startLine, line),\n        new Array(column + maxNumLength + 2).join('-') + '^',\n        processLines(line, endLine)\n    ].filter(Boolean).join('\\n');\n}\n\nvar SyntaxError = function(message, source, offset, line, column) {\n    var error = createCustomError('SyntaxError', message);\n\n    error.source = source;\n    error.offset = offset;\n    error.line = line;\n    error.column = column;\n\n    error.sourceFragment = function(extraLines) {\n        return sourceFragment(error, isNaN(extraLines) ? 0 : extraLines);\n    };\n    Object.defineProperty(error, 'formattedMessage', {\n        get: function() {\n            return (\n                'Parse error: ' + error.message + '\\n' +\n                sourceFragment(error, 2)\n            );\n        }\n    });\n\n    // for backward capability\n    error.parseError = {\n        offset: offset,\n        line: line,\n        column: column\n    };\n\n    return error;\n};\n\nmodule.exports = SyntaxError;\n","var EOF = 0;\n\n// https://drafts.csswg.org/css-syntax-3/\n//  4.2. Definitions\n\n// digit\n// A code point between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).\nfunction isDigit(code) {\n    return code >= 0x0030 && code <= 0x0039;\n}\n\n// hex digit\n// A digit, or a code point between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),\n// or a code point between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).\nfunction isHexDigit(code) {\n    return (\n        isDigit(code) || // 0 .. 9\n        (code >= 0x0041 && code <= 0x0046) || // A .. F\n        (code >= 0x0061 && code <= 0x0066)    // a .. f\n    );\n}\n\n// uppercase letter\n// A code point between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).\nfunction isUppercaseLetter(code) {\n    return code >= 0x0041 && code <= 0x005A;\n}\n\n// lowercase letter\n// A code point between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).\nfunction isLowercaseLetter(code) {\n    return code >= 0x0061 && code <= 0x007A;\n}\n\n// letter\n// An uppercase letter or a lowercase letter.\nfunction isLetter(code) {\n    return isUppercaseLetter(code) || isLowercaseLetter(code);\n}\n\n// non-ASCII code point\n// A code point with a value equal to or greater than U+0080 <control>.\nfunction isNonAscii(code) {\n    return code >= 0x0080;\n}\n\n// name-start code point\n// A letter, a non-ASCII code point, or U+005F LOW LINE (_).\nfunction isNameStart(code) {\n    return isLetter(code) || isNonAscii(code) || code === 0x005F;\n}\n\n// name code point\n// A name-start code point, a digit, or U+002D HYPHEN-MINUS (-).\nfunction isName(code) {\n    return isNameStart(code) || isDigit(code) || code === 0x002D;\n}\n\n// non-printable code point\n// A code point between U+0000 NULL and U+0008 BACKSPACE, or U+000B LINE TABULATION,\n// or a code point between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE, or U+007F DELETE.\nfunction isNonPrintable(code) {\n    return (\n        (code >= 0x0000 && code <= 0x0008) ||\n        (code === 0x000B) ||\n        (code >= 0x000E && code <= 0x001F) ||\n        (code === 0x007F)\n    );\n}\n\n// newline\n// U+000A LINE FEED. Note that U+000D CARRIAGE RETURN and U+000C FORM FEED are not included in this definition,\n// as they are converted to U+000A LINE FEED during preprocessing.\n// TODO: we doesn't do a preprocessing, so check a code point for U+000D CARRIAGE RETURN and U+000C FORM FEED\nfunction isNewline(code) {\n    return code === 0x000A || code === 0x000D || code === 0x000C;\n}\n\n// whitespace\n// A newline, U+0009 CHARACTER TABULATION, or U+0020 SPACE.\nfunction isWhiteSpace(code) {\n    return isNewline(code) || code === 0x0020 || code === 0x0009;\n}\n\n//  4.3.8. Check if two code points are a valid escape\nfunction isValidEscape(first, second) {\n    // If the first code point is not U+005C REVERSE SOLIDUS (\\), return false.\n    if (first !== 0x005C) {\n        return false;\n    }\n\n    // Otherwise, if the second code point is a newline or EOF, return false.\n    if (isNewline(second) || second === EOF) {\n        return false;\n    }\n\n    // Otherwise, return true.\n    return true;\n}\n\n//  4.3.9. Check if three code points would start an identifier\nfunction isIdentifierStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002D HYPHEN-MINUS\n    if (first === 0x002D) {\n        // If the second code point is a name-start code point or a U+002D HYPHEN-MINUS,\n        // or the second and third code points are a valid escape, return true. Otherwise, return false.\n        return (\n            isNameStart(second) ||\n            second === 0x002D ||\n            isValidEscape(second, third)\n        );\n    }\n\n    // name-start code point\n    if (isNameStart(first)) {\n        // Return true.\n        return true;\n    }\n\n    // U+005C REVERSE SOLIDUS (\\)\n    if (first === 0x005C) {\n        // If the first and second code points are a valid escape, return true. Otherwise, return false.\n        return isValidEscape(first, second);\n    }\n\n    // anything else\n    // Return false.\n    return false;\n}\n\n//  4.3.10. Check if three code points would start a number\nfunction isNumberStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002B PLUS SIGN (+)\n    // U+002D HYPHEN-MINUS (-)\n    if (first === 0x002B || first === 0x002D) {\n        // If the second code point is a digit, return true.\n        if (isDigit(second)) {\n            return 2;\n        }\n\n        // Otherwise, if the second code point is a U+002E FULL STOP (.)\n        // and the third code point is a digit, return true.\n        // Otherwise, return false.\n        return second === 0x002E && isDigit(third) ? 3 : 0;\n    }\n\n    // U+002E FULL STOP (.)\n    if (first === 0x002E) {\n        // If the second code point is a digit, return true. Otherwise, return false.\n        return isDigit(second) ? 2 : 0;\n    }\n\n    // digit\n    if (isDigit(first)) {\n        // Return true.\n        return 1;\n    }\n\n    // anything else\n    // Return false.\n    return 0;\n}\n\n//\n// Misc\n//\n\n// detect BOM (https://en.wikipedia.org/wiki/Byte_order_mark)\nfunction isBOM(code) {\n    // UTF-16BE\n    if (code === 0xFEFF) {\n        return 1;\n    }\n\n    // UTF-16LE\n    if (code === 0xFFFE) {\n        return 1;\n    }\n\n    return 0;\n}\n\n// Fast code category\n//\n// https://drafts.csswg.org/css-syntax/#tokenizer-definitions\n// > non-ASCII code point\n// >   A code point with a value equal to or greater than U+0080 <control>\n// > name-start code point\n// >   A letter, a non-ASCII code point, or U+005F LOW LINE (_).\n// > name code point\n// >   A name-start code point, a digit, or U+002D HYPHEN-MINUS (-)\n// That means only ASCII code points has a special meaning and we define a maps for 0..127 codes only\nvar CATEGORY = new Array(0x80);\ncharCodeCategory.Eof = 0x80;\ncharCodeCategory.WhiteSpace = 0x82;\ncharCodeCategory.Digit = 0x83;\ncharCodeCategory.NameStart = 0x84;\ncharCodeCategory.NonPrintable = 0x85;\n\nfor (var i = 0; i < CATEGORY.length; i++) {\n    switch (true) {\n        case isWhiteSpace(i):\n            CATEGORY[i] = charCodeCategory.WhiteSpace;\n            break;\n\n        case isDigit(i):\n            CATEGORY[i] = charCodeCategory.Digit;\n            break;\n\n        case isNameStart(i):\n            CATEGORY[i] = charCodeCategory.NameStart;\n            break;\n\n        case isNonPrintable(i):\n            CATEGORY[i] = charCodeCategory.NonPrintable;\n            break;\n\n        default:\n            CATEGORY[i] = i || charCodeCategory.Eof;\n    }\n}\n\nfunction charCodeCategory(code) {\n    return code < 0x80 ? CATEGORY[code] : charCodeCategory.NameStart;\n};\n\nmodule.exports = {\n    isDigit: isDigit,\n    isHexDigit: isHexDigit,\n    isUppercaseLetter: isUppercaseLetter,\n    isLowercaseLetter: isLowercaseLetter,\n    isLetter: isLetter,\n    isNonAscii: isNonAscii,\n    isNameStart: isNameStart,\n    isName: isName,\n    isNonPrintable: isNonPrintable,\n    isNewline: isNewline,\n    isWhiteSpace: isWhiteSpace,\n    isValidEscape: isValidEscape,\n    isIdentifierStart: isIdentifierStart,\n    isNumberStart: isNumberStart,\n\n    isBOM: isBOM,\n    charCodeCategory: charCodeCategory\n};\n","var createCustomError = require('../utils/createCustomError');\nvar generate = require('../definition-syntax/generate');\n\nfunction fromMatchResult(matchResult) {\n    var tokens = matchResult.tokens;\n    var longestMatch = matchResult.longestMatch;\n    var node = longestMatch < tokens.length ? tokens[longestMatch].node : null;\n    var mismatchOffset = -1;\n    var entries = 0;\n    var css = '';\n\n    for (var i = 0; i < tokens.length; i++) {\n        if (i === longestMatch) {\n            mismatchOffset = css.length;\n        }\n\n        if (node !== null && tokens[i].node === node) {\n            if (i <= longestMatch) {\n                entries++;\n            } else {\n                entries = 0;\n            }\n        }\n\n        css += tokens[i].value;\n    }\n\n    return {\n        node: node,\n        css: css,\n        mismatchOffset: mismatchOffset === -1 ? css.length : mismatchOffset,\n        last: node === null || entries > 1\n    };\n}\n\nfunction getLocation(node, point) {\n    var loc = node && node.loc && node.loc[point];\n\n    if (loc) {\n        return {\n            offset: loc.offset,\n            line: loc.line,\n            column: loc.column\n        };\n    }\n\n    return null;\n}\n\nvar SyntaxReferenceError = function(type, referenceName) {\n    var error = createCustomError(\n        'SyntaxReferenceError',\n        type + (referenceName ? ' `' + referenceName + '`' : '')\n    );\n\n    error.reference = referenceName;\n\n    return error;\n};\n\nvar MatchError = function(message, syntax, node, matchResult) {\n    var error = createCustomError('SyntaxMatchError', message);\n    var details = fromMatchResult(matchResult);\n    var mismatchOffset = details.mismatchOffset || 0;\n    var badNode = details.node || node;\n    var end = getLocation(badNode, 'end');\n    var start = details.last ? end : getLocation(badNode, 'start');\n    var css = details.css;\n\n    error.rawMessage = message;\n    error.syntax = syntax ? generate(syntax) : '<generic>';\n    error.css = css;\n    error.mismatchOffset = mismatchOffset;\n    error.loc = {\n        source: (badNode && badNode.loc && badNode.loc.source) || '<unknown>',\n        start: start,\n        end: end\n    };\n    error.line = start ? start.line : undefined;\n    error.column = start ? start.column : undefined;\n    error.offset = start ? start.offset : undefined;\n    error.message = message + '\\n' +\n        '  syntax: ' + error.syntax + '\\n' +\n        '   value: ' + (error.css || '<empty string>') + '\\n' +\n        '  --------' + new Array(error.mismatchOffset + 1).join('-') + '^';\n\n    return error;\n};\n\nmodule.exports = {\n    SyntaxReferenceError: SyntaxReferenceError,\n    MatchError: MatchError\n};\n","var MIN_SIZE = 16 * 1024;\nvar SafeUint32Array = typeof Uint32Array !== 'undefined' ? Uint32Array : Array; // fallback on Array when TypedArray is not supported\n\nmodule.exports = function adoptBuffer(buffer, size) {\n    if (buffer === null || buffer.length < size) {\n        return new SafeUint32Array(Math.max(size + 1024, MIN_SIZE));\n    }\n\n    return buffer;\n};\n","var createCustomError = require('../utils/createCustomError');\n\nmodule.exports = function SyntaxError(message, input, offset) {\n    var error = createCustomError('SyntaxError', message);\n\n    error.input = input;\n    error.offset = offset;\n    error.rawMessage = message;\n    error.message = error.rawMessage + '\\n' +\n        '  ' + error.input + '\\n' +\n        '--' + new Array((error.offset || error.input.length) + 1).join('-') + '^';\n\n    return error;\n};\n","var noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nmodule.exports = function(node, options, context) {\n    function walk(node) {\n        enter.call(context, node);\n\n        switch (node.type) {\n            case 'Group':\n                node.terms.forEach(walk);\n                break;\n\n            case 'Multiplier':\n                walk(node.term);\n                break;\n\n            case 'Type':\n            case 'Property':\n            case 'Keyword':\n            case 'AtKeyword':\n            case 'Function':\n            case 'String':\n            case 'Token':\n            case 'Comma':\n                break;\n\n            default:\n                throw new Error('Unknown type: ' + node.type);\n        }\n\n        leave.call(context, node);\n    }\n\n    var enter = noop;\n    var leave = noop;\n\n    if (typeof options === 'function') {\n        enter = options;\n    } else if (options) {\n        enter = ensureFunction(options.enter);\n        leave = ensureFunction(options.leave);\n    }\n\n    if (enter === noop && leave === noop) {\n        throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n    }\n\n    walk(node, context);\n};\n","var parse = require('../definition-syntax/parse');\n\nvar MATCH = { type: 'Match' };\nvar MISMATCH = { type: 'Mismatch' };\nvar DISALLOW_EMPTY = { type: 'DisallowEmpty' };\nvar LEFTPARENTHESIS = 40;  // (\nvar RIGHTPARENTHESIS = 41; // )\n\nfunction createCondition(match, thenBranch, elseBranch) {\n    // reduce node count\n    if (thenBranch === MATCH && elseBranch === MISMATCH) {\n        return match;\n    }\n\n    if (match === MATCH && thenBranch === MATCH && elseBranch === MATCH) {\n        return match;\n    }\n\n    if (match.type === 'If' && match.else === MISMATCH && thenBranch === MATCH) {\n        thenBranch = match.then;\n        match = match.match;\n    }\n\n    return {\n        type: 'If',\n        match: match,\n        then: thenBranch,\n        else: elseBranch\n    };\n}\n\nfunction isFunctionType(name) {\n    return (\n        name.length > 2 &&\n        name.charCodeAt(name.length - 2) === LEFTPARENTHESIS &&\n        name.charCodeAt(name.length - 1) === RIGHTPARENTHESIS\n    );\n}\n\nfunction isEnumCapatible(term) {\n    return (\n        term.type === 'Keyword' ||\n        term.type === 'AtKeyword' ||\n        term.type === 'Function' ||\n        term.type === 'Type' && isFunctionType(term.name)\n    );\n}\n\nfunction buildGroupMatchGraph(combinator, terms, atLeastOneTermMatched) {\n    switch (combinator) {\n        case ' ':\n            // Juxtaposing components means that all of them must occur, in the given order.\n            //\n            // a b c\n            // =\n            // match a\n            //   then match b\n            //     then match c\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            //   else MISMATCH\n            var result = MATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n\n                result = createCondition(\n                    term,\n                    result,\n                    MISMATCH\n                );\n            };\n\n            return result;\n\n        case '|':\n            // A bar (|) separates two or more alternatives: exactly one of them must occur.\n            //\n            // a | b | c\n            // =\n            // match a\n            //   then MATCH\n            //   else match b\n            //     then MATCH\n            //     else match c\n            //       then MATCH\n            //       else MISMATCH\n\n            var result = MISMATCH;\n            var map = null;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n\n                // reduce sequence of keywords into a Enum\n                if (isEnumCapatible(term)) {\n                    if (map === null && i > 0 && isEnumCapatible(terms[i - 1])) {\n                        map = Object.create(null);\n                        result = createCondition(\n                            {\n                                type: 'Enum',\n                                map: map\n                            },\n                            MATCH,\n                            result\n                        );\n                    }\n\n                    if (map !== null) {\n                        var key = (isFunctionType(term.name) ? term.name.slice(0, -1) : term.name).toLowerCase();\n                        if (key in map === false) {\n                            map[key] = term;\n                            continue;\n                        }\n                    }\n                }\n\n                map = null;\n\n                // create a new conditonal node\n                result = createCondition(\n                    term,\n                    MATCH,\n                    result\n                );\n            };\n\n            return result;\n\n        case '&&':\n            // A double ampersand (&&) separates two or more components,\n            // all of which must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since &&-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms: terms,\n                    all: true\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a && b && c\n            // =\n            // match a\n            //   then [b && c]\n            //   else match b\n            //     then [a && c]\n            //     else match c\n            //       then [a && b]\n            //       else MISMATCH\n            //\n            // a && b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MISMATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            var result = MISMATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n                var thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        false\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n\n        case '||':\n            // A double bar (||) separates two or more options:\n            // one or more of them must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since ||-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms: terms,\n                    all: false\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a || b || c\n            // =\n            // match a\n            //   then [b || c]\n            //   else match b\n            //     then [a || c]\n            //     else match c\n            //       then [a || b]\n            //       else MISMATCH\n            //\n            // a || b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MATCH\n            //     else MISMATCH\n            var result = atLeastOneTermMatched ? MATCH : MISMATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n                var thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        true\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n    }\n}\n\nfunction buildMultiplierMatchGraph(node) {\n    var result = MATCH;\n    var matchTerm = buildMatchGraph(node.term);\n\n    if (node.max === 0) {\n        // disable repeating of empty match to prevent infinite loop\n        matchTerm = createCondition(\n            matchTerm,\n            DISALLOW_EMPTY,\n            MISMATCH\n        );\n\n        // an occurrence count is not limited, make a cycle;\n        // to collect more terms on each following matching mismatch\n        result = createCondition(\n            matchTerm,\n            null, // will be a loop\n            MISMATCH\n        );\n\n        result.then = createCondition(\n            MATCH,\n            MATCH,\n            result // make a loop\n        );\n\n        if (node.comma) {\n            result.then.else = createCondition(\n                { type: 'Comma', syntax: node },\n                result,\n                MISMATCH\n            );\n        }\n    } else {\n        // create a match node chain for [min .. max] interval with optional matches\n        for (var i = node.min || 1; i <= node.max; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                createCondition(\n                    MATCH,\n                    MATCH,\n                    result\n                ),\n                MISMATCH\n            );\n        }\n    }\n\n    if (node.min === 0) {\n        // allow zero match\n        result = createCondition(\n            MATCH,\n            MATCH,\n            result\n        );\n    } else {\n        // create a match node chain to collect [0 ... min - 1] required matches\n        for (var i = 0; i < node.min - 1; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                result,\n                MISMATCH\n            );\n        }\n    }\n\n    return result;\n}\n\nfunction buildMatchGraph(node) {\n    if (typeof node === 'function') {\n        return {\n            type: 'Generic',\n            fn: node\n        };\n    }\n\n    switch (node.type) {\n        case 'Group':\n            var result = buildGroupMatchGraph(\n                node.combinator,\n                node.terms.map(buildMatchGraph),\n                false\n            );\n\n            if (node.disallowEmpty) {\n                result = createCondition(\n                    result,\n                    DISALLOW_EMPTY,\n                    MISMATCH\n                );\n            }\n\n            return result;\n\n        case 'Multiplier':\n            return buildMultiplierMatchGraph(node);\n\n        case 'Type':\n        case 'Property':\n            return {\n                type: node.type,\n                name: node.name,\n                syntax: node\n            };\n\n        case 'Keyword':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'AtKeyword':\n            return {\n                type: node.type,\n                name: '@' + node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'Function':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase() + '(',\n                syntax: node\n            };\n\n        case 'String':\n            // convert a one char length String to a Token\n            if (node.value.length === 3) {\n                return {\n                    type: 'Token',\n                    value: node.value.charAt(1),\n                    syntax: node\n                };\n            }\n\n            // otherwise use it as is\n            return {\n                type: node.type,\n                value: node.value.substr(1, node.value.length - 2).replace(/\\\\'/g, '\\''),\n                syntax: node\n            };\n\n        case 'Token':\n            return {\n                type: node.type,\n                value: node.value,\n                syntax: node\n            };\n\n        case 'Comma':\n            return {\n                type: node.type,\n                syntax: node\n            };\n\n        default:\n            throw new Error('Unknown node type:', node.type);\n    }\n}\n\nmodule.exports = {\n    MATCH: MATCH,\n    MISMATCH: MISMATCH,\n    DISALLOW_EMPTY: DISALLOW_EMPTY,\n    buildMatchGraph: function(syntaxTree, ref) {\n        if (typeof syntaxTree === 'string') {\n            syntaxTree = parse(syntaxTree);\n        }\n\n        return {\n            type: 'MatchGraph',\n            match: buildMatchGraph(syntaxTree),\n            syntax: ref || null,\n            source: syntaxTree\n        };\n    }\n};\n","var cmpChar = require('../../tokenizer').cmpChar;\nvar cmpStr = require('../../tokenizer').cmpStr;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar STRING = TYPE.String;\nvar NUMBER = TYPE.Number;\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar HASH = TYPE.Hash;\nvar DIMENSION = TYPE.Dimension;\nvar PERCENTAGE = TYPE.Percentage;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar COMMA = TYPE.Comma;\nvar DELIM = TYPE.Delim;\nvar NUMBERSIGN = 0x0023;  // U+0023 NUMBER SIGN (#)\nvar ASTERISK = 0x002A;    // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar SOLIDUS = 0x002F;     // U+002F SOLIDUS (/)\nvar U = 0x0075;           // U+0075 LATIN SMALL LETTER U (u)\n\nmodule.exports = function defaultRecognizer(context) {\n    switch (this.scanner.tokenType) {\n        case HASH:\n            return this.HexColor();\n\n        case COMMA:\n            context.space = null;\n            context.ignoreWSAfter = true;\n            return this.Operator();\n\n        case LEFTPARENTHESIS:\n            return this.Parentheses(this.readSequence, context.recognizer);\n\n        case LEFTSQUAREBRACKET:\n            return this.Brackets(this.readSequence, context.recognizer);\n\n        case STRING:\n            return this.String();\n\n        case DIMENSION:\n            return this.Dimension();\n\n        case PERCENTAGE:\n            return this.Percentage();\n\n        case NUMBER:\n            return this.Number();\n\n        case FUNCTION:\n            return cmpStr(this.scanner.source, this.scanner.tokenStart, this.scanner.tokenEnd, 'url(')\n                ? this.Url()\n                : this.Function(this.readSequence, context.recognizer);\n\n        case URL:\n            return this.Url();\n\n        case IDENT:\n            // check for unicode range, it should start with u+ or U+\n            if (cmpChar(this.scanner.source, this.scanner.tokenStart, U) &&\n                cmpChar(this.scanner.source, this.scanner.tokenStart + 1, PLUSSIGN)) {\n                return this.UnicodeRange();\n            } else {\n                return this.Identifier();\n            }\n\n        case DELIM:\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n            if (code === SOLIDUS ||\n                code === ASTERISK ||\n                code === PLUSSIGN ||\n                code === HYPHENMINUS) {\n                return this.Operator(); // TODO: replace with Delim\n            }\n\n            // TODO: produce a node with Delim node type\n\n            if (code === NUMBERSIGN) {\n                this.error('Hex or identifier is expected', this.scanner.tokenStart + 1);\n            }\n\n            break;\n    }\n};\n","// https://drafts.csswg.org/css-images-4/#element-notation\n// https://developer.mozilla.org/en-US/docs/Web/CSS/element\nmodule.exports = function() {\n    this.scanner.skipSC();\n\n    var children = this.createSingleNodeList(\n        this.IdSelector()\n    );\n\n    this.scanner.skipSC();\n\n    return children;\n};\n","module.exports = {\n    parse: function selectorList() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n","var ALLOW_OF_CLAUSE = true;\n\nmodule.exports = {\n    parse: function nthWithOfClause() {\n        return this.createSingleNodeList(\n            this.Nth(ALLOW_OF_CLAUSE)\n        );\n    }\n};\n","var DISALLOW_OF_CLAUSE = false;\n\nmodule.exports = {\n    parse: function nth() {\n        return this.createSingleNodeList(\n            this.Nth(DISALLOW_OF_CLAUSE)\n        );\n    }\n};\n","function removeItemAndRedundantWhiteSpace(list, item) {\n    var prev = item.prev;\n    var next = item.next;\n\n    if (next !== null) {\n        if (next.data.type === 'WhiteSpace' && (prev === null || prev.data.type === 'WhiteSpace')) {\n            list.remove(next);\n        }\n    } else if (prev !== null && prev.data.type === 'WhiteSpace') {\n        list.remove(prev);\n    }\n\n    list.remove(item);\n}\n\nmodule.exports = function compressBorder(node) {\n    node.children.each(function(node, item, list) {\n        if (node.type === 'Identifier' && node.name.toLowerCase() === 'none') {\n            if (list.head === list.tail) {\n                // replace `none` for zero when `none` is a single term\n                item.data = {\n                    type: 'Number',\n                    loc: node.loc,\n                    value: '0'\n                };\n            } else {\n                removeItemAndRedundantWhiteSpace(list, item);\n            }\n        }\n    });\n};\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","var csstree = require('css-tree');\nvar parse = csstree.parse;\nvar compress = require('./compress');\nvar generate = csstree.generate;\n\nfunction debugOutput(name, options, startTime, data) {\n    if (options.debug) {\n        console.error('## ' + name + ' done in %d ms\\n', Date.now() - startTime);\n    }\n\n    return data;\n}\n\nfunction createDefaultLogger(level) {\n    var lastDebug;\n\n    return function logger(title, ast) {\n        var line = title;\n\n        if (ast) {\n            line = '[' + ((Date.now() - lastDebug) / 1000).toFixed(3) + 's] ' + line;\n        }\n\n        if (level > 1 && ast) {\n            var css = generate(ast);\n\n            // when level 2, limit css to 256 symbols\n            if (level === 2 && css.length > 256) {\n                css = css.substr(0, 256) + '...';\n            }\n\n            line += '\\n  ' + css + '\\n';\n        }\n\n        console.error(line);\n        lastDebug = Date.now();\n    };\n}\n\nfunction copy(obj) {\n    var result = {};\n\n    for (var key in obj) {\n        result[key] = obj[key];\n    }\n\n    return result;\n}\n\nfunction buildCompressOptions(options) {\n    options = copy(options);\n\n    if (typeof options.logger !== 'function' && options.debug) {\n        options.logger = createDefaultLogger(options.debug);\n    }\n\n    return options;\n}\n\nfunction runHandler(ast, options, handlers) {\n    if (!Array.isArray(handlers)) {\n        handlers = [handlers];\n    }\n\n    handlers.forEach(function(fn) {\n        fn(ast, options);\n    });\n}\n\nfunction minify(context, source, options) {\n    options = options || {};\n\n    var filename = options.filename || '<unknown>';\n    var result;\n\n    // parse\n    var ast = debugOutput('parsing', options, Date.now(),\n        parse(source, {\n            context: context,\n            filename: filename,\n            positions: Boolean(options.sourceMap)\n        })\n    );\n\n    // before compress handlers\n    if (options.beforeCompress) {\n        debugOutput('beforeCompress', options, Date.now(),\n            runHandler(ast, options, options.beforeCompress)\n        );\n    }\n\n    // compress\n    var compressResult = debugOutput('compress', options, Date.now(),\n        compress(ast, buildCompressOptions(options))\n    );\n\n    // after compress handlers\n    if (options.afterCompress) {\n        debugOutput('afterCompress', options, Date.now(),\n            runHandler(compressResult, options, options.afterCompress)\n        );\n    }\n\n    // generate\n    if (options.sourceMap) {\n        result = debugOutput('generate(sourceMap: true)', options, Date.now(), (function() {\n            var tmp = generate(compressResult.ast, { sourceMap: true });\n            tmp.map._file = filename; // since other tools can relay on file in source map transform chain\n            tmp.map.setSourceContent(filename, source);\n            return tmp;\n        }()));\n    } else {\n        result = debugOutput('generate', options, Date.now(), {\n            css: generate(compressResult.ast),\n            map: null\n        });\n    }\n\n    return result;\n}\n\nfunction minifyStylesheet(source, options) {\n    return minify('stylesheet', source, options);\n}\n\nfunction minifyBlock(source, options) {\n    return minify('declarationList', source, options);\n}\n\nmodule.exports = {\n    version: require('../package.json').version,\n\n    // main methods\n    minify: minifyStylesheet,\n    minifyBlock: minifyBlock,\n\n    // css syntax parser/walkers/generator/etc\n    syntax: Object.assign({\n        compress: compress\n    }, csstree)\n};\n","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","export function merge(...sets:Array<string>):string {\n\tif (sets.length > 1) {\n\t\tsets[0] = sets[0].slice(0, -1);\n\t\tconst xl = sets.length - 1;\n\t\tfor (let x = 1; x < xl; ++x) {\n\t\t\tsets[x] = sets[x].slice(1, -1);\n\t\t}\n\t\tsets[xl] = sets[xl].slice(1);\n\t\treturn sets.join('');\n\t} else {\n\t\treturn sets[0];\n\t}\n}\n\nexport function subexp(str:string):string {\n\treturn \"(?:\" + str + \")\";\n}\n\nexport function typeOf(o:any):string {\n\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\n}\n\nexport function toUpperCase(str:string):string {\n\treturn str.toUpperCase();\n}\n\nexport function toArray(obj:any):Array<any> {\n\treturn obj !== undefined && obj !== null ? (obj instanceof Array ? obj : (typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj))) : [];\n}\n\n\nexport function assign(target: object, source: any): any {\n\tconst obj = target as any;\n\tif (source) {\n\t\tfor (const key in source) {\n\t\t\tobj[key] = source[key];\n\t\t}\n\t}\n\treturn obj;\n}","import { URIRegExps } from \"./uri\";\nimport { merge, subexp } from \"./util\";\n\nexport function buildExps(isIRI:boolean):URIRegExps {\n\tconst\n\t\tALPHA$$ = \"[A-Za-z]\",\n\t\tCR$ = \"[\\\\x0D]\",\n\t\tDIGIT$$ = \"[0-9]\",\n\t\tDQUOTE$$ = \"[\\\\x22]\",\n\t\tHEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\n\t\tLF$$ = \"[\\\\x0A]\",\n\t\tSP$$ = \"[\\\\x20]\",\n\t\tPCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),  //expanded\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n\t\tRESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n\t\tUCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",  //subset, excludes bidi control characters\n\t\tIPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",  //subset\n\t\tUNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n\t\tSCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n\t\tDEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),  //relaxed parsing rules\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n\t\tIPV6ADDRESS1$ = subexp(                                                            subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$), //                           6( h16 \":\" ) ls32\n\t\tIPV6ADDRESS2$ = subexp(                                                 \"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$), //                      \"::\" 5( h16 \":\" ) ls32\n\t\tIPV6ADDRESS3$ = subexp(subexp(                                 H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$), //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n\t\tIPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$), //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n\t\tIPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$), //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n\t\tIPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" +        H16$ + \"\\\\:\"          + LS32$), //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n\t\tIPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\"                                + LS32$), //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n\t\tIPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\"                                + H16$ ), //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n\t\tIPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"                                       ), //[ *6( h16 \":\" ) h16 ] \"::\"\n\t\tIPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n\t\tZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),  //RFC 6874\n\t\tIPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),  //RFC 6874\n\t\tIPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),  //RFC 6874, with relaxed parsing rules\n\t\tIPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),  //RFC 6874\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\"\n\t;\n\n\treturn {\n\t\tNOT_SCHEME : new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n\t\tNOT_USERINFO : new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_HOST : new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH : new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH_NOSCHEME : new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_QUERY : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n\t\tNOT_FRAGMENT : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n\t\tESCAPE : new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tUNRESERVED : new RegExp(UNRESERVED$$, \"g\"),\n\t\tOTHER_CHARS : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n\t\tPCT_ENCODED : new RegExp(PCT_ENCODED$, \"g\"),\n\t\tIPV4ADDRESS : new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n\t\tIPV6ADDRESS : new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\")  //RFC 6874, with relaxed parsing rules\n\t};\n}\n\nexport default buildExps(false);\n","import { URIRegExps } from \"./uri\";\nimport { buildExps } from \"./regexps-uri\";\n\nexport default buildExps(true);\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport default punycode;\n","/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\n\nimport URI_PROTOCOL from \"./regexps-uri\";\nimport IRI_PROTOCOL from \"./regexps-iri\";\nimport punycode from \"punycode\";\nimport { toUpperCase, typeOf, assign } from \"./util\";\n\nexport interface URIComponents {\n\tscheme?:string;\n\tuserinfo?:string;\n\thost?:string;\n\tport?:number|string;\n\tpath?:string;\n\tquery?:string;\n\tfragment?:string;\n\treference?:string;\n\terror?:string;\n}\n\nexport interface URIOptions {\n\tscheme?:string;\n\treference?:string;\n\ttolerant?:boolean;\n\tabsolutePath?:boolean;\n\tiri?:boolean;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n}\n\nexport interface URISchemeHandler<Components extends URIComponents = URIComponents, Options extends URIOptions = URIOptions, ParentComponents extends URIComponents = URIComponents> {\n\tscheme:string;\n\tparse(components:ParentComponents, options:Options):Components;\n\tserialize(components:Components, options:Options):ParentComponents;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n\tabsolutePath?:boolean;\n}\n\nexport interface URIRegExps {\n\tNOT_SCHEME : RegExp,\n\tNOT_USERINFO : RegExp,\n\tNOT_HOST : RegExp,\n\tNOT_PATH : RegExp,\n\tNOT_PATH_NOSCHEME : RegExp,\n\tNOT_QUERY : RegExp,\n\tNOT_FRAGMENT : RegExp,\n\tESCAPE : RegExp,\n\tUNRESERVED : RegExp,\n\tOTHER_CHARS : RegExp,\n\tPCT_ENCODED : RegExp,\n\tIPV4ADDRESS : RegExp,\n\tIPV6ADDRESS : RegExp,\n}\n\nexport const SCHEMES:{[scheme:string]:URISchemeHandler} = {};\n\nexport function pctEncChar(chr:string):string {\n\tconst c = chr.charCodeAt(0);\n\tlet e:string;\n\n\tif (c < 16) e = \"%0\" + c.toString(16).toUpperCase();\n\telse if (c < 128) e = \"%\" + c.toString(16).toUpperCase();\n\telse if (c < 2048) e = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\telse e = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\n\treturn e;\n}\n\nexport function pctDecChars(str:string):string {\n\tlet newStr = \"\";\n\tlet i = 0;\n\tconst il = str.length;\n\n\twhile (i < il) {\n\t\tconst c = parseInt(str.substr(i + 1, 2), 16);\n\n\t\tif (c < 128) {\n\t\t\tnewStr += String.fromCharCode(c);\n\t\t\ti += 3;\n\t\t}\n\t\telse if (c >= 194 && c < 224) {\n\t\t\tif ((il - i) >= 6) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 6);\n\t\t\t}\n\t\t\ti += 6;\n\t\t}\n\t\telse if (c >= 224) {\n\t\t\tif ((il - i) >= 9) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tconst c3 = parseInt(str.substr(i + 7, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 9);\n\t\t\t}\n\t\t\ti += 9;\n\t\t}\n\t\telse {\n\t\t\tnewStr += str.substr(i, 3);\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\treturn newStr;\n}\n\nfunction _normalizeComponentEncoding(components:URIComponents, protocol:URIRegExps) {\n\tfunction decodeUnreserved(str:string):string {\n\t\tconst decStr = pctDecChars(str);\n\t\treturn (!decStr.match(protocol.UNRESERVED) ? str : decStr);\n\t}\n\n\tif (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n\tif (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace((components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME), pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\n\treturn components;\n};\n\nfunction _stripLeadingZeros(str:string):string {\n\treturn str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\n\nfunction _normalizeIPv4(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV4ADDRESS) || [];\n\tconst [, address] = matches;\n\t\n\tif (address) {\n\t\treturn address.split(\".\").map(_stripLeadingZeros).join(\".\");\n\t} else {\n\t\treturn host;\n\t}\n}\n\nfunction _normalizeIPv6(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV6ADDRESS) || [];\n\tconst [, address, zone] = matches;\n\n\tif (address) {\n\t\tconst [last, first] = address.toLowerCase().split('::').reverse();\n\t\tconst firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n\t\tconst lastFields = last.split(\":\").map(_stripLeadingZeros);\n\t\tconst isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n\t\tconst fieldCount = isLastFieldIPv4Address ? 7 : 8;\n\t\tconst lastFieldsStart = lastFields.length - fieldCount;\n\t\tconst fields = Array<string>(fieldCount);\n\n\t\tfor (let x = 0; x < fieldCount; ++x) {\n\t\t\tfields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n\t\t}\n\n\t\tif (isLastFieldIPv4Address) {\n\t\t\tfields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n\t\t}\n\n\t\tconst allZeroFields = fields.reduce<Array<{index:number,length:number}>>((acc, field, index) => {\n\t\t\tif (!field || field === \"0\") {\n\t\t\t\tconst lastLongest = acc[acc.length - 1];\n\t\t\t\tif (lastLongest && lastLongest.index + lastLongest.length === index) {\n\t\t\t\t\tlastLongest.length++;\n\t\t\t\t} else {\n\t\t\t\t\tacc.push({ index, length : 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst longestZeroFields = allZeroFields.sort((a, b) => b.length - a.length)[0];\n\n\t\tlet newHost:string;\n\t\tif (longestZeroFields && longestZeroFields.length > 1) {\n\t\t\tconst newFirst = fields.slice(0, longestZeroFields.index) ;\n\t\t\tconst newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n\t\t\tnewHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n\t\t} else {\n\t\t\tnewHost = fields.join(\":\");\n\t\t}\n\n\t\tif (zone) {\n\t\t\tnewHost += \"%\" + zone;\n\t\t}\n\n\t\treturn newHost;\n\t} else {\n\t\treturn host;\n\t}\n}\n\nconst URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nconst NO_MATCH_IS_UNDEFINED = (<RegExpMatchArray>(\"\").match(/(){0}/))[1] === undefined;\n\nexport function parse(uriString:string, options:URIOptions = {}):URIComponents {\n\tconst components:URIComponents = {};\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\n\tif (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n\n\tconst matches = uriString.match(URI_PARSE);\n\n\tif (matches) {\n\t\tif (NO_MATCH_IS_UNDEFINED) {\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1];\n\t\t\tcomponents.userinfo = matches[3];\n\t\t\tcomponents.host = matches[4];\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = matches[7];\n\t\t\tcomponents.fragment = matches[8];\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = matches[5];\n\t\t\t}\n\t\t} else {  //IE FIX for improper RegExp matching\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1] || undefined;\n\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\n\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\n\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (components.host) {\n\t\t\t//normalize IP hosts\n\t\t\tcomponents.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n\t\t}\n\n\t\t//determine reference type\n\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n\t\t\tcomponents.reference = \"same-document\";\n\t\t} else if (components.scheme === undefined) {\n\t\t\tcomponents.reference = \"relative\";\n\t\t} else if (components.fragment === undefined) {\n\t\t\tcomponents.reference = \"absolute\";\n\t\t} else {\n\t\t\tcomponents.reference = \"uri\";\n\t\t}\n\n\t\t//check for reference errors\n\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n\t\t\tcomponents.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n\t\t}\n\n\t\t//find scheme handler\n\t\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t\t//check if scheme can't handle IRIs\n\t\tif (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n\t\t\t//if host component is a domain name\n\t\t\tif (components.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost))) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\tcomponents.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//convert IRI -> URI\n\t\t\t_normalizeComponentEncoding(components, URI_PROTOCOL);\n\t\t} else {\n\t\t\t//normalize encodings\n\t\t\t_normalizeComponentEncoding(components, protocol);\n\t\t}\n\n\t\t//perform scheme specific parsing\n\t\tif (schemeHandler && schemeHandler.parse) {\n\t\t\tschemeHandler.parse(components, options);\n\t\t}\n\t} else {\n\t\tcomponents.error = components.error || \"URI can not be parsed.\";\n\t}\n\n\treturn components;\n};\n\nfunction _recomposeAuthority(components:URIComponents, options:URIOptions):string|undefined {\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\tif (components.userinfo !== undefined) {\n\t\turiTokens.push(components.userinfo);\n\t\turiTokens.push(\"@\");\n\t}\n\n\tif (components.host !== undefined) {\n\t\t//normalize IP hosts, add brackets and escape zone separator for IPv6\n\t\turiTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, (_, $1, $2) => \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\"));\n\t}\n\n\tif (typeof components.port === \"number\") {\n\t\turiTokens.push(\":\");\n\t\turiTokens.push(components.port.toString(10));\n\t}\n\n\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\n};\n\nconst RDS1 = /^\\.\\.?\\//;\nconst RDS2 = /^\\/\\.(\\/|$)/;\nconst RDS3 = /^\\/\\.\\.(\\/|$)/;\nconst RDS4 = /^\\.\\.?$/;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\nexport function removeDotSegments(input:string):string {\n\tconst output:Array<string> = [];\n\n\twhile (input.length) {\n\t\tif (input.match(RDS1)) {\n\t\t\tinput = input.replace(RDS1, \"\");\n\t\t} else if (input.match(RDS2)) {\n\t\t\tinput = input.replace(RDS2, \"/\");\n\t\t} else if (input.match(RDS3)) {\n\t\t\tinput = input.replace(RDS3, \"/\");\n\t\t\toutput.pop();\n\t\t} else if (input === \".\" || input === \"..\") {\n\t\t\tinput = \"\";\n\t\t} else {\n\t\t\tconst im = input.match(RDS5);\n\t\t\tif (im) {\n\t\t\t\tconst s = im[0];\n\t\t\t\tinput = input.slice(s.length);\n\t\t\t\toutput.push(s);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unexpected dot segment condition\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join(\"\");\n};\n\nexport function serialize(components:URIComponents, options:URIOptions = {}):string {\n\tconst protocol = (options.iri ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\t//find scheme handler\n\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t//perform scheme specific serialization\n\tif (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n\tif (components.host) {\n\t\t//if host component is an IPv6 address\n\t\tif (protocol.IPV6ADDRESS.test(components.host)) {\n\t\t\t//TODO: normalize IPv6 address as per RFC 5952\n\t\t}\n\n\t\t//if host component is a domain name\n\t\telse if (options.domainHost || (schemeHandler && schemeHandler.domainHost)) {\n\t\t\t//convert IDN via punycode\n\t\t\ttry {\n\t\t\t\tcomponents.host = (!options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host));\n\t\t\t} catch (e) {\n\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t}\n\t\t}\n\t}\n\n\t//normalize encoding\n\t_normalizeComponentEncoding(components, protocol);\n\n\tif (options.reference !== \"suffix\" && components.scheme) {\n\t\turiTokens.push(components.scheme);\n\t\turiTokens.push(\":\");\n\t}\n\n\tconst authority = _recomposeAuthority(components, options);\n\tif (authority !== undefined) {\n\t\tif (options.reference !== \"suffix\") {\n\t\t\turiTokens.push(\"//\");\n\t\t}\n\n\t\turiTokens.push(authority);\n\n\t\tif (components.path && components.path.charAt(0) !== \"/\") {\n\t\t\turiTokens.push(\"/\");\n\t\t}\n\t}\n\n\tif (components.path !== undefined) {\n\t\tlet s = components.path;\n\n\t\tif (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n\t\t\ts = removeDotSegments(s);\n\t\t}\n\n\t\tif (authority === undefined) {\n\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\n\t\t}\n\n\t\turiTokens.push(s);\n\t}\n\n\tif (components.query !== undefined) {\n\t\turiTokens.push(\"?\");\n\t\turiTokens.push(components.query);\n\t}\n\n\tif (components.fragment !== undefined) {\n\t\turiTokens.push(\"#\");\n\t\turiTokens.push(components.fragment);\n\t}\n\n\treturn uriTokens.join(\"\");  //merge tokens into a string\n};\n\nexport function resolveComponents(base:URIComponents, relative:URIComponents, options:URIOptions = {}, skipNormalization?:boolean):URIComponents {\n\tconst target:URIComponents = {};\n\n\tif (!skipNormalization) {\n\t\tbase = parse(serialize(base, options), options);  //normalize base components\n\t\trelative = parse(serialize(relative, options), options);  //normalize relative components\n\t}\n\toptions = options || {};\n\n\tif (!options.tolerant && relative.scheme) {\n\t\ttarget.scheme = relative.scheme;\n\t\t//target.authority = relative.authority;\n\t\ttarget.userinfo = relative.userinfo;\n\t\ttarget.host = relative.host;\n\t\ttarget.port = relative.port;\n\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\ttarget.query = relative.query;\n\t} else {\n\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n\t\t\t//target.authority = relative.authority;\n\t\t\ttarget.userinfo = relative.userinfo;\n\t\t\ttarget.host = relative.host;\n\t\t\ttarget.port = relative.port;\n\t\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\t\ttarget.query = relative.query;\n\t\t} else {\n\t\t\tif (!relative.path) {\n\t\t\t\ttarget.path = base.path;\n\t\t\t\tif (relative.query !== undefined) {\n\t\t\t\t\ttarget.query = relative.query;\n\t\t\t\t} else {\n\t\t\t\t\ttarget.query = base.query;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (relative.path.charAt(0) === \"/\") {\n\t\t\t\t\ttarget.path = removeDotSegments(relative.path);\n\t\t\t\t} else {\n\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\n\t\t\t\t\t} else if (!base.path) {\n\t\t\t\t\t\ttarget.path = relative.path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.path = removeDotSegments(target.path);\n\t\t\t\t}\n\t\t\t\ttarget.query = relative.query;\n\t\t\t}\n\t\t\t//target.authority = base.authority;\n\t\t\ttarget.userinfo = base.userinfo;\n\t\t\ttarget.host = base.host;\n\t\t\ttarget.port = base.port;\n\t\t}\n\t\ttarget.scheme = base.scheme;\n\t}\n\n\ttarget.fragment = relative.fragment;\n\n\treturn target;\n};\n\nexport function resolve(baseURI:string, relativeURI:string, options?:URIOptions):string {\n\tconst schemelessOptions = assign({ scheme : 'null' }, options);\n\treturn serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n};\n\nexport function normalize(uri:string, options?:URIOptions):string;\nexport function normalize(uri:URIComponents, options?:URIOptions):URIComponents;\nexport function normalize(uri:any, options?:URIOptions):any {\n\tif (typeof uri === \"string\") {\n\t\turi = serialize(parse(uri, options), options);\n\t} else if (typeOf(uri) === \"object\") {\n\t\turi = parse(serialize(<URIComponents>uri, options), options);\n\t}\n\n\treturn uri;\n};\n\nexport function equal(uriA:string, uriB:string, options?: URIOptions):boolean;\nexport function equal(uriA:URIComponents, uriB:URIComponents, options?:URIOptions):boolean;\nexport function equal(uriA:any, uriB:any, options?:URIOptions):boolean {\n\tif (typeof uriA === \"string\") {\n\t\turiA = serialize(parse(uriA, options), options);\n\t} else if (typeOf(uriA) === \"object\") {\n\t\turiA = serialize(<URIComponents>uriA, options);\n\t}\n\n\tif (typeof uriB === \"string\") {\n\t\turiB = serialize(parse(uriB, options), options);\n\t} else if (typeOf(uriB) === \"object\") {\n\t\turiB = serialize(<URIComponents>uriB, options);\n\t}\n\n\treturn uriA === uriB;\n};\n\nexport function escapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE), pctEncChar);\n};\n\nexport function unescapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED), pctDecChars);\n};\n","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"http\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//report missing host\n\t\tif (!components.host) {\n\t\t\tcomponents.error = components.error || \"HTTP URIs must have a host.\";\n\t\t}\n\n\t\treturn components;\n\t},\n\n\tserialize : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//normalize the default port\n\t\tif (components.port === (String(components.scheme).toLowerCase() !== \"https\" ? 80 : 443) || components.port === \"\") {\n\t\t\tcomponents.port = undefined;\n\t\t}\n\t\t\n\t\t//normalize the empty path\n\t\tif (!components.path) {\n\t\t\tcomponents.path = \"/\";\n\t\t}\n\n\t\t//NOTE: We do not parse query strings for HTTP URIs\n\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n\t\t//and not the HTTP spec.\n\n\t\treturn components;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport http from \"./http\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"https\",\n\tdomainHost : http.domainHost,\n\tparse : http.parse,\n\tserialize : http.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, pctDecChars, unescapeComponent } from \"../uri\";\nimport punycode from \"punycode\";\nimport { merge, subexp, toUpperCase, toArray } from \"../util\";\n\nexport interface MailtoHeaders {\n\t[hfname:string]:string\n}\n\nexport interface MailtoComponents extends URIComponents {\n\tto:Array<string>,\n\theaders?:MailtoHeaders,\n\tsubject?:string,\n\tbody?:string\n}\n\nconst O:MailtoHeaders = {};\nconst isIRI = true;\n\n//RFC 3986\nconst UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nconst HEXDIG$$ = \"[0-9A-Fa-f]\";  //case-insensitive\nconst PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$));  //expanded\n\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nconst ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nconst QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nconst VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nconst DOT_ATOM_TEXT$ = subexp(ATEXT$$ + \"+\" + subexp(\"\\\\.\" + ATEXT$$ + \"+\") + \"*\");\nconst QUOTED_PAIR$ = subexp(\"\\\\\\\\\" + VCHAR$$);\nconst QCONTENT$ = subexp(QTEXT$$ + \"|\" + QUOTED_PAIR$);\nconst QUOTED_STRING$ = subexp('\\\\\"' + QCONTENT$ + \"*\" + '\\\\\"');\n\n//RFC 6068\nconst DTEXT_NO_OBS$$ = \"[\\\\x21-\\\\x5A\\\\x5E-\\\\x7E]\";  //%d33-90 / %d94-126\nconst SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nconst QCHAR$ = subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$ + \"|\" + SOME_DELIMS$$);\nconst DOMAIN$ = subexp(DOT_ATOM_TEXT$ + \"|\" + \"\\\\[\" + DTEXT_NO_OBS$$ + \"*\" + \"\\\\]\");\nconst LOCAL_PART$ = subexp(DOT_ATOM_TEXT$ + \"|\" + QUOTED_STRING$);\nconst ADDR_SPEC$ = subexp(LOCAL_PART$ + \"\\\\@\" + DOMAIN$);\nconst TO$ = subexp(ADDR_SPEC$ + subexp(\"\\\\,\" + ADDR_SPEC$) + \"*\");\nconst HFNAME$ = subexp(QCHAR$ + \"*\");\nconst HFVALUE$ = HFNAME$;\nconst HFIELD$ = subexp(HFNAME$ + \"\\\\=\" + HFVALUE$);\nconst HFIELDS2$ = subexp(HFIELD$ + subexp(\"\\\\&\" + HFIELD$) + \"*\");\nconst HFIELDS$ = subexp(\"\\\\?\" + HFIELDS2$);\nconst MAILTO_URI = new RegExp(\"^mailto\\\\:\" + TO$ + \"?\" + HFIELDS$ + \"?$\");\n\nconst UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nconst PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nconst NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nconst NOT_DOMAIN = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", \"[\\\\[]\", DTEXT_NO_OBS$$, \"[\\\\]]\"), \"g\");\nconst NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nconst NOT_HFVALUE = NOT_HFNAME;\nconst TO = new RegExp(\"^\" + TO$ + \"$\");\nconst HFIELDS = new RegExp(\"^\" + HFIELDS2$ + \"$\");\n\nfunction decodeUnreserved(str:string):string {\n\tconst decStr = pctDecChars(str);\n\treturn (!decStr.match(UNRESERVED) ? str : decStr);\n}\n\nconst handler:URISchemeHandler<MailtoComponents> =  {\n\tscheme : \"mailto\",\n\n\tparse : function (components:URIComponents, options:URIOptions):MailtoComponents {\n\t\tconst mailtoComponents = components as MailtoComponents;\n\t\tconst to = mailtoComponents.to = (mailtoComponents.path ? mailtoComponents.path.split(\",\") : []);\n\t\tmailtoComponents.path = undefined;\n\n\t\tif (mailtoComponents.query) {\n\t\t\tlet unknownHeaders = false\n\t\t\tconst headers:MailtoHeaders = {};\n\t\t\tconst hfields = mailtoComponents.query.split(\"&\");\n\n\t\t\tfor (let x = 0, xl = hfields.length; x < xl; ++x) {\n\t\t\t\tconst hfield = hfields[x].split(\"=\");\n\n\t\t\t\tswitch (hfield[0]) {\n\t\t\t\t\tcase \"to\":\n\t\t\t\t\t\tconst toAddrs = hfield[1].split(\",\");\n\t\t\t\t\t\tfor (let x = 0, xl = toAddrs.length; x < xl; ++x) {\n\t\t\t\t\t\t\tto.push(toAddrs[x]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"subject\":\n\t\t\t\t\t\tmailtoComponents.subject = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"body\":\n\t\t\t\t\t\tmailtoComponents.body = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tunknownHeaders = true;\n\t\t\t\t\t\theaders[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (unknownHeaders) mailtoComponents.headers = headers;\n\t\t}\n\n\t\tmailtoComponents.query = undefined;\n\n\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\tconst addr = to[x].split(\"@\");\n\n\t\t\taddr[0] = unescapeComponent(addr[0]);\n\n\t\t\tif (!options.unicodeSupport) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\taddr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\taddr[1] = unescapeComponent(addr[1], options).toLowerCase();\n\t\t\t}\n\n\t\t\tto[x] = addr.join(\"@\");\n\t\t}\n\n\t\treturn mailtoComponents;\n\t},\n\n\tserialize : function (mailtoComponents:MailtoComponents, options:URIOptions):URIComponents {\n\t\tconst components = mailtoComponents as URIComponents;\n\t\tconst to = toArray(mailtoComponents.to);\n\t\tif (to) {\n\t\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\t\tconst toAddr = String(to[x]);\n\t\t\t\tconst atIdx = toAddr.lastIndexOf(\"@\");\n\t\t\t\tconst localPart = (toAddr.slice(0, atIdx)).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n\t\t\t\tlet domain = toAddr.slice(atIdx + 1);\n\n\t\t\t\t//convert IDN via punycode\n\t\t\t\ttry {\n\t\t\t\t\tdomain = (!options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t\t}\n\n\t\t\t\tto[x] = localPart + \"@\" + domain;\n\t\t\t}\n\n\t\t\tcomponents.path = to.join(\",\");\n\t\t}\n\n\t\tconst headers = mailtoComponents.headers = mailtoComponents.headers || {};\n\n\t\tif (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n\t\tif (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n\n\t\tconst fields = [];\n\t\tfor (const name in headers) {\n\t\t\tif (headers[name] !== O[name]) {\n\t\t\t\tfields.push(\n\t\t\t\t\tname.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) +\n\t\t\t\t\t\"=\" +\n\t\t\t\t\theaders[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (fields.length) {\n\t\t\tcomponents.query = fields.join(\"&\");\n\t\t}\n\n\t\treturn components;\n\t}\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, SCHEMES } from \"../uri\";\n\nexport interface URNComponents extends URIComponents {\n\tnid?:string;\n\tnss?:string;\n}\n\nexport interface URNOptions extends URIOptions {\n\tnid?:string;\n}\n\nconst NID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\";\nconst PCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\";\nconst TRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\";\nconst NSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\";\nconst URN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\");\nconst URN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\");\nconst URN_PARSE = /^([^\\:]+)\\:(.*)/;\nconst URN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g;\n\n//RFC 2141\nconst handler:URISchemeHandler<URNComponents,URNOptions> = {\n\tscheme : \"urn\",\n\n\tparse : function (components:URIComponents, options:URNOptions):URNComponents {\n\t\tconst matches = components.path && components.path.match(URN_PARSE);\n\t\tlet urnComponents = components as URNComponents;\n\n\t\tif (matches) {\n\t\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\t\tconst nid = matches[1].toLowerCase();\n\t\t\tconst nss = matches[2];\n\t\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\t\turnComponents.nid = nid;\n\t\t\turnComponents.nss = nss;\n\t\t\turnComponents.path = undefined;\n\n\t\t\tif (schemeHandler) {\n\t\t\t\turnComponents = schemeHandler.parse(urnComponents, options) as URNComponents;\n\t\t\t}\n\t\t} else {\n\t\t\turnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n\t\t}\n\n\t\treturn urnComponents;\n\t},\n\n\tserialize : function (urnComponents:URNComponents, options:URNOptions):URIComponents {\n\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\tconst nid = urnComponents.nid;\n\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\tif (schemeHandler) {\n\t\t\turnComponents = schemeHandler.serialize(urnComponents, options) as URNComponents;\n\t\t}\n\n\t\tconst uriComponents = urnComponents as URIComponents;\n\t\tconst nss = urnComponents.nss;\n\t\turiComponents.path = `${nid || options.nid}:${nss}`;\n\n\t\treturn uriComponents;\n\t},\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { URNComponents } from \"./urn\";\nimport { SCHEMES } from \"../uri\";\n\nexport interface UUIDComponents extends URNComponents {\n\tuuid?: string;\n}\n\nconst UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\nconst UUID_PARSE = /^[0-9A-Fa-f\\-]{36}/;\n\n//RFC 4122\nconst handler:URISchemeHandler<UUIDComponents, URIOptions, URNComponents> = {\n\tscheme : \"urn:uuid\",\n\n\tparse : function (urnComponents:URNComponents, options:URIOptions):UUIDComponents {\n\t\tconst uuidComponents = urnComponents as UUIDComponents;\n\t\tuuidComponents.uuid = uuidComponents.nss;\n\t\tuuidComponents.nss = undefined;\n\n\t\tif (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n\t\t\tuuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n\t\t}\n\n\t\treturn uuidComponents;\n\t},\n\n\tserialize : function (uuidComponents:UUIDComponents, options:URIOptions):URNComponents {\n\t\tconst urnComponents = uuidComponents as URNComponents;\n\t\t//normalize UUID\n\t\turnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n\t\treturn urnComponents;\n\t},\n};\n\nexport default handler;","import { SCHEMES } from \"./uri\";\n\nimport http from \"./schemes/http\";\nSCHEMES[http.scheme] = http;\n\nimport https from \"./schemes/https\";\nSCHEMES[https.scheme] = https;\n\nimport mailto from \"./schemes/mailto\";\nSCHEMES[mailto.scheme] = mailto;\n\nimport urn from \"./schemes/urn\";\nSCHEMES[urn.scheme] = urn;\n\nimport uuid from \"./schemes/urn-uuid\";\nSCHEMES[uuid.scheme] = uuid;\n\nexport * from \"./uri\";\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? typeof $thenSch == 'object' && Object.keys($thenSch).length > 0 : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? typeof $elseSch == 'object' && Object.keys($elseSch).length > 0 : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0 : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == 'object' && Object.keys($propertySch).length > 0 : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 83;","function merge() {\n    var dest = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n        var src = arguments[i];\n        for (var key in src) {\n            dest[key] = src[key];\n        }\n    }\n\n    return dest;\n}\n\nmodule.exports = require('./create').create(\n    merge(\n        require('./config/lexer'),\n        require('./config/parser'),\n        require('./config/walker')\n    )\n);\n","var List = require('../common/List');\nvar SyntaxError = require('../common/SyntaxError');\nvar TokenStream = require('../common/TokenStream');\nvar Lexer = require('../lexer/Lexer');\nvar definitionSyntax = require('../definition-syntax');\nvar tokenize = require('../tokenizer');\nvar createParser = require('../parser/create');\nvar createGenerator = require('../generator/create');\nvar createConvertor = require('../convertor/create');\nvar createWalker = require('../walker/create');\nvar clone = require('../utils/clone');\nvar names = require('../utils/names');\nvar mix = require('./config/mix');\n\nfunction createSyntax(config) {\n    var parse = createParser(config);\n    var walk = createWalker(config);\n    var generate = createGenerator(config);\n    var convert = createConvertor(walk);\n\n    var syntax = {\n        List: List,\n        SyntaxError: SyntaxError,\n        TokenStream: TokenStream,\n        Lexer: Lexer,\n\n        vendorPrefix: names.vendorPrefix,\n        keyword: names.keyword,\n        property: names.property,\n        isCustomProperty: names.isCustomProperty,\n\n        definitionSyntax: definitionSyntax,\n        lexer: null,\n        createLexer: function(config) {\n            return new Lexer(config, syntax, syntax.lexer.structure);\n        },\n\n        tokenize: tokenize,\n        parse: parse,\n        walk: walk,\n        generate: generate,\n\n        find: walk.find,\n        findLast: walk.findLast,\n        findAll: walk.findAll,\n\n        clone: clone,\n        fromPlainObject: convert.fromPlainObject,\n        toPlainObject: convert.toPlainObject,\n\n        createSyntax: function(config) {\n            return createSyntax(mix({}, config));\n        },\n        fork: function(extension) {\n            var base = mix({}, config); // copy of config\n            return createSyntax(\n                typeof extension === 'function'\n                    ? extension(base, Object.assign)\n                    : mix(base, extension)\n            );\n        }\n    };\n\n    syntax.lexer = new Lexer({\n        generic: true,\n        types: config.types,\n        atrules: config.atrules,\n        properties: config.properties,\n        node: config.node\n    }, syntax);\n\n    return syntax;\n};\n\nexports.create = function(config) {\n    return createSyntax(mix({}, config));\n};\n","var SyntaxReferenceError = require('./error').SyntaxReferenceError;\nvar MatchError = require('./error').MatchError;\nvar names = require('../utils/names');\nvar generic = require('./generic');\nvar parse = require('../definition-syntax/parse');\nvar generate = require('../definition-syntax/generate');\nvar walk = require('../definition-syntax/walk');\nvar prepareTokens = require('./prepare-tokens');\nvar buildMatchGraph = require('./match-graph').buildMatchGraph;\nvar matchAsTree = require('./match').matchAsTree;\nvar trace = require('./trace');\nvar search = require('./search');\nvar getStructureFromConfig = require('./structure').getStructureFromConfig;\nvar cssWideKeywords = buildMatchGraph('inherit | initial | unset');\nvar cssWideKeywordsWithExpression = buildMatchGraph('inherit | initial | unset | <-ms-legacy-expression>');\n\nfunction dumpMapSyntax(map, compact, syntaxAsAst) {\n    var result = {};\n\n    for (var name in map) {\n        if (map[name].syntax) {\n            result[name] = syntaxAsAst\n                ? map[name].syntax\n                : generate(map[name].syntax, { compact: compact });\n        }\n    }\n\n    return result;\n}\n\nfunction valueHasVar(tokens) {\n    for (var i = 0; i < tokens.length; i++) {\n        if (tokens[i].value.toLowerCase() === 'var(') {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction buildMatchResult(match, error, iterations) {\n    return {\n        matched: match,\n        iterations: iterations,\n        error: error,\n        getTrace: trace.getTrace,\n        isType: trace.isType,\n        isProperty: trace.isProperty,\n        isKeyword: trace.isKeyword\n    };\n}\n\nfunction matchSyntax(lexer, syntax, value, useCommon) {\n    var tokens = prepareTokens(value, lexer.syntax);\n    var result;\n\n    if (valueHasVar(tokens)) {\n        return buildMatchResult(null, new Error('Matching for a tree with var() is not supported'));\n    }\n\n    if (useCommon) {\n        result = matchAsTree(tokens, lexer.valueCommonSyntax, lexer);\n    }\n\n    if (!useCommon || !result.match) {\n        result = matchAsTree(tokens, syntax.match, lexer);\n        if (!result.match) {\n            return buildMatchResult(\n                null,\n                new MatchError(result.reason, syntax.syntax, value, result),\n                result.iterations\n            );\n        }\n    }\n\n    return buildMatchResult(result.match, null, result.iterations);\n}\n\nvar Lexer = function(config, syntax, structure) {\n    this.valueCommonSyntax = cssWideKeywords;\n    this.syntax = syntax;\n    this.generic = false;\n    this.atrules = {};\n    this.properties = {};\n    this.types = {};\n    this.structure = structure || getStructureFromConfig(config);\n\n    if (config) {\n        if (config.types) {\n            for (var name in config.types) {\n                this.addType_(name, config.types[name]);\n            }\n        }\n\n        if (config.generic) {\n            this.generic = true;\n            for (var name in generic) {\n                this.addType_(name, generic[name]);\n            }\n        }\n\n        if (config.atrules) {\n            for (var name in config.atrules) {\n                this.addAtrule_(name, config.atrules[name]);\n            }\n        }\n\n        if (config.properties) {\n            for (var name in config.properties) {\n                this.addProperty_(name, config.properties[name]);\n            }\n        }\n    }\n};\n\nLexer.prototype = {\n    structure: {},\n    checkStructure: function(ast) {\n        function collectWarning(node, message) {\n            warns.push({\n                node: node,\n                message: message\n            });\n        }\n\n        var structure = this.structure;\n        var warns = [];\n\n        this.syntax.walk(ast, function(node) {\n            if (structure.hasOwnProperty(node.type)) {\n                structure[node.type].check(node, collectWarning);\n            } else {\n                collectWarning(node, 'Unknown node type `' + node.type + '`');\n            }\n        });\n\n        return warns.length ? warns : false;\n    },\n\n    createDescriptor: function(syntax, type, name) {\n        var ref = {\n            type: type,\n            name: name\n        };\n        var descriptor = {\n            type: type,\n            name: name,\n            syntax: null,\n            match: null\n        };\n\n        if (typeof syntax === 'function') {\n            descriptor.match = buildMatchGraph(syntax, ref);\n        } else {\n            if (typeof syntax === 'string') {\n                // lazy parsing on first access\n                Object.defineProperty(descriptor, 'syntax', {\n                    get: function() {\n                        Object.defineProperty(descriptor, 'syntax', {\n                            value: parse(syntax)\n                        });\n\n                        return descriptor.syntax;\n                    }\n                });\n            } else {\n                descriptor.syntax = syntax;\n            }\n\n            // lazy graph build on first access\n            Object.defineProperty(descriptor, 'match', {\n                get: function() {\n                    Object.defineProperty(descriptor, 'match', {\n                        value: buildMatchGraph(descriptor.syntax, ref)\n                    });\n\n                    return descriptor.match;\n                }\n            });\n        }\n\n        return descriptor;\n    },\n    addAtrule_: function(name, syntax) {\n        this.atrules[name] = {\n            prelude: syntax.prelude ? this.createDescriptor(syntax.prelude, 'AtrulePrelude', name) : null,\n            descriptors: syntax.descriptors\n                ? Object.keys(syntax.descriptors).reduce((res, name) => {\n                    res[name] = this.createDescriptor(syntax.descriptors[name], 'AtruleDescriptor', name);\n                    return res;\n                }, {})\n                : null\n        };\n    },\n    addProperty_: function(name, syntax) {\n        this.properties[name] = this.createDescriptor(syntax, 'Property', name);\n    },\n    addType_: function(name, syntax) {\n        this.types[name] = this.createDescriptor(syntax, 'Type', name);\n\n        if (syntax === generic['-ms-legacy-expression']) {\n            this.valueCommonSyntax = cssWideKeywordsWithExpression;\n        }\n    },\n\n    matchAtrulePrelude: function(atruleName, prelude) {\n        var atrule = names.keyword(atruleName);\n\n        var atrulePreludeSyntax = atrule.vendor\n            ? this.getAtrulePrelude(atrule.name) || this.getAtrulePrelude(atrule.basename)\n            : this.getAtrulePrelude(atrule.name);\n\n        if (!atrulePreludeSyntax) {\n            if (atrule.basename in this.atrules) {\n                return buildMatchResult(null, new Error('At-rule `' + atruleName + '` should not contain a prelude'));\n            }\n\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule', atruleName));\n        }\n\n        return matchSyntax(this, atrulePreludeSyntax, prelude, true);\n    },\n    matchAtruleDescriptor: function(atruleName, descriptorName, value) {\n        var atrule = names.keyword(atruleName);\n        var descriptor = names.keyword(descriptorName);\n\n        var atruleEntry = atrule.vendor\n            ? this.atrules[atrule.name] || this.atrules[atrule.basename]\n            : this.atrules[atrule.name];\n\n        if (!atruleEntry) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule', atruleName));\n        }\n\n        if (!atruleEntry.descriptors) {\n            return buildMatchResult(null, new Error('At-rule `' + atruleName + '` has no known descriptors'));\n        }\n\n        var atruleDescriptorSyntax = descriptor.vendor\n            ? atruleEntry.descriptors[descriptor.name] || atruleEntry.descriptors[descriptor.basename]\n            : atruleEntry.descriptors[descriptor.name];\n\n        if (!atruleDescriptorSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule descriptor', descriptorName));\n        }\n\n        return matchSyntax(this, atruleDescriptorSyntax, value, true);\n    },\n    matchDeclaration: function(node) {\n        if (node.type !== 'Declaration') {\n            return buildMatchResult(null, new Error('Not a Declaration node'));\n        }\n\n        return this.matchProperty(node.property, node.value);\n    },\n    matchProperty: function(propertyName, value) {\n        var property = names.property(propertyName);\n\n        // don't match syntax for a custom property\n        if (property.custom) {\n            return buildMatchResult(null, new Error('Lexer matching doesn\\'t applicable for custom properties'));\n        }\n\n        var propertySyntax = property.vendor\n            ? this.getProperty(property.name) || this.getProperty(property.basename)\n            : this.getProperty(property.name);\n\n        if (!propertySyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown property', propertyName));\n        }\n\n        return matchSyntax(this, propertySyntax, value, true);\n    },\n    matchType: function(typeName, value) {\n        var typeSyntax = this.getType(typeName);\n\n        if (!typeSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown type', typeName));\n        }\n\n        return matchSyntax(this, typeSyntax, value, false);\n    },\n    match: function(syntax, value) {\n        if (typeof syntax !== 'string' && (!syntax || !syntax.type)) {\n            return buildMatchResult(null, new SyntaxReferenceError('Bad syntax'));\n        }\n\n        if (typeof syntax === 'string' || !syntax.match) {\n            syntax = this.createDescriptor(syntax, 'Type', 'anonymous');\n        }\n\n        return matchSyntax(this, syntax, value, false);\n    },\n\n    findValueFragments: function(propertyName, value, type, name) {\n        return search.matchFragments(this, value, this.matchProperty(propertyName, value), type, name);\n    },\n    findDeclarationValueFragments: function(declaration, type, name) {\n        return search.matchFragments(this, declaration.value, this.matchDeclaration(declaration), type, name);\n    },\n    findAllFragments: function(ast, type, name) {\n        var result = [];\n\n        this.syntax.walk(ast, {\n            visit: 'Declaration',\n            enter: function(declaration) {\n                result.push.apply(result, this.findDeclarationValueFragments(declaration, type, name));\n            }.bind(this)\n        });\n\n        return result;\n    },\n\n    getAtrulePrelude: function(atruleName) {\n        return this.atrules.hasOwnProperty(atruleName) ? this.atrules[atruleName].prelude : null;\n    },\n    getAtruleDescriptor: function(atruleName, name) {\n        return this.atrules.hasOwnProperty(atruleName) && this.atrules.declarators\n            ? this.atrules[atruleName].declarators[name] || null\n            : null;\n    },\n    getProperty: function(name) {\n        return this.properties.hasOwnProperty(name) ? this.properties[name] : null;\n    },\n    getType: function(name) {\n        return this.types.hasOwnProperty(name) ? this.types[name] : null;\n    },\n\n    validate: function() {\n        function validate(syntax, name, broken, descriptor) {\n            if (broken.hasOwnProperty(name)) {\n                return broken[name];\n            }\n\n            broken[name] = false;\n            if (descriptor.syntax !== null) {\n                walk(descriptor.syntax, function(node) {\n                    if (node.type !== 'Type' && node.type !== 'Property') {\n                        return;\n                    }\n\n                    var map = node.type === 'Type' ? syntax.types : syntax.properties;\n                    var brokenMap = node.type === 'Type' ? brokenTypes : brokenProperties;\n\n                    if (!map.hasOwnProperty(node.name) || validate(syntax, node.name, brokenMap, map[node.name])) {\n                        broken[name] = true;\n                    }\n                }, this);\n            }\n        }\n\n        var brokenTypes = {};\n        var brokenProperties = {};\n\n        for (var key in this.types) {\n            validate(this, key, brokenTypes, this.types[key]);\n        }\n\n        for (var key in this.properties) {\n            validate(this, key, brokenProperties, this.properties[key]);\n        }\n\n        brokenTypes = Object.keys(brokenTypes).filter(function(name) {\n            return brokenTypes[name];\n        });\n        brokenProperties = Object.keys(brokenProperties).filter(function(name) {\n            return brokenProperties[name];\n        });\n\n        if (brokenTypes.length || brokenProperties.length) {\n            return {\n                types: brokenTypes,\n                properties: brokenProperties\n            };\n        }\n\n        return null;\n    },\n    dump: function(syntaxAsAst, pretty) {\n        return {\n            generic: this.generic,\n            types: dumpMapSyntax(this.types, !pretty, syntaxAsAst),\n            properties: dumpMapSyntax(this.properties, !pretty, syntaxAsAst)\n        };\n    },\n    toString: function() {\n        return JSON.stringify(this.dump());\n    }\n};\n\nmodule.exports = Lexer;\n","var tokenizer = require('../tokenizer');\nvar isIdentifierStart = tokenizer.isIdentifierStart;\nvar isHexDigit = tokenizer.isHexDigit;\nvar isDigit = tokenizer.isDigit;\nvar cmpStr = tokenizer.cmpStr;\nvar consumeNumber = tokenizer.consumeNumber;\nvar TYPE = tokenizer.TYPE;\nvar anPlusB = require('./generic-an-plus-b');\nvar urange = require('./generic-urange');\n\nvar cssWideKeywords = ['unset', 'initial', 'inherit'];\nvar calcFunctionNames = ['calc(', '-moz-calc(', '-webkit-calc('];\n\n// https://www.w3.org/TR/css-values-3/#lengths\nvar LENGTH = {\n    // absolute length units\n    'px': true,\n    'mm': true,\n    'cm': true,\n    'in': true,\n    'pt': true,\n    'pc': true,\n    'q': true,\n\n    // relative length units\n    'em': true,\n    'ex': true,\n    'ch': true,\n    'rem': true,\n\n    // viewport-percentage lengths\n    'vh': true,\n    'vw': true,\n    'vmin': true,\n    'vmax': true,\n    'vm': true\n};\n\nvar ANGLE = {\n    'deg': true,\n    'grad': true,\n    'rad': true,\n    'turn': true\n};\n\nvar TIME = {\n    's': true,\n    'ms': true\n};\n\nvar FREQUENCY = {\n    'hz': true,\n    'khz': true\n};\n\n// https://www.w3.org/TR/css-values-3/#resolution (https://drafts.csswg.org/css-values/#resolution)\nvar RESOLUTION = {\n    'dpi': true,\n    'dpcm': true,\n    'dppx': true,\n    'x': true      // https://github.com/w3c/csswg-drafts/issues/461\n};\n\n// https://drafts.csswg.org/css-grid/#fr-unit\nvar FLEX = {\n    'fr': true\n};\n\n// https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume\nvar DECIBEL = {\n    'db': true\n};\n\n// https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch\nvar SEMITONES = {\n    'st': true\n};\n\n// safe char code getter\nfunction charCode(str, index) {\n    return index < str.length ? str.charCodeAt(index) : 0;\n}\n\nfunction eqStr(actual, expected) {\n    return cmpStr(actual, 0, actual.length, expected);\n}\n\nfunction eqStrAny(actual, expected) {\n    for (var i = 0; i < expected.length; i++) {\n        if (eqStr(actual, expected[i])) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// IE postfix hack, i.e. 123\\0 or 123px\\9\nfunction isPostfixIeHack(str, offset) {\n    if (offset !== str.length - 2) {\n        return false;\n    }\n\n    return (\n        str.charCodeAt(offset) === 0x005C &&  // U+005C REVERSE SOLIDUS (\\)\n        isDigit(str.charCodeAt(offset + 1))\n    );\n}\n\nfunction outOfRange(opts, value, numEnd) {\n    if (opts && opts.type === 'Range') {\n        var num = Number(\n            numEnd !== undefined && numEnd !== value.length\n                ? value.substr(0, numEnd)\n                : value\n        );\n\n        if (isNaN(num)) {\n            return true;\n        }\n\n        if (opts.min !== null && num < opts.min) {\n            return true;\n        }\n\n        if (opts.max !== null && num > opts.max) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction consumeFunction(token, getNextToken) {\n    var startIdx = token.index;\n    var length = 0;\n\n    // balanced token consuming\n    do {\n        length++;\n\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// TODO: implement\n// can be used wherever <length>, <frequency>, <angle>, <time>, <percentage>, <number>, or <integer> values are allowed\n// https://drafts.csswg.org/css-values/#calc-notation\nfunction calc(next) {\n    return function(token, getNextToken, opts) {\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === TYPE.Function && eqStrAny(token.value, calcFunctionNames)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\nfunction tokenType(expectedTokenType) {\n    return function(token) {\n        if (token === null || token.type !== expectedTokenType) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\nfunction func(name) {\n    name = name + '(';\n\n    return function(token, getNextToken) {\n        if (token !== null && eqStr(token.value, name)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return 0;\n    };\n}\n\n// =========================\n// Complex types\n//\n\n// https://drafts.csswg.org/css-values-4/#custom-idents\n// 4.2. Author-defined Identifiers: the <custom-ident> type\n// Some properties accept arbitrary author-defined identifiers as a component value.\n// This generic data type is denoted by <custom-ident>, and represents any valid CSS identifier\n// that would not be misinterpreted as a pre-defined keyword in that propertys value definition.\n//\n// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident\nfunction customIdent(token) {\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    var name = token.value.toLowerCase();\n\n    // The CSS-wide keywords are not valid <custom-ident>s\n    if (eqStrAny(name, cssWideKeywords)) {\n        return 0;\n    }\n\n    // The default keyword is reserved and is also not a valid <custom-ident>\n    if (eqStr(name, 'default')) {\n        return 0;\n    }\n\n    // TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)\n    // Specifications using <custom-ident> must specify clearly what other keywords\n    // are excluded from <custom-ident>, if anyfor example by saying that any pre-defined keywords\n    // in that propertys value definition are excluded. Excluded keywords are excluded\n    // in all ASCII case permutations.\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-variables/#typedef-custom-property-name\n// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.\n// The <custom-property-name> production corresponds to this: its defined as any valid identifier\n// that starts with two dashes, except -- itself, which is reserved for future use by CSS.\n// NOTE: Current implementation treat `--` as a valid name since most (all?) major browsers treat it as valid.\nfunction customPropertyName(token) {\n    // ... defined as any valid identifier\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    // ... that starts with two dashes (U+002D HYPHEN-MINUS)\n    if (charCode(token.value, 0) !== 0x002D || charCode(token.value, 1) !== 0x002D) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-color-4/#hex-notation\n// The syntax of a <hex-color> is a <hash-token> token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n// In other words, a hex color is written as a hash character, \"#\", followed by some number of digits 0-9 or\n// letters a-f (the case of the letters doesnt matter - #00ff00 is identical to #00FF00).\nfunction hexColor(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    var length = token.value.length;\n\n    // valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)\n    if (length !== 4 && length !== 5 && length !== 7 && length !== 9) {\n        return 0;\n    }\n\n    for (var i = 1; i < length; i++) {\n        if (!isHexDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    return 1;\n}\n\nfunction idSelector(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    if (!isIdentifierStart(charCode(token.value, 1), charCode(token.value, 2), charCode(token.value, 3))) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// It represents the entirety of what a valid declaration can have as its value.\nfunction declarationValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var length = 0;\n    var level = 0;\n    var startIdx = token.index;\n\n    // The <declaration-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                level--;\n                break;\n\n            // ... or top-level <semicolon-token> tokens\n            case TYPE.Semicolon:\n                if (level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            // ... or <delim-token> tokens with a value of \"!\"\n            case TYPE.Delim:\n                if (token.value === '!' && level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            case TYPE.Function:\n            case TYPE.LeftParenthesis:\n            case TYPE.LeftSquareBracket:\n            case TYPE.LeftCurlyBracket:\n                level++;\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// The <any-value> production is identical to <declaration-value>, but also\n// allows top-level <semicolon-token> tokens and <delim-token> tokens\n// with a value of \"!\". It represents the entirety of what valid CSS can be in any context.\nfunction anyValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var startIdx = token.index;\n    var length = 0;\n\n    // The <any-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// =========================\n// Dimensions\n//\n\nfunction dimension(type) {\n    return function(token, getNextToken, opts) {\n        if (token === null || token.type !== TYPE.Dimension) {\n            return 0;\n        }\n\n        var numberEnd = consumeNumber(token.value, 0);\n\n        // check unit\n        if (type !== null) {\n            // check for IE postfix hack, i.e. 123px\\0 or 123px\\9\n            var reverseSolidusOffset = token.value.indexOf('\\\\', numberEnd);\n            var unit = reverseSolidusOffset === -1 || !isPostfixIeHack(token.value, reverseSolidusOffset)\n                ? token.value.substr(numberEnd)\n                : token.value.substring(numberEnd, reverseSolidusOffset);\n\n            if (type.hasOwnProperty(unit.toLowerCase()) === false) {\n                return 0;\n            }\n        }\n\n        // check range if specified\n        if (outOfRange(opts, token.value, numberEnd)) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Percentage\n//\n\n// 5.5. Percentages: the <percentage> type\n// https://drafts.csswg.org/css-values-4/#percentages\nfunction percentage(token, getNextToken, opts) {\n    // ... corresponds to the <percentage-token> production\n    if (token === null || token.type !== TYPE.Percentage) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, token.value.length - 1)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// =========================\n// Numeric\n//\n\n// https://drafts.csswg.org/css-values-4/#numbers\n// The value <zero> represents a literal number with the value 0. Expressions that merely\n// evaluate to a <number> with the value 0 (for example, calc(0)) do not match <zero>;\n// only literal <number-token>s do.\nfunction zero(next) {\n    if (typeof next !== 'function') {\n        next = function() {\n            return 0;\n        };\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token !== null && token.type === TYPE.Number) {\n            if (Number(token.value) === 0) {\n                return 1;\n            }\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\n//  5.3. Real Numbers: the <number> type\n// https://drafts.csswg.org/css-values-4/#numbers\n// Number values are denoted by <number>, and represent real numbers, possibly with a fractional component.\n// ... It corresponds to the <number-token> production\nfunction number(token, getNextToken, opts) {\n    if (token === null) {\n        return 0;\n    }\n\n    var numberEnd = consumeNumber(token.value, 0);\n    var isNumber = numberEnd === token.value.length;\n    if (!isNumber && !isPostfixIeHack(token.value, numberEnd)) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, numberEnd)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// 5.2. Integers: the <integer> type\n// https://drafts.csswg.org/css-values-4/#integers\nfunction integer(token, getNextToken, opts) {\n    // ... corresponds to a subset of the <number-token> production\n    if (token === null || token.type !== TYPE.Number) {\n        return 0;\n    }\n\n    // The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integers sign.\n    var i = token.value.charCodeAt(0) === 0x002B ||       // U+002B PLUS SIGN (+)\n            token.value.charCodeAt(0) === 0x002D ? 1 : 0; // U+002D HYPHEN-MINUS (-)\n\n    // When written literally, an integer is one or more decimal digits 0 through 9 ...\n    for (; i < token.value.length; i++) {\n        if (!isDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, i)) {\n        return 0;\n    }\n\n    return 1;\n}\n\nmodule.exports = {\n    // token types\n    'ident-token': tokenType(TYPE.Ident),\n    'function-token': tokenType(TYPE.Function),\n    'at-keyword-token': tokenType(TYPE.AtKeyword),\n    'hash-token': tokenType(TYPE.Hash),\n    'string-token': tokenType(TYPE.String),\n    'bad-string-token': tokenType(TYPE.BadString),\n    'url-token': tokenType(TYPE.Url),\n    'bad-url-token': tokenType(TYPE.BadUrl),\n    'delim-token': tokenType(TYPE.Delim),\n    'number-token': tokenType(TYPE.Number),\n    'percentage-token': tokenType(TYPE.Percentage),\n    'dimension-token': tokenType(TYPE.Dimension),\n    'whitespace-token': tokenType(TYPE.WhiteSpace),\n    'CDO-token': tokenType(TYPE.CDO),\n    'CDC-token': tokenType(TYPE.CDC),\n    'colon-token': tokenType(TYPE.Colon),\n    'semicolon-token': tokenType(TYPE.Semicolon),\n    'comma-token': tokenType(TYPE.Comma),\n    '[-token': tokenType(TYPE.LeftSquareBracket),\n    ']-token': tokenType(TYPE.RightSquareBracket),\n    '(-token': tokenType(TYPE.LeftParenthesis),\n    ')-token': tokenType(TYPE.RightParenthesis),\n    '{-token': tokenType(TYPE.LeftCurlyBracket),\n    '}-token': tokenType(TYPE.RightCurlyBracket),\n\n    // token type aliases\n    'string': tokenType(TYPE.String),\n    'ident': tokenType(TYPE.Ident),\n\n    // complex types\n    'custom-ident': customIdent,\n    'custom-property-name': customPropertyName,\n    'hex-color': hexColor,\n    'id-selector': idSelector, // element( <id-selector> )\n    'an-plus-b': anPlusB,\n    'urange': urange,\n    'declaration-value': declarationValue,\n    'any-value': anyValue,\n\n    // dimensions\n    'dimension': calc(dimension(null)),\n    'angle': calc(dimension(ANGLE)),\n    'decibel': calc(dimension(DECIBEL)),\n    'frequency': calc(dimension(FREQUENCY)),\n    'flex': calc(dimension(FLEX)),\n    'length': calc(zero(dimension(LENGTH))),\n    'resolution': calc(dimension(RESOLUTION)),\n    'semitones': calc(dimension(SEMITONES)),\n    'time': calc(dimension(TIME)),\n\n    // percentage\n    'percentage': calc(percentage),\n\n    // numeric\n    'zero': zero(),\n    'number': calc(number),\n    'integer': calc(integer),\n\n    // old IE stuff\n    '-ms-legacy-expression': func('expression')\n};\n","var isDigit = require('../tokenizer').isDigit;\nvar cmpChar = require('../tokenizer').cmpChar;\nvar TYPE = require('../tokenizer').TYPE;\n\nvar DELIM = TYPE.Delim;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === DELIM && token.value.charCodeAt(0) === code;\n}\n\nfunction skipSC(token, offset, getNextToken) {\n    while (token !== null && (token.type === WHITESPACE || token.type === COMMENT)) {\n        token = getNextToken(++offset);\n    }\n\n    return offset;\n}\n\nfunction checkInteger(token, valueOffset, disallowSign, offset) {\n    if (!token) {\n        return 0;\n    }\n\n    var code = token.value.charCodeAt(valueOffset);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            // Number sign is not allowed\n            return 0;\n        }\n        valueOffset++;\n    }\n\n    for (; valueOffset < token.value.length; valueOffset++) {\n        if (!isDigit(token.value.charCodeAt(valueOffset))) {\n            // Integer is expected\n            return 0;\n        }\n    }\n\n    return offset + 1;\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB(token, offset_, getNextToken) {\n    var sign = false;\n    var offset = skipSC(token, offset_, getNextToken);\n\n    token = getNextToken(offset);\n\n    if (token === null) {\n        return offset_;\n    }\n\n    if (token.type !== NUMBER) {\n        if (isDelim(token, PLUSSIGN) || isDelim(token, HYPHENMINUS)) {\n            sign = true;\n            offset = skipSC(getNextToken(++offset), offset, getNextToken);\n            token = getNextToken(offset);\n\n            if (token === null && token.type !== NUMBER) {\n                return 0;\n            }\n        } else {\n            return offset_;\n        }\n    }\n\n    if (!sign) {\n        var code = token.value.charCodeAt(0);\n        if (code !== PLUSSIGN && code !== HYPHENMINUS) {\n            // Number sign is expected\n            return 0;\n        }\n    }\n\n    return checkInteger(token, sign ? 0 : 1, sign, offset);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = function anPlusB(token, getNextToken) {\n    /* eslint-disable brace-style*/\n    var offset = 0;\n\n    if (!token) {\n        return 0;\n    }\n\n    // <integer>\n    if (token.type === NUMBER) {\n        return checkInteger(token, 0, ALLOW_SIGN, offset); // b\n    }\n\n    // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (token.type === IDENT && token.value.charCodeAt(0) === HYPHENMINUS) {\n        // expect 1st char is N\n        if (!cmpChar(token.value, 1, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // -n\n            // -n <signed-integer>\n            // -n ['+' | '-'] <signless-integer>\n            case 2:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // -n- <signless-integer>\n            case 3:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // <dashndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 3, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (token.type === IDENT || (isDelim(token, PLUSSIGN) && getNextToken(offset + 1).type === IDENT)) {\n        // just ignore a plus\n        if (token.type !== IDENT) {\n            token = getNextToken(++offset);\n        }\n\n        if (token === null || !cmpChar(token.value, 0, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // '+'? n\n            // '+'? n <signed-integer>\n            // '+'? n ['+' | '-'] <signless-integer>\n            case 1:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // '+'? n- <signless-integer>\n            case 2:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // '+'? <ndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 2, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (token.type === DIMENSION) {\n        var code = token.value.charCodeAt(0);\n        var sign = code === PLUSSIGN || code === HYPHENMINUS ? 1 : 0;\n\n        for (var i = sign; i < token.value.length; i++) {\n            if (!isDigit(token.value.charCodeAt(i))) {\n                break;\n            }\n        }\n\n        if (i === sign) {\n            // Integer is expected\n            return 0;\n        }\n\n        if (!cmpChar(token.value, i, N)) {\n            return 0;\n        }\n\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        if (i + 1 === token.value.length) {\n            return consumeB(getNextToken(++offset), offset, getNextToken);\n        } else {\n            if (token.value.charCodeAt(i + 1) !== HYPHENMINUS) {\n                return 0;\n            }\n\n            // <ndash-dimension> <signless-integer>\n            if (i + 2 === token.value.length) {\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n            }\n            // <ndashdigit-dimension>\n            else {\n                return checkInteger(token, i + 2, DISALLOW_SIGN, offset);\n            }\n        }\n    }\n\n    return 0;\n};\n","var isHexDigit = require('../tokenizer').isHexDigit;\nvar cmpChar = require('../tokenizer').cmpChar;\nvar TYPE = require('../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar DELIM = TYPE.Delim;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nvar QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nvar U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === DELIM && token.value.charCodeAt(0) === code;\n}\n\nfunction startsWith(token, code) {\n    return token.value.charCodeAt(0) === code;\n}\n\nfunction hexSequence(token, offset, allowDash) {\n    for (var pos = offset, hexlen = 0; pos < token.value.length; pos++) {\n        var code = token.value.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && hexlen !== 0) {\n            if (hexSequence(token, offset + hexlen + 1, false) > 0) {\n                return 6; // dissallow following question marks\n            }\n\n            return 0; // dash at the ending of a hex sequence is not allowed\n        }\n\n        if (!isHexDigit(code)) {\n            return 0; // not a hex digit\n        }\n\n        if (++hexlen > 6) {\n            return 0; // too many hex digits\n        };\n    }\n\n    return hexlen;\n}\n\nfunction withQuestionMarkSequence(consumed, length, getNextToken) {\n    if (!consumed) {\n        return 0; // nothing consumed\n    }\n\n    while (isDelim(getNextToken(length), QUESTIONMARK)) {\n        if (++consumed > 6) {\n            return 0; // too many question marks\n        }\n\n        length++;\n    }\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nmodule.exports = function urange(token, getNextToken) {\n    var length = 0;\n\n    // should start with `u` or `U`\n    if (token === null || token.type !== IDENT || !cmpChar(token.value, 0, U)) {\n        return 0;\n    }\n\n    token = getNextToken(++length);\n    if (token === null) {\n        return 0;\n    }\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (isDelim(token, PLUSSIGN)) {\n        token = getNextToken(++length);\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === IDENT) {\n            // u '+' <ident-token> '?'*\n            return withQuestionMarkSequence(hexSequence(token, 0, true), ++length, getNextToken);\n        }\n\n        if (isDelim(token, QUESTIONMARK)) {\n            // u '+' '?'+\n            return withQuestionMarkSequence(1, ++length, getNextToken);\n        }\n\n        // Hex digit or question mark is expected\n        return 0;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (token.type === NUMBER) {\n        if (!startsWith(token, PLUSSIGN)) {\n            return 0;\n        }\n\n        var consumedHexLength = hexSequence(token, 1, true);\n        if (consumedHexLength === 0) {\n            return 0;\n        }\n\n        token = getNextToken(++length);\n        if (token === null) {\n            // u <number-token> <eof>\n            return length;\n        }\n\n        if (token.type === DIMENSION || token.type === NUMBER) {\n            // u <number-token> <dimension-token>\n            // u <number-token> <number-token>\n            if (!startsWith(token, HYPHENMINUS) || !hexSequence(token, 1, false)) {\n                return 0;\n            }\n\n            return length + 1;\n        }\n\n        // u <number-token> '?'*\n        return withQuestionMarkSequence(consumedHexLength, length, getNextToken);\n    }\n\n    // u <dimension-token> '?'*\n    if (token.type === DIMENSION) {\n        if (!startsWith(token, PLUSSIGN)) {\n            return 0;\n        }\n\n        return withQuestionMarkSequence(hexSequence(token, 1, true), ++length, getNextToken);\n    }\n\n    return 0;\n};\n","var SyntaxError = require('./SyntaxError');\n\nvar TAB = 9;\nvar N = 10;\nvar F = 12;\nvar R = 13;\nvar SPACE = 32;\n\nvar Tokenizer = function(str) {\n    this.str = str;\n    this.pos = 0;\n};\n\nTokenizer.prototype = {\n    charCodeAt: function(pos) {\n        return pos < this.str.length ? this.str.charCodeAt(pos) : 0;\n    },\n    charCode: function() {\n        return this.charCodeAt(this.pos);\n    },\n    nextCharCode: function() {\n        return this.charCodeAt(this.pos + 1);\n    },\n    nextNonWsCode: function(pos) {\n        return this.charCodeAt(this.findWsEnd(pos));\n    },\n    findWsEnd: function(pos) {\n        for (; pos < this.str.length; pos++) {\n            var code = this.str.charCodeAt(pos);\n            if (code !== R && code !== N && code !== F && code !== SPACE && code !== TAB) {\n                break;\n            }\n        }\n\n        return pos;\n    },\n    substringToPos: function(end) {\n        return this.str.substring(this.pos, this.pos = end);\n    },\n    eat: function(code) {\n        if (this.charCode() !== code) {\n            this.error('Expect `' + String.fromCharCode(code) + '`');\n        }\n\n        this.pos++;\n    },\n    peek: function() {\n        return this.pos < this.str.length ? this.str.charAt(this.pos++) : '';\n    },\n    error: function(message) {\n        throw new SyntaxError(message, this.str, this.pos);\n    }\n};\n\nmodule.exports = Tokenizer;\n","var tokenize = require('../tokenizer');\nvar TokenStream = require('../common/TokenStream');\nvar tokenStream = new TokenStream();\nvar astToTokens = {\n    decorator: function(handlers) {\n        var curNode = null;\n        var prev = { len: 0, node: null };\n        var nodes = [prev];\n        var buffer = '';\n\n        return {\n            children: handlers.children,\n            node: function(node) {\n                var tmp = curNode;\n                curNode = node;\n                handlers.node.call(this, node);\n                curNode = tmp;\n            },\n            chunk: function(chunk) {\n                buffer += chunk;\n                if (prev.node !== curNode) {\n                    nodes.push({\n                        len: chunk.length,\n                        node: curNode\n                    });\n                } else {\n                    prev.len += chunk.length;\n                }\n            },\n            result: function() {\n                return prepareTokens(buffer, nodes);\n            }\n        };\n    }\n};\n\nfunction prepareTokens(str, nodes) {\n    var tokens = [];\n    var nodesOffset = 0;\n    var nodesIndex = 0;\n    var currentNode = nodes ? nodes[nodesIndex].node : null;\n\n    tokenize(str, tokenStream);\n\n    while (!tokenStream.eof) {\n        if (nodes) {\n            while (nodesIndex < nodes.length && nodesOffset + nodes[nodesIndex].len <= tokenStream.tokenStart) {\n                nodesOffset += nodes[nodesIndex++].len;\n                currentNode = nodes[nodesIndex].node;\n            }\n        }\n\n        tokens.push({\n            type: tokenStream.tokenType,\n            value: tokenStream.getTokenValue(),\n            index: tokenStream.tokenIndex, // TODO: remove it, temporary solution\n            balance: tokenStream.balance[tokenStream.tokenIndex], // TODO: remove it, temporary solution\n            node: currentNode\n        });\n        tokenStream.next();\n        // console.log({ ...tokens[tokens.length - 1], node: undefined });\n    }\n\n    return tokens;\n}\n\nmodule.exports = function(value, syntax) {\n    if (typeof value === 'string') {\n        return prepareTokens(value, null);\n    }\n\n    return syntax.generate(value, astToTokens);\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar matchGraph = require('./match-graph');\nvar MATCH = matchGraph.MATCH;\nvar MISMATCH = matchGraph.MISMATCH;\nvar DISALLOW_EMPTY = matchGraph.DISALLOW_EMPTY;\nvar TYPE = require('../tokenizer/const').TYPE;\n\nvar STUB = 0;\nvar TOKEN = 1;\nvar OPEN_SYNTAX = 2;\nvar CLOSE_SYNTAX = 3;\n\nvar EXIT_REASON_MATCH = 'Match';\nvar EXIT_REASON_MISMATCH = 'Mismatch';\nvar EXIT_REASON_ITERATION_LIMIT = 'Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)';\n\nvar ITERATION_LIMIT = 15000;\nvar totalIterationCount = 0;\n\nfunction reverseList(list) {\n    var prev = null;\n    var next = null;\n    var item = list;\n\n    while (item !== null) {\n        next = item.prev;\n        item.prev = prev;\n        prev = item;\n        item = next;\n    }\n\n    return prev;\n}\n\nfunction areStringsEqualCaseInsensitive(testStr, referenceStr) {\n    if (testStr.length !== referenceStr.length) {\n        return false;\n    }\n\n    for (var i = 0; i < testStr.length; i++) {\n        var testCode = testStr.charCodeAt(i);\n        var referenceCode = referenceStr.charCodeAt(i);\n\n        // testCode.toLowerCase() for U+0041 LATIN CAPITAL LETTER A (A) .. U+005A LATIN CAPITAL LETTER Z (Z).\n        if (testCode >= 0x0041 && testCode <= 0x005A) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction isCommaContextStart(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.Comma ||\n        token.type === TYPE.Function ||\n        token.type === TYPE.LeftParenthesis ||\n        token.type === TYPE.LeftSquareBracket ||\n        token.type === TYPE.LeftCurlyBracket ||\n        token.type === TYPE.Delim\n    );\n}\n\nfunction isCommaContextEnd(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.RightParenthesis ||\n        token.type === TYPE.RightSquareBracket ||\n        token.type === TYPE.RightCurlyBracket ||\n        token.type === TYPE.Delim\n    );\n}\n\nfunction internalMatch(tokens, state, syntaxes) {\n    function moveToNextToken() {\n        do {\n            tokenIndex++;\n            token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n        } while (token !== null && (token.type === TYPE.WhiteSpace || token.type === TYPE.Comment));\n    }\n\n    function getNextToken(offset) {\n        var nextIndex = tokenIndex + offset;\n\n        return nextIndex < tokens.length ? tokens[nextIndex] : null;\n    }\n\n    function stateSnapshotFromSyntax(nextState, prev) {\n        return {\n            nextState: nextState,\n            matchStack: matchStack,\n            syntaxStack: syntaxStack,\n            thenStack: thenStack,\n            tokenIndex: tokenIndex,\n            prev: prev\n        };\n    }\n\n    function pushThenStack(nextState) {\n        thenStack = {\n            nextState: nextState,\n            matchStack: matchStack,\n            syntaxStack: syntaxStack,\n            prev: thenStack\n        };\n    }\n\n    function pushElseStack(nextState) {\n        elseStack = stateSnapshotFromSyntax(nextState, elseStack);\n    }\n\n    function addTokenToMatch() {\n        matchStack = {\n            type: TOKEN,\n            syntax: state.syntax,\n            token: token,\n            prev: matchStack\n        };\n\n        moveToNextToken();\n        syntaxStash = null;\n\n        if (tokenIndex > longestMatch) {\n            longestMatch = tokenIndex;\n        }\n    }\n\n    function openSyntax() {\n        syntaxStack = {\n            syntax: state.syntax,\n            opts: state.syntax.opts || (syntaxStack !== null && syntaxStack.opts) || null,\n            prev: syntaxStack\n        };\n\n        matchStack = {\n            type: OPEN_SYNTAX,\n            syntax: state.syntax,\n            token: matchStack.token,\n            prev: matchStack\n        };\n    }\n\n    function closeSyntax() {\n        if (matchStack.type === OPEN_SYNTAX) {\n            matchStack = matchStack.prev;\n        } else {\n            matchStack = {\n                type: CLOSE_SYNTAX,\n                syntax: syntaxStack.syntax,\n                token: matchStack.token,\n                prev: matchStack\n            };\n        }\n\n        syntaxStack = syntaxStack.prev;\n    }\n\n    var syntaxStack = null;\n    var thenStack = null;\n    var elseStack = null;\n\n    // null  stashing allowed, nothing stashed\n    // false  stashing disabled, nothing stashed\n    // anithing else  fail stashable syntaxes, some syntax stashed\n    var syntaxStash = null;\n\n    var iterationCount = 0; // count iterations and prevent infinite loop\n    var exitReason = null;\n\n    var token = null;\n    var tokenIndex = -1;\n    var longestMatch = 0;\n    var matchStack = {\n        type: STUB,\n        syntax: null,\n        token: null,\n        prev: null\n    };\n\n    moveToNextToken();\n\n    while (exitReason === null && ++iterationCount < ITERATION_LIMIT) {\n        // function mapList(list, fn) {\n        //     var result = [];\n        //     while (list) {\n        //         result.unshift(fn(list));\n        //         list = list.prev;\n        //     }\n        //     return result;\n        // }\n        // console.log('--\\n',\n        //     '#' + iterationCount,\n        //     require('util').inspect({\n        //         match: mapList(matchStack, x => x.type === TOKEN ? x.token && x.token.value : x.syntax ? ({ [OPEN_SYNTAX]: '<', [CLOSE_SYNTAX]: '</' }[x.type] || x.type) + '!' + x.syntax.name : null),\n        //         token: token && token.value,\n        //         tokenIndex,\n        //         syntax: syntax.type + (syntax.id ? ' #' + syntax.id : '')\n        //     }, { depth: null })\n        // );\n        switch (state.type) {\n            case 'Match':\n                if (thenStack === null) {\n                    // turn to MISMATCH when some tokens left unmatched\n                    if (token !== null) {\n                        // doesn't mismatch if just one token left and it's an IE hack\n                        if (tokenIndex !== tokens.length - 1 || (token.value !== '\\\\0' && token.value !== '\\\\9')) {\n                            state = MISMATCH;\n                            break;\n                        }\n                    }\n\n                    // break the main loop, return a result - MATCH\n                    exitReason = EXIT_REASON_MATCH;\n                    break;\n                }\n\n                // go to next syntax (`then` branch)\n                state = thenStack.nextState;\n\n                // check match is not empty\n                if (state === DISALLOW_EMPTY) {\n                    if (thenStack.matchStack === matchStack) {\n                        state = MISMATCH;\n                        break;\n                    } else {\n                        state = MATCH;\n                    }\n                }\n\n                // close syntax if needed\n                while (thenStack.syntaxStack !== syntaxStack) {\n                    closeSyntax();\n                }\n\n                // pop stack\n                thenStack = thenStack.prev;\n                break;\n\n            case 'Mismatch':\n                // when some syntax is stashed\n                if (syntaxStash !== null && syntaxStash !== false) {\n                    // there is no else branches or a branch reduce match stack\n                    if (elseStack === null || tokenIndex > elseStack.tokenIndex) {\n                        // restore state from the stash\n                        elseStack = syntaxStash;\n                        syntaxStash = false; // disable stashing\n                    }\n                } else if (elseStack === null) {\n                    // no else branches -> break the main loop\n                    // return a result - MISMATCH\n                    exitReason = EXIT_REASON_MISMATCH;\n                    break;\n                }\n\n                // go to next syntax (`else` branch)\n                state = elseStack.nextState;\n\n                // restore all the rest stack states\n                thenStack = elseStack.thenStack;\n                syntaxStack = elseStack.syntaxStack;\n                matchStack = elseStack.matchStack;\n                tokenIndex = elseStack.tokenIndex;\n                token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n\n                // pop stack\n                elseStack = elseStack.prev;\n                break;\n\n            case 'MatchGraph':\n                state = state.match;\n                break;\n\n            case 'If':\n                // IMPORTANT: else stack push must go first,\n                // since it stores the state of thenStack before changes\n                if (state.else !== MISMATCH) {\n                    pushElseStack(state.else);\n                }\n\n                if (state.then !== MATCH) {\n                    pushThenStack(state.then);\n                }\n\n                state = state.match;\n                break;\n\n            case 'MatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state,\n                    index: 0,\n                    mask: 0\n                };\n                break;\n\n            case 'MatchOnceBuffer':\n                var terms = state.syntax.terms;\n\n                if (state.index === terms.length) {\n                    // no matches at all or it's required all terms to be matched\n                    if (state.mask === 0 || state.syntax.all) {\n                        state = MISMATCH;\n                        break;\n                    }\n\n                    // a partial match is ok\n                    state = MATCH;\n                    break;\n                }\n\n                // all terms are matched\n                if (state.mask === (1 << terms.length) - 1) {\n                    state = MATCH;\n                    break;\n                }\n\n                for (; state.index < terms.length; state.index++) {\n                    var matchFlag = 1 << state.index;\n\n                    if ((state.mask & matchFlag) === 0) {\n                        // IMPORTANT: else stack push must go first,\n                        // since it stores the state of thenStack before changes\n                        pushElseStack(state);\n                        pushThenStack({\n                            type: 'AddMatchOnce',\n                            syntax: state.syntax,\n                            mask: state.mask | matchFlag\n                        });\n\n                        // match\n                        state = terms[state.index++];\n                        break;\n                    }\n                }\n                break;\n\n            case 'AddMatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state.syntax,\n                    index: 0,\n                    mask: state.mask\n                };\n                break;\n\n            case 'Enum':\n                if (token !== null) {\n                    var name = token.value.toLowerCase();\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (name.indexOf('\\\\') !== -1) {\n                        name = name.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (hasOwnProperty.call(state.map, name)) {\n                        state = state.map[name];\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Generic':\n                var opts = syntaxStack !== null ? syntaxStack.opts : null;\n                var lastTokenIndex = tokenIndex + Math.floor(state.fn(token, getNextToken, opts));\n\n                if (!isNaN(lastTokenIndex) && lastTokenIndex > tokenIndex) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            case 'Type':\n            case 'Property':\n                var syntaxDict = state.type === 'Type' ? 'types' : 'properties';\n                var dictSyntax = hasOwnProperty.call(syntaxes, syntaxDict) ? syntaxes[syntaxDict][state.name] : null;\n\n                if (!dictSyntax || !dictSyntax.match) {\n                    throw new Error(\n                        'Bad syntax reference: ' +\n                        (state.type === 'Type'\n                            ? '<' + state.name + '>'\n                            : '<\\'' + state.name + '\\'>')\n                    );\n                }\n\n                // stash a syntax for types with low priority\n                if (syntaxStash !== false && token !== null && state.type === 'Type') {\n                    var lowPriorityMatching =\n                        // https://drafts.csswg.org/css-values-4/#custom-idents\n                        // When parsing positionally-ambiguous keywords in a property value, a <custom-ident> production\n                        // can only claim the keyword if no other unfulfilled production can claim it.\n                        (state.name === 'custom-ident' && token.type === TYPE.Ident) ||\n\n                        // https://drafts.csswg.org/css-values-4/#lengths\n                        // ... if a `0` could be parsed as either a <number> or a <length> in a property (such as line-height),\n                        // it must parse as a <number>\n                        (state.name === 'length' && token.value === '0');\n\n                    if (lowPriorityMatching) {\n                        if (syntaxStash === null) {\n                            syntaxStash = stateSnapshotFromSyntax(state, elseStack);\n                        }\n\n                        state = MISMATCH;\n                        break;\n                    }\n                }\n\n                openSyntax();\n                state = dictSyntax.match;\n                break;\n\n            case 'Keyword':\n                var name = state.name;\n\n                if (token !== null) {\n                    var keywordName = token.value;\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (keywordName.indexOf('\\\\') !== -1) {\n                        keywordName = keywordName.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (areStringsEqualCaseInsensitive(keywordName, name)) {\n                        addTokenToMatch();\n                        state = MATCH;\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'AtKeyword':\n            case 'Function':\n                if (token !== null && areStringsEqualCaseInsensitive(token.value, state.name)) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Token':\n                if (token !== null && token.value === state.value) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Comma':\n                if (token !== null && token.type === TYPE.Comma) {\n                    if (isCommaContextStart(matchStack.token)) {\n                        state = MISMATCH;\n                    } else {\n                        addTokenToMatch();\n                        state = isCommaContextEnd(token) ? MISMATCH : MATCH;\n                    }\n                } else {\n                    state = isCommaContextStart(matchStack.token) || isCommaContextEnd(token) ? MATCH : MISMATCH;\n                }\n\n                break;\n\n            case 'String':\n                var string = '';\n\n                for (var lastTokenIndex = tokenIndex; lastTokenIndex < tokens.length && string.length < state.value.length; lastTokenIndex++) {\n                    string += tokens[lastTokenIndex].value;\n                }\n\n                if (areStringsEqualCaseInsensitive(string, state.value)) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            default:\n                throw new Error('Unknown node type: ' + state.type);\n        }\n    }\n\n    totalIterationCount += iterationCount;\n\n    switch (exitReason) {\n        case null:\n            console.warn('[csstree-match] BREAK after ' + ITERATION_LIMIT + ' iterations');\n            exitReason = EXIT_REASON_ITERATION_LIMIT;\n            matchStack = null;\n            break;\n\n        case EXIT_REASON_MATCH:\n            while (syntaxStack !== null) {\n                closeSyntax();\n            }\n            break;\n\n        default:\n            matchStack = null;\n    }\n\n    return {\n        tokens: tokens,\n        reason: exitReason,\n        iterations: iterationCount,\n        match: matchStack,\n        longestMatch: longestMatch\n    };\n}\n\nfunction matchAsList(tokens, matchGraph, syntaxes) {\n    var matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match !== null) {\n        var item = reverseList(matchResult.match).prev;\n\n        matchResult.match = [];\n\n        while (item !== null) {\n            switch (item.type) {\n                case STUB:\n                    break;\n\n                case OPEN_SYNTAX:\n                case CLOSE_SYNTAX:\n                    matchResult.match.push({\n                        type: item.type,\n                        syntax: item.syntax\n                    });\n                    break;\n\n                default:\n                    matchResult.match.push({\n                        token: item.token.value,\n                        node: item.token.node\n                    });\n                    break;\n            }\n\n            item = item.prev;\n        }\n    }\n\n    return matchResult;\n}\n\nfunction matchAsTree(tokens, matchGraph, syntaxes) {\n    var matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match === null) {\n        return matchResult;\n    }\n\n    var item = matchResult.match;\n    var host = matchResult.match = {\n        syntax: matchGraph.syntax || null,\n        match: []\n    };\n    var hostStack = [host];\n\n    // revert a list and start with 2nd item since 1st is a stub item\n    item = reverseList(item).prev;\n\n    // build a tree\n    while (item !== null) {\n        switch (item.type) {\n            case OPEN_SYNTAX:\n                host.match.push(host = {\n                    syntax: item.syntax,\n                    match: []\n                });\n                hostStack.push(host);\n                break;\n\n            case CLOSE_SYNTAX:\n                hostStack.pop();\n                host = hostStack[hostStack.length - 1];\n                break;\n\n            default:\n                host.match.push({\n                    syntax: item.syntax || null,\n                    token: item.token.value,\n                    node: item.token.node\n                });\n        }\n\n        item = item.prev;\n    }\n\n    return matchResult;\n}\n\nmodule.exports = {\n    matchAsList: matchAsList,\n    matchAsTree: matchAsTree,\n    getTotalIterationCount: function() {\n        return totalIterationCount;\n    }\n};\n","function getTrace(node) {\n    function shouldPutToTrace(syntax) {\n        if (syntax === null) {\n            return false;\n        }\n\n        return (\n            syntax.type === 'Type' ||\n            syntax.type === 'Property' ||\n            syntax.type === 'Keyword'\n        );\n    }\n\n    function hasMatch(matchNode) {\n        if (Array.isArray(matchNode.match)) {\n            // use for-loop for better perfomance\n            for (var i = 0; i < matchNode.match.length; i++) {\n                if (hasMatch(matchNode.match[i])) {\n                    if (shouldPutToTrace(matchNode.syntax)) {\n                        result.unshift(matchNode.syntax);\n                    }\n\n                    return true;\n                }\n            }\n        } else if (matchNode.node === node) {\n            result = shouldPutToTrace(matchNode.syntax)\n                ? [matchNode.syntax]\n                : [];\n\n            return true;\n        }\n\n        return false;\n    }\n\n    var result = null;\n\n    if (this.matched !== null) {\n        hasMatch(this.matched);\n    }\n\n    return result;\n}\n\nfunction testNode(match, node, fn) {\n    var trace = getTrace.call(match, node);\n\n    if (trace === null) {\n        return false;\n    }\n\n    return trace.some(fn);\n}\n\nfunction isType(node, type) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Type' && matchNode.name === type;\n    });\n}\n\nfunction isProperty(node, property) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Property' && matchNode.name === property;\n    });\n}\n\nfunction isKeyword(node) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Keyword';\n    });\n}\n\nmodule.exports = {\n    getTrace: getTrace,\n    isType: isType,\n    isProperty: isProperty,\n    isKeyword: isKeyword\n};\n","var List = require('../common/List');\n\nfunction getFirstMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getFirstMatchNode(matchNode.match[0]);\n}\n\nfunction getLastMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getLastMatchNode(matchNode.match[matchNode.match.length - 1]);\n}\n\nfunction matchFragments(lexer, ast, match, type, name) {\n    function findFragments(matchNode) {\n        if (matchNode.syntax !== null &&\n            matchNode.syntax.type === type &&\n            matchNode.syntax.name === name) {\n            var start = getFirstMatchNode(matchNode);\n            var end = getLastMatchNode(matchNode);\n\n            lexer.syntax.walk(ast, function(node, item, list) {\n                if (node === start) {\n                    var nodes = new List();\n\n                    do {\n                        nodes.appendData(item.data);\n\n                        if (item.data === end) {\n                            break;\n                        }\n\n                        item = item.next;\n                    } while (item !== null);\n\n                    fragments.push({\n                        parent: list,\n                        nodes: nodes\n                    });\n                }\n            });\n        }\n\n        if (Array.isArray(matchNode.match)) {\n            matchNode.match.forEach(findFragments);\n        }\n    }\n\n    var fragments = [];\n\n    if (match.matched !== null) {\n        findFragments(match.matched);\n    }\n\n    return fragments;\n}\n\nmodule.exports = {\n    matchFragments: matchFragments\n};\n","var List = require('../common/List');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isValidNumber(value) {\n    // Number.isInteger(value) && value >= 0\n    return (\n        typeof value === 'number' &&\n        isFinite(value) &&\n        Math.floor(value) === value &&\n        value >= 0\n    );\n}\n\nfunction isValidLocation(loc) {\n    return (\n        Boolean(loc) &&\n        isValidNumber(loc.offset) &&\n        isValidNumber(loc.line) &&\n        isValidNumber(loc.column)\n    );\n}\n\nfunction createNodeStructureChecker(type, fields) {\n    return function checkNode(node, warn) {\n        if (!node || node.constructor !== Object) {\n            return warn(node, 'Type of node should be an Object');\n        }\n\n        for (var key in node) {\n            var valid = true;\n\n            if (hasOwnProperty.call(node, key) === false) {\n                continue;\n            }\n\n            if (key === 'type') {\n                if (node.type !== type) {\n                    warn(node, 'Wrong node type `' + node.type + '`, expected `' + type + '`');\n                }\n            } else if (key === 'loc') {\n                if (node.loc === null) {\n                    continue;\n                } else if (node.loc && node.loc.constructor === Object) {\n                    if (typeof node.loc.source !== 'string') {\n                        key += '.source';\n                    } else if (!isValidLocation(node.loc.start)) {\n                        key += '.start';\n                    } else if (!isValidLocation(node.loc.end)) {\n                        key += '.end';\n                    } else {\n                        continue;\n                    }\n                }\n\n                valid = false;\n            } else if (fields.hasOwnProperty(key)) {\n                for (var i = 0, valid = false; !valid && i < fields[key].length; i++) {\n                    var fieldType = fields[key][i];\n\n                    switch (fieldType) {\n                        case String:\n                            valid = typeof node[key] === 'string';\n                            break;\n\n                        case Boolean:\n                            valid = typeof node[key] === 'boolean';\n                            break;\n\n                        case null:\n                            valid = node[key] === null;\n                            break;\n\n                        default:\n                            if (typeof fieldType === 'string') {\n                                valid = node[key] && node[key].type === fieldType;\n                            } else if (Array.isArray(fieldType)) {\n                                valid = node[key] instanceof List;\n                            }\n                    }\n                }\n            } else {\n                warn(node, 'Unknown field `' + key + '` for ' + type + ' node type');\n            }\n\n            if (!valid) {\n                warn(node, 'Bad value for `' + type + '.' + key + '`');\n            }\n        }\n\n        for (var key in fields) {\n            if (hasOwnProperty.call(fields, key) &&\n                hasOwnProperty.call(node, key) === false) {\n                warn(node, 'Field `' + type + '.' + key + '` is missed');\n            }\n        }\n    };\n}\n\nfunction processStructure(name, nodeType) {\n    var structure = nodeType.structure;\n    var fields = {\n        type: String,\n        loc: true\n    };\n    var docs = {\n        type: '\"' + name + '\"'\n    };\n\n    for (var key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        var docsTypes = [];\n        var fieldTypes = fields[key] = Array.isArray(structure[key])\n            ? structure[key].slice()\n            : [structure[key]];\n\n        for (var i = 0; i < fieldTypes.length; i++) {\n            var fieldType = fieldTypes[i];\n            if (fieldType === String || fieldType === Boolean) {\n                docsTypes.push(fieldType.name);\n            } else if (fieldType === null) {\n                docsTypes.push('null');\n            } else if (typeof fieldType === 'string') {\n                docsTypes.push('<' + fieldType + '>');\n            } else if (Array.isArray(fieldType)) {\n                docsTypes.push('List'); // TODO: use type enum\n            } else {\n                throw new Error('Wrong value `' + fieldType + '` in `' + name + '.' + key + '` structure definition');\n            }\n        }\n\n        docs[key] = docsTypes.join(' | ');\n    }\n\n    return {\n        docs: docs,\n        check: createNodeStructureChecker(name, fields)\n    };\n}\n\nmodule.exports = {\n    getStructureFromConfig: function(config) {\n        var structure = {};\n\n        if (config.node) {\n            for (var name in config.node) {\n                if (hasOwnProperty.call(config.node, name)) {\n                    var nodeType = config.node[name];\n\n                    if (nodeType.structure) {\n                        structure[name] = processStructure(name, nodeType);\n                    } else {\n                        throw new Error('Missed `structure` field in `' + name + '` node type definition');\n                    }\n                }\n            }\n        }\n\n        return structure;\n    }\n};\n","module.exports = {\n    SyntaxError: require('./SyntaxError'),\n    parse: require('./parse'),\n    generate: require('./generate'),\n    walk: require('./walk')\n};\n","var OffsetToLocation = require('../common/OffsetToLocation');\nvar SyntaxError = require('../common/SyntaxError');\nvar TokenStream = require('../common/TokenStream');\nvar List = require('../common/List');\nvar tokenize = require('../tokenizer');\nvar constants = require('../tokenizer/const');\nvar findWhiteSpaceStart = require('../tokenizer/utils').findWhiteSpaceStart;\nvar sequence = require('./sequence');\nvar noop = function() {};\n\nvar TYPE = constants.TYPE;\nvar NAME = constants.NAME;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar HASH = TYPE.Hash;\nvar PERCENTAGE = TYPE.Percentage;\nvar NUMBER = TYPE.Number;\nvar NUMBERSIGN = 0x0023; // U+0023 NUMBER SIGN (#)\nvar NULL = 0;\n\nfunction createParseContext(name) {\n    return function() {\n        return this[name]();\n    };\n}\n\nfunction processConfig(config) {\n    var parserConfig = {\n        context: {},\n        scope: {},\n        atrule: {},\n        pseudo: {}\n    };\n\n    if (config.parseContext) {\n        for (var name in config.parseContext) {\n            switch (typeof config.parseContext[name]) {\n                case 'function':\n                    parserConfig.context[name] = config.parseContext[name];\n                    break;\n\n                case 'string':\n                    parserConfig.context[name] = createParseContext(config.parseContext[name]);\n                    break;\n            }\n        }\n    }\n\n    if (config.scope) {\n        for (var name in config.scope) {\n            parserConfig.scope[name] = config.scope[name];\n        }\n    }\n\n    if (config.atrule) {\n        for (var name in config.atrule) {\n            var atrule = config.atrule[name];\n\n            if (atrule.parse) {\n                parserConfig.atrule[name] = atrule.parse;\n            }\n        }\n    }\n\n    if (config.pseudo) {\n        for (var name in config.pseudo) {\n            var pseudo = config.pseudo[name];\n\n            if (pseudo.parse) {\n                parserConfig.pseudo[name] = pseudo.parse;\n            }\n        }\n    }\n\n    if (config.node) {\n        for (var name in config.node) {\n            parserConfig[name] = config.node[name].parse;\n        }\n    }\n\n    return parserConfig;\n}\n\nmodule.exports = function createParser(config) {\n    var parser = {\n        scanner: new TokenStream(),\n        locationMap: new OffsetToLocation(),\n\n        filename: '<unknown>',\n        needPositions: false,\n        onParseError: noop,\n        onParseErrorThrow: false,\n        parseAtrulePrelude: true,\n        parseRulePrelude: true,\n        parseValue: true,\n        parseCustomProperty: false,\n\n        readSequence: sequence,\n\n        createList: function() {\n            return new List();\n        },\n        createSingleNodeList: function(node) {\n            return new List().appendData(node);\n        },\n        getFirstListNode: function(list) {\n            return list && list.first();\n        },\n        getLastListNode: function(list) {\n            return list.last();\n        },\n\n        parseWithFallback: function(consumer, fallback) {\n            var startToken = this.scanner.tokenIndex;\n\n            try {\n                return consumer.call(this);\n            } catch (e) {\n                if (this.onParseErrorThrow) {\n                    throw e;\n                }\n\n                var fallbackNode = fallback.call(this, startToken);\n\n                this.onParseErrorThrow = true;\n                this.onParseError(e, fallbackNode);\n                this.onParseErrorThrow = false;\n\n                return fallbackNode;\n            }\n        },\n\n        lookupNonWSType: function(offset) {\n            do {\n                var type = this.scanner.lookupType(offset++);\n                if (type !== WHITESPACE) {\n                    return type;\n                }\n            } while (type !== NULL);\n\n            return NULL;\n        },\n\n        eat: function(tokenType) {\n            if (this.scanner.tokenType !== tokenType) {\n                var offset = this.scanner.tokenStart;\n                var message = NAME[tokenType] + ' is expected';\n\n                // tweak message and offset\n                switch (tokenType) {\n                    case IDENT:\n                        // when identifier is expected but there is a function or url\n                        if (this.scanner.tokenType === FUNCTION || this.scanner.tokenType === URL) {\n                            offset = this.scanner.tokenEnd - 1;\n                            message = 'Identifier is expected but function found';\n                        } else {\n                            message = 'Identifier is expected';\n                        }\n                        break;\n\n                    case HASH:\n                        if (this.scanner.isDelim(NUMBERSIGN)) {\n                            this.scanner.next();\n                            offset++;\n                            message = 'Name is expected';\n                        }\n                        break;\n\n                    case PERCENTAGE:\n                        if (this.scanner.tokenType === NUMBER) {\n                            offset = this.scanner.tokenEnd;\n                            message = 'Percent sign is expected';\n                        }\n                        break;\n\n                    default:\n                        // when test type is part of another token show error for current position + 1\n                        // e.g. eat(HYPHENMINUS) will fail on \"-foo\", but pointing on \"-\" is odd\n                        if (this.scanner.source.charCodeAt(this.scanner.tokenStart) === tokenType) {\n                            offset = offset + 1;\n                        }\n                }\n\n                this.error(message, offset);\n            }\n\n            this.scanner.next();\n        },\n\n        consume: function(tokenType) {\n            var value = this.scanner.getTokenValue();\n\n            this.eat(tokenType);\n\n            return value;\n        },\n        consumeFunctionName: function() {\n            var name = this.scanner.source.substring(this.scanner.tokenStart, this.scanner.tokenEnd - 1);\n\n            this.eat(FUNCTION);\n\n            return name;\n        },\n\n        getLocation: function(start, end) {\n            if (this.needPositions) {\n                return this.locationMap.getLocationRange(\n                    start,\n                    end,\n                    this.filename\n                );\n            }\n\n            return null;\n        },\n        getLocationFromList: function(list) {\n            if (this.needPositions) {\n                var head = this.getFirstListNode(list);\n                var tail = this.getLastListNode(list);\n                return this.locationMap.getLocationRange(\n                    head !== null ? head.loc.start.offset - this.locationMap.startOffset : this.scanner.tokenStart,\n                    tail !== null ? tail.loc.end.offset - this.locationMap.startOffset : this.scanner.tokenStart,\n                    this.filename\n                );\n            }\n\n            return null;\n        },\n\n        error: function(message, offset) {\n            var location = typeof offset !== 'undefined' && offset < this.scanner.source.length\n                ? this.locationMap.getLocation(offset)\n                : this.scanner.eof\n                    ? this.locationMap.getLocation(findWhiteSpaceStart(this.scanner.source, this.scanner.source.length - 1))\n                    : this.locationMap.getLocation(this.scanner.tokenStart);\n\n            throw new SyntaxError(\n                message || 'Unexpected input',\n                this.scanner.source,\n                location.offset,\n                location.line,\n                location.column\n            );\n        }\n    };\n\n    config = processConfig(config || {});\n    for (var key in config) {\n        parser[key] = config[key];\n    }\n\n    return function(source, options) {\n        options = options || {};\n\n        var context = options.context || 'default';\n        var ast;\n\n        tokenize(source, parser.scanner);\n        parser.locationMap.setSource(\n            source,\n            options.offset,\n            options.line,\n            options.column\n        );\n\n        parser.filename = options.filename || '<unknown>';\n        parser.needPositions = Boolean(options.positions);\n        parser.onParseError = typeof options.onParseError === 'function' ? options.onParseError : noop;\n        parser.onParseErrorThrow = false;\n        parser.parseAtrulePrelude = 'parseAtrulePrelude' in options ? Boolean(options.parseAtrulePrelude) : true;\n        parser.parseRulePrelude = 'parseRulePrelude' in options ? Boolean(options.parseRulePrelude) : true;\n        parser.parseValue = 'parseValue' in options ? Boolean(options.parseValue) : true;\n        parser.parseCustomProperty = 'parseCustomProperty' in options ? Boolean(options.parseCustomProperty) : false;\n\n        if (!parser.context.hasOwnProperty(context)) {\n            throw new Error('Unknown context `' + context + '`');\n        }\n\n        ast = parser.context[context].call(parser, options);\n\n        if (!parser.scanner.eof) {\n            parser.error();\n        }\n\n        return ast;\n    };\n};\n","var adoptBuffer = require('./adopt-buffer');\nvar isBOM = require('../tokenizer').isBOM;\n\nvar N = 10;\nvar F = 12;\nvar R = 13;\n\nfunction computeLinesAndColumns(host, source) {\n    var sourceLength = source.length;\n    var lines = adoptBuffer(host.lines, sourceLength); // +1\n    var line = host.startLine;\n    var columns = adoptBuffer(host.columns, sourceLength);\n    var column = host.startColumn;\n    var startOffset = source.length > 0 ? isBOM(source.charCodeAt(0)) : 0;\n\n    for (var i = startOffset; i < sourceLength; i++) { // -1\n        var code = source.charCodeAt(i);\n\n        lines[i] = line;\n        columns[i] = column++;\n\n        if (code === N || code === R || code === F) {\n            if (code === R && i + 1 < sourceLength && source.charCodeAt(i + 1) === N) {\n                i++;\n                lines[i] = line;\n                columns[i] = column;\n            }\n\n            line++;\n            column = 1;\n        }\n    }\n\n    lines[i] = line;\n    columns[i] = column;\n\n    host.lines = lines;\n    host.columns = columns;\n}\n\nvar OffsetToLocation = function() {\n    this.lines = null;\n    this.columns = null;\n    this.linesAndColumnsComputed = false;\n};\n\nOffsetToLocation.prototype = {\n    setSource: function(source, startOffset, startLine, startColumn) {\n        this.source = source;\n        this.startOffset = typeof startOffset === 'undefined' ? 0 : startOffset;\n        this.startLine = typeof startLine === 'undefined' ? 1 : startLine;\n        this.startColumn = typeof startColumn === 'undefined' ? 1 : startColumn;\n        this.linesAndColumnsComputed = false;\n    },\n\n    ensureLinesAndColumnsComputed: function() {\n        if (!this.linesAndColumnsComputed) {\n            computeLinesAndColumns(this, this.source);\n            this.linesAndColumnsComputed = true;\n        }\n    },\n    getLocation: function(offset, filename) {\n        this.ensureLinesAndColumnsComputed();\n\n        return {\n            source: filename,\n            offset: this.startOffset + offset,\n            line: this.lines[offset],\n            column: this.columns[offset]\n        };\n    },\n    getLocationRange: function(start, end, filename) {\n        this.ensureLinesAndColumnsComputed();\n\n        return {\n            source: filename,\n            start: {\n                offset: this.startOffset + start,\n                line: this.lines[start],\n                column: this.columns[start]\n            },\n            end: {\n                offset: this.startOffset + end,\n                line: this.lines[end],\n                column: this.columns[end]\n            }\n        };\n    }\n};\n\nmodule.exports = OffsetToLocation;\n","var TYPE = require('../tokenizer').TYPE;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\n\nmodule.exports = function readSequence(recognizer) {\n    var children = this.createList();\n    var child = null;\n    var context = {\n        recognizer: recognizer,\n        space: null,\n        ignoreWS: false,\n        ignoreWSAfter: false\n    };\n\n    this.scanner.skipSC();\n\n    while (!this.scanner.eof) {\n        switch (this.scanner.tokenType) {\n            case COMMENT:\n                this.scanner.next();\n                continue;\n\n            case WHITESPACE:\n                if (context.ignoreWS) {\n                    this.scanner.next();\n                } else {\n                    context.space = this.WhiteSpace();\n                }\n                continue;\n        }\n\n        child = recognizer.getNode.call(this, context);\n\n        if (child === undefined) {\n            break;\n        }\n\n        if (context.space !== null) {\n            children.push(context.space);\n            context.space = null;\n        }\n\n        children.push(child);\n\n        if (context.ignoreWSAfter) {\n            context.ignoreWSAfter = false;\n            context.ignoreWS = true;\n        } else {\n            context.ignoreWS = false;\n        }\n    }\n\n    return children;\n};\n","var sourceMap = require('./sourceMap');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction processChildren(node, delimeter) {\n    var list = node.children;\n    var prev = null;\n\n    if (typeof delimeter !== 'function') {\n        list.forEach(this.node, this);\n    } else {\n        list.forEach(function(node) {\n            if (prev !== null) {\n                delimeter.call(this, prev);\n            }\n\n            this.node(node);\n            prev = node;\n        }, this);\n    }\n}\n\nmodule.exports = function createGenerator(config) {\n    function processNode(node) {\n        if (hasOwnProperty.call(types, node.type)) {\n            types[node.type].call(this, node);\n        } else {\n            throw new Error('Unknown node type: ' + node.type);\n        }\n    }\n\n    var types = {};\n\n    if (config.node) {\n        for (var name in config.node) {\n            types[name] = config.node[name].generate;\n        }\n    }\n\n    return function(node, options) {\n        var buffer = '';\n        var handlers = {\n            children: processChildren,\n            node: processNode,\n            chunk: function(chunk) {\n                buffer += chunk;\n            },\n            result: function() {\n                return buffer;\n            }\n        };\n\n        if (options) {\n            if (typeof options.decorator === 'function') {\n                handlers = options.decorator(handlers);\n            }\n\n            if (options.sourceMap) {\n                handlers = sourceMap(handlers);\n            }\n        }\n\n        handlers.node(node);\n\n        return handlers.result();\n    };\n};\n","var SourceMapGenerator = require('source-map/lib/source-map-generator').SourceMapGenerator;\nvar trackNodes = {\n    Atrule: true,\n    Selector: true,\n    Declaration: true\n};\n\nmodule.exports = function generateSourceMap(handlers) {\n    var map = new SourceMapGenerator();\n    var line = 1;\n    var column = 0;\n    var generated = {\n        line: 1,\n        column: 0\n    };\n    var original = {\n        line: 0, // should be zero to add first mapping\n        column: 0\n    };\n    var sourceMappingActive = false;\n    var activatedGenerated = {\n        line: 1,\n        column: 0\n    };\n    var activatedMapping = {\n        generated: activatedGenerated\n    };\n\n    var handlersNode = handlers.node;\n    handlers.node = function(node) {\n        if (node.loc && node.loc.start && trackNodes.hasOwnProperty(node.type)) {\n            var nodeLine = node.loc.start.line;\n            var nodeColumn = node.loc.start.column - 1;\n\n            if (original.line !== nodeLine ||\n                original.column !== nodeColumn) {\n                original.line = nodeLine;\n                original.column = nodeColumn;\n\n                generated.line = line;\n                generated.column = column;\n\n                if (sourceMappingActive) {\n                    sourceMappingActive = false;\n                    if (generated.line !== activatedGenerated.line ||\n                        generated.column !== activatedGenerated.column) {\n                        map.addMapping(activatedMapping);\n                    }\n                }\n\n                sourceMappingActive = true;\n                map.addMapping({\n                    source: node.loc.source,\n                    original: original,\n                    generated: generated\n                });\n            }\n        }\n\n        handlersNode.call(this, node);\n\n        if (sourceMappingActive && trackNodes.hasOwnProperty(node.type)) {\n            activatedGenerated.line = line;\n            activatedGenerated.column = column;\n        }\n    };\n\n    var handlersChunk = handlers.chunk;\n    handlers.chunk = function(chunk) {\n        for (var i = 0; i < chunk.length; i++) {\n            if (chunk.charCodeAt(i) === 10) { // \\n\n                line++;\n                column = 0;\n            } else {\n                column++;\n            }\n        }\n\n        handlersChunk(chunk);\n    };\n\n    var handlersResult = handlers.result;\n    handlers.result = function() {\n        if (sourceMappingActive) {\n            map.addMapping(activatedMapping);\n        }\n\n        return {\n            css: handlersResult(),\n            map: map\n        };\n    };\n\n    return handlers;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","var List = require('../common/List');\n\nmodule.exports = function createConvertors(walk) {\n    return {\n        fromPlainObject: function(ast) {\n            walk(ast, {\n                enter: function(node) {\n                    if (node.children && node.children instanceof List === false) {\n                        node.children = new List().fromArray(node.children);\n                    }\n                }\n            });\n\n            return ast;\n        },\n        toPlainObject: function(ast) {\n            walk(ast, {\n                leave: function(node) {\n                    if (node.children && node.children instanceof List) {\n                        node.children = node.children.toArray();\n                    }\n                }\n            });\n\n            return ast;\n        }\n    };\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nfunction invokeForType(fn, type) {\n    return function(node, item, list) {\n        if (node.type === type) {\n            fn.call(this, node, item, list);\n        }\n    };\n}\n\nfunction getWalkersFromStructure(name, nodeType) {\n    var structure = nodeType.structure;\n    var walkers = [];\n\n    for (var key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        var fieldTypes = structure[key];\n        var walker = {\n            name: key,\n            type: false,\n            nullable: false\n        };\n\n        if (!Array.isArray(structure[key])) {\n            fieldTypes = [structure[key]];\n        }\n\n        for (var i = 0; i < fieldTypes.length; i++) {\n            var fieldType = fieldTypes[i];\n            if (fieldType === null) {\n                walker.nullable = true;\n            } else if (typeof fieldType === 'string') {\n                walker.type = 'node';\n            } else if (Array.isArray(fieldType)) {\n                walker.type = 'list';\n            }\n        }\n\n        if (walker.type) {\n            walkers.push(walker);\n        }\n    }\n\n    if (walkers.length) {\n        return {\n            context: nodeType.walkContext,\n            fields: walkers\n        };\n    }\n\n    return null;\n}\n\nfunction getTypesFromConfig(config) {\n    var types = {};\n\n    for (var name in config.node) {\n        if (hasOwnProperty.call(config.node, name)) {\n            var nodeType = config.node[name];\n\n            if (!nodeType.structure) {\n                throw new Error('Missed `structure` field in `' + name + '` node type definition');\n            }\n\n            types[name] = getWalkersFromStructure(name, nodeType);\n        }\n    }\n\n    return types;\n}\n\nfunction createTypeIterator(config, reverse) {\n    var fields = config.fields.slice();\n    var contextName = config.context;\n    var useContext = typeof contextName === 'string';\n\n    if (reverse) {\n        fields.reverse();\n    }\n\n    return function(node, context, walk) {\n        var prevContextValue;\n\n        if (useContext) {\n            prevContextValue = context[contextName];\n            context[contextName] = node;\n        }\n\n        for (var i = 0; i < fields.length; i++) {\n            var field = fields[i];\n            var ref = node[field.name];\n\n            if (!field.nullable || ref) {\n                if (field.type === 'list') {\n                    if (reverse) {\n                        ref.forEachRight(walk);\n                    } else {\n                        ref.forEach(walk);\n                    }\n                } else {\n                    walk(ref);\n                }\n            }\n        }\n\n        if (useContext) {\n            context[contextName] = prevContextValue;\n        }\n    };\n}\n\nfunction createFastTraveralMap(iterators) {\n    return {\n        Atrule: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block\n        },\n        Rule: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block\n        },\n        Declaration: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block,\n            DeclarationList: iterators.DeclarationList\n        }\n    };\n}\n\nmodule.exports = function createWalker(config) {\n    var types = getTypesFromConfig(config);\n    var iteratorsNatural = {};\n    var iteratorsReverse = {};\n\n    for (var name in types) {\n        if (hasOwnProperty.call(types, name) && types[name] !== null) {\n            iteratorsNatural[name] = createTypeIterator(types[name], false);\n            iteratorsReverse[name] = createTypeIterator(types[name], true);\n        }\n    }\n\n    var fastTraversalIteratorsNatural = createFastTraveralMap(iteratorsNatural);\n    var fastTraversalIteratorsReverse = createFastTraveralMap(iteratorsReverse);\n\n    var walk = function(root, options) {\n        function walkNode(node, item, list) {\n            enter.call(context, node, item, list);\n\n            if (iterators.hasOwnProperty(node.type)) {\n                iterators[node.type](node, context, walkNode);\n            }\n\n            leave.call(context, node, item, list);\n        }\n\n        var enter = noop;\n        var leave = noop;\n        var iterators = iteratorsNatural;\n        var context = {\n            root: root,\n            stylesheet: null,\n            atrule: null,\n            atrulePrelude: null,\n            rule: null,\n            selector: null,\n            block: null,\n            declaration: null,\n            function: null\n        };\n\n        if (typeof options === 'function') {\n            enter = options;\n        } else if (options) {\n            enter = ensureFunction(options.enter);\n            leave = ensureFunction(options.leave);\n\n            if (options.reverse) {\n                iterators = iteratorsReverse;\n            }\n\n            if (options.visit) {\n                if (fastTraversalIteratorsNatural.hasOwnProperty(options.visit)) {\n                    iterators = options.reverse\n                        ? fastTraversalIteratorsReverse[options.visit]\n                        : fastTraversalIteratorsNatural[options.visit];\n                } else if (!types.hasOwnProperty(options.visit)) {\n                    throw new Error('Bad value `' + options.visit + '` for `visit` option (should be: ' + Object.keys(types).join(', ') + ')');\n                }\n\n                enter = invokeForType(enter, options.visit);\n                leave = invokeForType(leave, options.visit);\n            }\n        }\n\n        if (enter === noop && leave === noop) {\n            throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n        }\n\n        // swap handlers in reverse mode to invert visit order\n        if (options.reverse) {\n            var tmp = enter;\n            enter = leave;\n            leave = tmp;\n        }\n\n        walkNode(root);\n    };\n\n    walk.find = function(ast, fn) {\n        var found = null;\n\n        walk(ast, function(node, item, list) {\n            if (found === null && fn.call(this, node, item, list)) {\n                found = node;\n            }\n        });\n\n        return found;\n    };\n\n    walk.findLast = function(ast, fn) {\n        var found = null;\n\n        walk(ast, {\n            reverse: true,\n            enter: function(node, item, list) {\n                if (found === null && fn.call(this, node, item, list)) {\n                    found = node;\n                }\n            }\n        });\n\n        return found;\n    };\n\n    walk.findAll = function(ast, fn) {\n        var found = [];\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found.push(node);\n            }\n        });\n\n        return found;\n    };\n\n    return walk;\n};\n","var List = require('../common/List');\n\nmodule.exports = function clone(node) {\n    var result = {};\n\n    for (var key in node) {\n        var value = node[key];\n\n        if (value) {\n            if (Array.isArray(value) || value instanceof List) {\n                value = value.map(clone);\n            } else if (value.constructor === Object) {\n                value = clone(value);\n            }\n        }\n\n        result[key] = value;\n    }\n\n    return result;\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar shape = {\n    generic: true,\n    types: {},\n    atrules: {},\n    properties: {},\n    parseContext: {},\n    scope: {},\n    atrule: ['parse'],\n    pseudo: ['parse'],\n    node: ['name', 'structure', 'parse', 'generate', 'walkContext']\n};\n\nfunction isObject(value) {\n    return value && value.constructor === Object;\n}\n\nfunction copy(value) {\n    if (isObject(value)) {\n        return Object.assign({}, value);\n    } else {\n        return value;\n    }\n}\nfunction extend(dest, src) {\n    for (var key in src) {\n        if (hasOwnProperty.call(src, key)) {\n            if (isObject(dest[key])) {\n                extend(dest[key], copy(src[key]));\n            } else {\n                dest[key] = copy(src[key]);\n            }\n        }\n    }\n}\n\nfunction mix(dest, src, shape) {\n    for (var key in shape) {\n        if (hasOwnProperty.call(shape, key) === false) {\n            continue;\n        }\n\n        if (shape[key] === true) {\n            if (key in src) {\n                if (hasOwnProperty.call(src, key)) {\n                    dest[key] = copy(src[key]);\n                }\n            }\n        } else if (shape[key]) {\n            if (isObject(shape[key])) {\n                var res = {};\n                extend(res, dest[key]);\n                extend(res, src[key]);\n                dest[key] = res;\n            } else if (Array.isArray(shape[key])) {\n                var res = {};\n                var innerShape = shape[key].reduce(function(s, k) {\n                    s[k] = true;\n                    return s;\n                }, {});\n                for (var name in dest[key]) {\n                    if (hasOwnProperty.call(dest[key], name)) {\n                        res[name] = {};\n                        if (dest[key] && dest[key][name]) {\n                            mix(res[name], dest[key][name], innerShape);\n                        }\n                    }\n                }\n                for (var name in src[key]) {\n                    if (hasOwnProperty.call(src[key], name)) {\n                        if (!res[name]) {\n                            res[name] = {};\n                        }\n                        if (src[key] && src[key][name]) {\n                            mix(res[name], src[key][name], innerShape);\n                        }\n                    }\n                }\n                dest[key] = res;\n            }\n        }\n    }\n    return dest;\n}\n\nmodule.exports = function(dest, src) {\n    return mix(dest, src, shape);\n};\n","var data = require('../../../data');\n\nmodule.exports = {\n    generic: true,\n    types: data.types,\n    atrules: data.atrules,\n    properties: data.properties,\n    node: require('../node')\n};\n","var cmpChar = require('../../tokenizer').cmpChar;\nvar isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction checkInteger(offset, disallowSign) {\n    var pos = this.scanner.tokenStart + offset;\n    var code = this.scanner.source.charCodeAt(pos);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            this.error('Number sign is not allowed');\n        }\n        pos++;\n    }\n\n    for (; pos < this.scanner.tokenEnd; pos++) {\n        if (!isDigit(this.scanner.source.charCodeAt(pos))) {\n            this.error('Integer is expected', pos);\n        }\n    }\n}\n\nfunction checkTokenIsInteger(disallowSign) {\n    return checkInteger.call(this, 0, disallowSign);\n}\n\nfunction expectCharCode(offset, code) {\n    if (!cmpChar(this.scanner.source, this.scanner.tokenStart + offset, code)) {\n        var msg = '';\n\n        switch (code) {\n            case N:\n                msg = 'N is expected';\n                break;\n            case HYPHENMINUS:\n                msg = 'HyphenMinus is expected';\n                break;\n        }\n\n        this.error(msg, this.scanner.tokenStart + offset);\n    }\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB() {\n    var offset = 0;\n    var sign = 0;\n    var type = this.scanner.tokenType;\n\n    while (type === WHITESPACE || type === COMMENT) {\n        type = this.scanner.lookupType(++offset);\n    }\n\n    if (type !== NUMBER) {\n        if (this.scanner.isDelim(PLUSSIGN, offset) ||\n            this.scanner.isDelim(HYPHENMINUS, offset)) {\n            sign = this.scanner.isDelim(PLUSSIGN, offset) ? PLUSSIGN : HYPHENMINUS;\n\n            do {\n                type = this.scanner.lookupType(++offset);\n            } while (type === WHITESPACE || type === COMMENT);\n\n            if (type !== NUMBER) {\n                this.scanner.skip(offset);\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n            }\n        } else {\n            return null;\n        }\n    }\n\n    if (offset > 0) {\n        this.scanner.skip(offset);\n    }\n\n    if (sign === 0) {\n        type = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n        if (type !== PLUSSIGN && type !== HYPHENMINUS) {\n            this.error('Number sign is expected');\n        }\n    }\n\n    checkTokenIsInteger.call(this, sign !== 0);\n    return sign === HYPHENMINUS ? '-' + this.consume(NUMBER) : this.consume(NUMBER);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = {\n    name: 'AnPlusB',\n    structure: {\n        a: [String, null],\n        b: [String, null]\n    },\n    parse: function() {\n        /* eslint-disable brace-style*/\n        var start = this.scanner.tokenStart;\n        var a = null;\n        var b = null;\n\n        // <integer>\n        if (this.scanner.tokenType === NUMBER) {\n            checkTokenIsInteger.call(this, ALLOW_SIGN);\n            b = this.consume(NUMBER);\n        }\n\n        // -n\n        // -n <signed-integer>\n        // -n ['+' | '-'] <signless-integer>\n        // -n- <signless-integer>\n        // <dashndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT && cmpChar(this.scanner.source, this.scanner.tokenStart, HYPHENMINUS)) {\n            a = '-1';\n\n            expectCharCode.call(this, 1, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // -n\n                // -n <signed-integer>\n                // -n ['+' | '-'] <signless-integer>\n                case 2:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // -n- <signless-integer>\n                case 3:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // <dashndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n                    checkInteger.call(this, 3, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + 2);\n            }\n        }\n\n        // '+'? n\n        // '+'? n <signed-integer>\n        // '+'? n ['+' | '-'] <signless-integer>\n        // '+'? n- <signless-integer>\n        // '+'? <ndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT || (this.scanner.isDelim(PLUSSIGN) && this.scanner.lookupType(1) === IDENT)) {\n            var sign = 0;\n            a = '1';\n\n            // just ignore a plus\n            if (this.scanner.isDelim(PLUSSIGN)) {\n                sign = 1;\n                this.scanner.next();\n            }\n\n            expectCharCode.call(this, 0, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // '+'? n\n                // '+'? n <signed-integer>\n                // '+'? n ['+' | '-'] <signless-integer>\n                case 1:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // '+'? n- <signless-integer>\n                case 2:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // '+'? <ndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n                    checkInteger.call(this, 2, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + sign + 1);\n            }\n        }\n\n        // <ndashdigit-dimension>\n        // <ndash-dimension> <signless-integer>\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        else if (this.scanner.tokenType === DIMENSION) {\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n            var sign = code === PLUSSIGN || code === HYPHENMINUS;\n\n            for (var i = this.scanner.tokenStart + sign; i < this.scanner.tokenEnd; i++) {\n                if (!isDigit(this.scanner.source.charCodeAt(i))) {\n                    break;\n                }\n            }\n\n            if (i === this.scanner.tokenStart + sign) {\n                this.error('Integer is expected', this.scanner.tokenStart + sign);\n            }\n\n            expectCharCode.call(this, i - this.scanner.tokenStart, N);\n            a = this.scanner.source.substring(start, i);\n\n            // <n-dimension>\n            // <n-dimension> <signed-integer>\n            // <n-dimension> ['+' | '-'] <signless-integer>\n            if (i + 1 === this.scanner.tokenEnd) {\n                this.scanner.next();\n                b = consumeB.call(this);\n            } else {\n                expectCharCode.call(this, i - this.scanner.tokenStart + 1, HYPHENMINUS);\n\n                // <ndash-dimension> <signless-integer>\n                if (i + 2 === this.scanner.tokenEnd) {\n                    this.scanner.next();\n                    this.scanner.skipSC();\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n                    b = '-' + this.consume(NUMBER);\n                }\n                // <ndashdigit-dimension>\n                else {\n                    checkInteger.call(this, i - this.scanner.tokenStart + 2, DISALLOW_SIGN);\n                    this.scanner.next();\n                    b = this.scanner.substrToCursor(i + 1);\n                }\n            }\n        } else {\n            this.error();\n        }\n\n        if (a !== null && a.charCodeAt(0) === PLUSSIGN) {\n            a = a.substr(1);\n        }\n\n        if (b !== null && b.charCodeAt(0) === PLUSSIGN) {\n            b = b.substr(1);\n        }\n\n        return {\n            type: 'AnPlusB',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            a: a,\n            b: b\n        };\n    },\n    generate: function(node) {\n        var a = node.a !== null && node.a !== undefined;\n        var b = node.b !== null && node.b !== undefined;\n\n        if (a) {\n            this.chunk(\n                node.a === '+1' ? '+n' : // eslint-disable-line operator-linebreak, indent\n                node.a ===  '1' ?  'n' : // eslint-disable-line operator-linebreak, indent\n                node.a === '-1' ? '-n' : // eslint-disable-line operator-linebreak, indent\n                node.a + 'n'             // eslint-disable-line operator-linebreak, indent\n            );\n\n            if (b) {\n                b = String(node.b);\n                if (b.charAt(0) === '-' || b.charAt(0) === '+') {\n                    this.chunk(b.charAt(0));\n                    this.chunk(b.substr(1));\n                } else {\n                    this.chunk('+');\n                    this.chunk(b);\n                }\n            }\n        } else {\n            this.chunk(String(node.b));\n        }\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar ATKEYWORD = TYPE.AtKeyword;\nvar SEMICOLON = TYPE.Semicolon;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\nvar RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracketOrSemicolon, true);\n}\n\nfunction isDeclarationBlockAtrule() {\n    for (var offset = 1, type; type = this.scanner.lookupType(offset); offset++) {\n        if (type === RIGHTCURLYBRACKET) {\n            return true;\n        }\n\n        if (type === LEFTCURLYBRACKET ||\n            type === ATKEYWORD) {\n            return false;\n        }\n    }\n\n    return false;\n}\n\nmodule.exports = {\n    name: 'Atrule',\n    structure: {\n        name: String,\n        prelude: ['AtrulePrelude', 'Raw', null],\n        block: ['Block', null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var nameLowerCase;\n        var prelude = null;\n        var block = null;\n\n        this.eat(ATKEYWORD);\n\n        name = this.scanner.substrToCursor(start + 1);\n        nameLowerCase = name.toLowerCase();\n        this.scanner.skipSC();\n\n        // parse prelude\n        if (this.scanner.eof === false &&\n            this.scanner.tokenType !== LEFTCURLYBRACKET &&\n            this.scanner.tokenType !== SEMICOLON) {\n            if (this.parseAtrulePrelude) {\n                prelude = this.parseWithFallback(this.AtrulePrelude.bind(this, name), consumeRaw);\n\n                // turn empty AtrulePrelude into null\n                if (prelude.type === 'AtrulePrelude' && prelude.children.head === null) {\n                    prelude = null;\n                }\n            } else {\n                prelude = consumeRaw.call(this, this.scanner.tokenIndex);\n            }\n\n            this.scanner.skipSC();\n        }\n\n        switch (this.scanner.tokenType) {\n            case SEMICOLON:\n                this.scanner.next();\n                break;\n\n            case LEFTCURLYBRACKET:\n                if (this.atrule.hasOwnProperty(nameLowerCase) &&\n                    typeof this.atrule[nameLowerCase].block === 'function') {\n                    block = this.atrule[nameLowerCase].block.call(this);\n                } else {\n                    // TODO: should consume block content as Raw?\n                    block = this.Block(isDeclarationBlockAtrule.call(this));\n                }\n\n                break;\n        }\n\n        return {\n            type: 'Atrule',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            prelude: prelude,\n            block: block\n        };\n    },\n    generate: function(node) {\n        this.chunk('@');\n        this.chunk(node.name);\n\n        if (node.prelude !== null) {\n            this.chunk(' ');\n            this.node(node.prelude);\n        }\n\n        if (node.block) {\n            this.node(node.block);\n        } else {\n            this.chunk(';');\n        }\n    },\n    walkContext: 'atrule'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar SEMICOLON = TYPE.Semicolon;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n\nmodule.exports = {\n    name: 'AtrulePrelude',\n    structure: {\n        children: [[]]\n    },\n    parse: function(name) {\n        var children = null;\n\n        if (name !== null) {\n            name = name.toLowerCase();\n        }\n\n        this.scanner.skipSC();\n\n        if (this.atrule.hasOwnProperty(name) &&\n            typeof this.atrule[name].prelude === 'function') {\n            // custom consumer\n            children = this.atrule[name].prelude.call(this);\n        } else {\n            // default consumer\n            children = this.readSequence(this.scope.AtrulePrelude);\n        }\n\n        this.scanner.skipSC();\n\n        if (this.scanner.eof !== true &&\n            this.scanner.tokenType !== LEFTCURLYBRACKET &&\n            this.scanner.tokenType !== SEMICOLON) {\n            this.error('Semicolon or block is expected');\n        }\n\n        if (children === null) {\n            children = this.createList();\n        }\n\n        return {\n            type: 'AtrulePrelude',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    },\n    walkContext: 'atrulePrelude'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar STRING = TYPE.String;\nvar COLON = TYPE.Colon;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\nvar DOLLARSIGN = 0x0024;       // U+0024 DOLLAR SIGN ($)\nvar ASTERISK = 0x002A;         // U+002A ASTERISK (*)\nvar EQUALSSIGN = 0x003D;       // U+003D EQUALS SIGN (=)\nvar CIRCUMFLEXACCENT = 0x005E; // U+005E (^)\nvar VERTICALLINE = 0x007C;     // U+007C VERTICAL LINE (|)\nvar TILDE = 0x007E;            // U+007E TILDE (~)\n\nfunction getAttributeName() {\n    if (this.scanner.eof) {\n        this.error('Unexpected end of input');\n    }\n\n    var start = this.scanner.tokenStart;\n    var expectIdent = false;\n    var checkColon = true;\n\n    if (this.scanner.isDelim(ASTERISK)) {\n        expectIdent = true;\n        checkColon = false;\n        this.scanner.next();\n    } else if (!this.scanner.isDelim(VERTICALLINE)) {\n        this.eat(IDENT);\n    }\n\n    if (this.scanner.isDelim(VERTICALLINE)) {\n        if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 1) !== EQUALSSIGN) {\n            this.scanner.next();\n            this.eat(IDENT);\n        } else if (expectIdent) {\n            this.error('Identifier is expected', this.scanner.tokenEnd);\n        }\n    } else if (expectIdent) {\n        this.error('Vertical line is expected');\n    }\n\n    if (checkColon && this.scanner.tokenType === COLON) {\n        this.scanner.next();\n        this.eat(IDENT);\n    }\n\n    return {\n        type: 'Identifier',\n        loc: this.getLocation(start, this.scanner.tokenStart),\n        name: this.scanner.substrToCursor(start)\n    };\n}\n\nfunction getOperator() {\n    var start = this.scanner.tokenStart;\n    var code = this.scanner.source.charCodeAt(start);\n\n    if (code !== EQUALSSIGN &&        // =\n        code !== TILDE &&             // ~=\n        code !== CIRCUMFLEXACCENT &&  // ^=\n        code !== DOLLARSIGN &&        // $=\n        code !== ASTERISK &&          // *=\n        code !== VERTICALLINE         // |=\n    ) {\n        this.error('Attribute selector (=, ~=, ^=, $=, *=, |=) is expected');\n    }\n\n    this.scanner.next();\n\n    if (code !== EQUALSSIGN) {\n        if (!this.scanner.isDelim(EQUALSSIGN)) {\n            this.error('Equal sign is expected');\n        }\n\n        this.scanner.next();\n    }\n\n    return this.scanner.substrToCursor(start);\n}\n\n// '[' <wq-name> ']'\n// '[' <wq-name> <attr-matcher> [ <string-token> | <ident-token> ] <attr-modifier>? ']'\nmodule.exports = {\n    name: 'AttributeSelector',\n    structure: {\n        name: 'Identifier',\n        matcher: [String, null],\n        value: ['String', 'Identifier', null],\n        flags: [String, null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var matcher = null;\n        var value = null;\n        var flags = null;\n\n        this.eat(LEFTSQUAREBRACKET);\n        this.scanner.skipSC();\n\n        name = getAttributeName.call(this);\n        this.scanner.skipSC();\n\n        if (this.scanner.tokenType !== RIGHTSQUAREBRACKET) {\n            // avoid case `[name i]`\n            if (this.scanner.tokenType !== IDENT) {\n                matcher = getOperator.call(this);\n\n                this.scanner.skipSC();\n\n                value = this.scanner.tokenType === STRING\n                    ? this.String()\n                    : this.Identifier();\n\n                this.scanner.skipSC();\n            }\n\n            // attribute flags\n            if (this.scanner.tokenType === IDENT) {\n                flags = this.scanner.getTokenValue();\n                this.scanner.next();\n\n                this.scanner.skipSC();\n            }\n        }\n\n        this.eat(RIGHTSQUAREBRACKET);\n\n        return {\n            type: 'AttributeSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            matcher: matcher,\n            value: value,\n            flags: flags\n        };\n    },\n    generate: function(node) {\n        var flagsPrefix = ' ';\n\n        this.chunk('[');\n        this.node(node.name);\n\n        if (node.matcher !== null) {\n            this.chunk(node.matcher);\n\n            if (node.value !== null) {\n                this.node(node.value);\n\n                // space between string and flags is not required\n                if (node.value.type === 'String') {\n                    flagsPrefix = '';\n                }\n            }\n        }\n\n        if (node.flags !== null) {\n            this.chunk(flagsPrefix);\n            this.chunk(node.flags);\n        }\n\n        this.chunk(']');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar SEMICOLON = TYPE.Semicolon;\nvar ATKEYWORD = TYPE.AtKeyword;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\nvar RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, null, true);\n}\nfunction consumeRule() {\n    return this.parseWithFallback(this.Rule, consumeRaw);\n}\nfunction consumeRawDeclaration(startToken) {\n    return this.Raw(startToken, rawMode.semicolonIncluded, true);\n}\nfunction consumeDeclaration() {\n    if (this.scanner.tokenType === SEMICOLON) {\n        return consumeRawDeclaration.call(this, this.scanner.tokenIndex);\n    }\n\n    var node = this.parseWithFallback(this.Declaration, consumeRawDeclaration);\n\n    if (this.scanner.tokenType === SEMICOLON) {\n        this.scanner.next();\n    }\n\n    return node;\n}\n\nmodule.exports = {\n    name: 'Block',\n    structure: {\n        children: [[\n            'Atrule',\n            'Rule',\n            'Declaration'\n        ]]\n    },\n    parse: function(isDeclaration) {\n        var consumer = isDeclaration ? consumeDeclaration : consumeRule;\n\n        var start = this.scanner.tokenStart;\n        var children = this.createList();\n\n        this.eat(LEFTCURLYBRACKET);\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case RIGHTCURLYBRACKET:\n                    break scan;\n\n                case WHITESPACE:\n                case COMMENT:\n                    this.scanner.next();\n                    break;\n\n                case ATKEYWORD:\n                    children.push(this.parseWithFallback(this.Atrule, consumeRaw));\n                    break;\n\n                default:\n                    children.push(consumer.call(this));\n            }\n        }\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTCURLYBRACKET);\n        }\n\n        return {\n            type: 'Block',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('{');\n        this.children(node, function(prev) {\n            if (prev.type === 'Declaration') {\n                this.chunk(';');\n            }\n        });\n        this.chunk('}');\n    },\n    walkContext: 'block'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\n\nmodule.exports = {\n    name: 'Brackets',\n    structure: {\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var children = null;\n\n        this.eat(LEFTSQUAREBRACKET);\n\n        children = readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTSQUAREBRACKET);\n        }\n\n        return {\n            type: 'Brackets',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('[');\n        this.children(node);\n        this.chunk(']');\n    }\n};\n","var CDC = require('../../tokenizer').TYPE.CDC;\n\nmodule.exports = {\n    name: 'CDC',\n    structure: [],\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(CDC); // -->\n\n        return {\n            type: 'CDC',\n            loc: this.getLocation(start, this.scanner.tokenStart)\n        };\n    },\n    generate: function() {\n        this.chunk('-->');\n    }\n};\n","var CDO = require('../../tokenizer').TYPE.CDO;\n\nmodule.exports = {\n    name: 'CDO',\n    structure: [],\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(CDO); // <!--\n\n        return {\n            type: 'CDO',\n            loc: this.getLocation(start, this.scanner.tokenStart)\n        };\n    },\n    generate: function() {\n        this.chunk('<!--');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// '.' ident\nmodule.exports = {\n    name: 'ClassSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        if (!this.scanner.isDelim(FULLSTOP)) {\n            this.error('Full stop is expected');\n        }\n\n        this.scanner.next();\n\n        return {\n            type: 'ClassSelector',\n            loc: this.getLocation(this.scanner.tokenStart - 1, this.scanner.tokenEnd),\n            name: this.consume(IDENT)\n        };\n    },\n    generate: function(node) {\n        this.chunk('.');\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nvar GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nvar TILDE = 0x007E;           // U+007E TILDE (~)\n\n// + | > | ~ | /deep/\nmodule.exports = {\n    name: 'Combinator',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n        switch (code) {\n            case GREATERTHANSIGN:\n            case PLUSSIGN:\n            case TILDE:\n                this.scanner.next();\n                break;\n\n            case SOLIDUS:\n                this.scanner.next();\n\n                if (this.scanner.tokenType !== IDENT || this.scanner.lookupValue(0, 'deep') === false) {\n                    this.error('Identifier `deep` is expected');\n                }\n\n                this.scanner.next();\n\n                if (!this.scanner.isDelim(SOLIDUS)) {\n                    this.error('Solidus is expected');\n                }\n\n                this.scanner.next();\n                break;\n\n            default:\n                this.error('Combinator is expected');\n        }\n\n        return {\n            type: 'Combinator',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar COMMENT = TYPE.Comment;\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\n// '/*' .* '*/'\nmodule.exports = {\n    name: 'Comment',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var end = this.scanner.tokenEnd;\n\n        this.eat(COMMENT);\n\n        if ((end - start + 2) >= 2 &&\n            this.scanner.source.charCodeAt(end - 2) === ASTERISK &&\n            this.scanner.source.charCodeAt(end - 1) === SOLIDUS) {\n            end -= 2;\n        }\n\n        return {\n            type: 'Comment',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start + 2, end)\n        };\n    },\n    generate: function(node) {\n        this.chunk('/*');\n        this.chunk(node.value);\n        this.chunk('*/');\n    }\n};\n","var isCustomProperty = require('../../utils/names').isCustomProperty;\nvar TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar IDENT = TYPE.Ident;\nvar HASH = TYPE.Hash;\nvar COLON = TYPE.Colon;\nvar SEMICOLON = TYPE.Semicolon;\nvar DELIM = TYPE.Delim;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\nvar NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nvar DOLLARSIGN = 0x0024;      // U+0024 DOLLAR SIGN ($)\nvar AMPERSAND = 0x0026;       // U+0026 ANPERSAND (&)\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\nfunction consumeValueRaw(startToken) {\n    return this.Raw(startToken, rawMode.exclamationMarkOrSemicolon, true);\n}\n\nfunction consumeCustomPropertyRaw(startToken) {\n    return this.Raw(startToken, rawMode.exclamationMarkOrSemicolon, false);\n}\n\nfunction consumeValue() {\n    var startValueToken = this.scanner.tokenIndex;\n    var value = this.Value();\n\n    if (value.type !== 'Raw' &&\n        this.scanner.eof === false &&\n        this.scanner.tokenType !== SEMICOLON &&\n        this.scanner.isDelim(EXCLAMATIONMARK) === false &&\n        this.scanner.isBalanceEdge(startValueToken) === false) {\n        this.error();\n    }\n\n    return value;\n}\n\nmodule.exports = {\n    name: 'Declaration',\n    structure: {\n        important: [Boolean, String],\n        property: String,\n        value: ['Value', 'Raw']\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var startToken = this.scanner.tokenIndex;\n        var property = readProperty.call(this);\n        var customProperty = isCustomProperty(property);\n        var parseValue = customProperty ? this.parseCustomProperty : this.parseValue;\n        var consumeRaw = customProperty ? consumeCustomPropertyRaw : consumeValueRaw;\n        var important = false;\n        var value;\n\n        this.scanner.skipSC();\n        this.eat(COLON);\n\n        if (!customProperty) {\n            this.scanner.skipSC();\n        }\n\n        if (parseValue) {\n            value = this.parseWithFallback(consumeValue, consumeRaw);\n        } else {\n            value = consumeRaw.call(this, this.scanner.tokenIndex);\n        }\n\n        if (this.scanner.isDelim(EXCLAMATIONMARK)) {\n            important = getImportant.call(this);\n            this.scanner.skipSC();\n        }\n\n        // Do not include semicolon to range per spec\n        // https://drafts.csswg.org/css-syntax/#declaration-diagram\n\n        if (this.scanner.eof === false &&\n            this.scanner.tokenType !== SEMICOLON &&\n            this.scanner.isBalanceEdge(startToken) === false) {\n            this.error();\n        }\n\n        return {\n            type: 'Declaration',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            important: important,\n            property: property,\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.property);\n        this.chunk(':');\n        this.node(node.value);\n\n        if (node.important) {\n            this.chunk(node.important === true ? '!important' : '!' + node.important);\n        }\n    },\n    walkContext: 'declaration'\n};\n\nfunction readProperty() {\n    var start = this.scanner.tokenStart;\n    var prefix = 0;\n\n    // hacks\n    if (this.scanner.tokenType === DELIM) {\n        switch (this.scanner.source.charCodeAt(this.scanner.tokenStart)) {\n            case ASTERISK:\n            case DOLLARSIGN:\n            case PLUSSIGN:\n            case NUMBERSIGN:\n            case AMPERSAND:\n                this.scanner.next();\n                break;\n\n            // TODO: not sure we should support this hack\n            case SOLIDUS:\n                this.scanner.next();\n                if (this.scanner.isDelim(SOLIDUS)) {\n                    this.scanner.next();\n                }\n                break;\n        }\n    }\n\n    if (prefix) {\n        this.scanner.skip(prefix);\n    }\n\n    if (this.scanner.tokenType === HASH) {\n        this.eat(HASH);\n    } else {\n        this.eat(IDENT);\n    }\n\n    return this.scanner.substrToCursor(start);\n}\n\n// ! ws* important\nfunction getImportant() {\n    this.eat(DELIM);\n    this.scanner.skipSC();\n\n    var important = this.consume(IDENT);\n\n    // store original value in case it differ from `important`\n    // for better original source restoring and hacks like `!ie` support\n    return important === 'important' ? true : important;\n}\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar SEMICOLON = TYPE.Semicolon;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.semicolonIncluded, true);\n}\n\nmodule.exports = {\n    name: 'DeclarationList',\n    structure: {\n        children: [[\n            'Declaration'\n        ]]\n    },\n    parse: function() {\n        var children = this.createList();\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case WHITESPACE:\n                case COMMENT:\n                case SEMICOLON:\n                    this.scanner.next();\n                    break;\n\n                default:\n                    children.push(this.parseWithFallback(this.Declaration, consumeRaw));\n            }\n        }\n\n        return {\n            type: 'DeclarationList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function(prev) {\n            if (prev.type === 'Declaration') {\n                this.chunk(';');\n            }\n        });\n    }\n};\n","var consumeNumber = require('../../tokenizer/utils').consumeNumber;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar DIMENSION = TYPE.Dimension;\n\nmodule.exports = {\n    name: 'Dimension',\n    structure: {\n        value: String,\n        unit: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var numberEnd = consumeNumber(this.scanner.source, start);\n\n        this.eat(DIMENSION);\n\n        return {\n            type: 'Dimension',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start, numberEnd),\n            unit: this.scanner.source.substring(numberEnd, this.scanner.tokenStart)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n        this.chunk(node.unit);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// <function-token> <sequence> )\nmodule.exports = {\n    name: 'Function',\n    structure: {\n        name: String,\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var name = this.consumeFunctionName();\n        var nameLowerCase = name.toLowerCase();\n        var children;\n\n        children = recognizer.hasOwnProperty(nameLowerCase)\n            ? recognizer[nameLowerCase].call(this, recognizer)\n            : readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTPARENTHESIS);\n        }\n\n        return {\n            type: 'Function',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n        this.chunk('(');\n        this.children(node);\n        this.chunk(')');\n    },\n    walkContext: 'function'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar HASH = TYPE.Hash;\n\n// '#' ident\nmodule.exports = {\n    name: 'HexColor',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(HASH);\n\n        return {\n            type: 'HexColor',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start + 1)\n        };\n    },\n    generate: function(node) {\n        this.chunk('#');\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\n\nmodule.exports = {\n    name: 'Identifier',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        return {\n            type: 'Identifier',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            name: this.consume(IDENT)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar HASH = TYPE.Hash;\n\n// <hash-token>\nmodule.exports = {\n    name: 'IdSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        // TODO: check value is an ident\n        this.eat(HASH);\n\n        return {\n            type: 'IdSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start + 1)\n        };\n    },\n    generate: function(node) {\n        this.chunk('#');\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\nvar COLON = TYPE.Colon;\nvar DELIM = TYPE.Delim;\n\nmodule.exports = {\n    name: 'MediaFeature',\n    structure: {\n        name: String,\n        value: ['Identifier', 'Number', 'Dimension', 'Ratio', null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var value = null;\n\n        this.eat(LEFTPARENTHESIS);\n        this.scanner.skipSC();\n\n        name = this.consume(IDENT);\n        this.scanner.skipSC();\n\n        if (this.scanner.tokenType !== RIGHTPARENTHESIS) {\n            this.eat(COLON);\n            this.scanner.skipSC();\n\n            switch (this.scanner.tokenType) {\n                case NUMBER:\n                    if (this.lookupNonWSType(1) === DELIM) {\n                        value = this.Ratio();\n                    } else {\n                        value = this.Number();\n                    }\n\n                    break;\n\n                case DIMENSION:\n                    value = this.Dimension();\n                    break;\n\n                case IDENT:\n                    value = this.Identifier();\n\n                    break;\n\n                default:\n                    this.error('Number, dimension, ratio or identifier is expected');\n            }\n\n            this.scanner.skipSC();\n        }\n\n        this.eat(RIGHTPARENTHESIS);\n\n        return {\n            type: 'MediaFeature',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk('(');\n        this.chunk(node.name);\n        if (node.value !== null) {\n            this.chunk(':');\n            this.node(node.value);\n        }\n        this.chunk(')');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nmodule.exports = {\n    name: 'MediaQuery',\n    structure: {\n        children: [[\n            'Identifier',\n            'MediaFeature',\n            'WhiteSpace'\n        ]]\n    },\n    parse: function() {\n        this.scanner.skipSC();\n\n        var children = this.createList();\n        var child = null;\n        var space = null;\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case COMMENT:\n                    this.scanner.next();\n                    continue;\n\n                case WHITESPACE:\n                    space = this.WhiteSpace();\n                    continue;\n\n                case IDENT:\n                    child = this.Identifier();\n                    break;\n\n                case LEFTPARENTHESIS:\n                    child = this.MediaFeature();\n                    break;\n\n                default:\n                    break scan;\n            }\n\n            if (space !== null) {\n                children.push(space);\n                space = null;\n            }\n\n            children.push(child);\n        }\n\n        if (child === null) {\n            this.error('Identifier or parenthesis is expected');\n        }\n\n        return {\n            type: 'MediaQuery',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var COMMA = require('../../tokenizer').TYPE.Comma;\n\nmodule.exports = {\n    name: 'MediaQueryList',\n    structure: {\n        children: [[\n            'MediaQuery'\n        ]]\n    },\n    parse: function(relative) {\n        var children = this.createList();\n\n        this.scanner.skipSC();\n\n        while (!this.scanner.eof) {\n            children.push(this.MediaQuery(relative));\n\n            if (this.scanner.tokenType !== COMMA) {\n                break;\n            }\n\n            this.scanner.next();\n        }\n\n        return {\n            type: 'MediaQueryList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function() {\n            this.chunk(',');\n        });\n    }\n};\n","module.exports = {\n    name: 'Nth',\n    structure: {\n        nth: ['AnPlusB', 'Identifier'],\n        selector: ['SelectorList', null]\n    },\n    parse: function(allowOfClause) {\n        this.scanner.skipSC();\n\n        var start = this.scanner.tokenStart;\n        var end = start;\n        var selector = null;\n        var query;\n\n        if (this.scanner.lookupValue(0, 'odd') || this.scanner.lookupValue(0, 'even')) {\n            query = this.Identifier();\n        } else {\n            query = this.AnPlusB();\n        }\n\n        this.scanner.skipSC();\n\n        if (allowOfClause && this.scanner.lookupValue(0, 'of')) {\n            this.scanner.next();\n\n            selector = this.SelectorList();\n\n            if (this.needPositions) {\n                end = this.getLastListNode(selector.children).loc.end.offset;\n            }\n        } else {\n            if (this.needPositions) {\n                end = query.loc.end.offset;\n            }\n        }\n\n        return {\n            type: 'Nth',\n            loc: this.getLocation(start, end),\n            nth: query,\n            selector: selector\n        };\n    },\n    generate: function(node) {\n        this.node(node.nth);\n        if (node.selector !== null) {\n            this.chunk(' of ');\n            this.node(node.selector);\n        }\n    }\n};\n","var NUMBER = require('../../tokenizer').TYPE.Number;\n\nmodule.exports = {\n    name: 'Number',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        return {\n            type: 'Number',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            value: this.consume(NUMBER)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","// '/' | '*' | ',' | ':' | '+' | '-'\nmodule.exports = {\n    name: 'Operator',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.scanner.next();\n\n        return {\n            type: 'Operator',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\nmodule.exports = {\n    name: 'Parentheses',\n    structure: {\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var children = null;\n\n        this.eat(LEFTPARENTHESIS);\n\n        children = readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTPARENTHESIS);\n        }\n\n        return {\n            type: 'Parentheses',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('(');\n        this.children(node);\n        this.chunk(')');\n    }\n};\n","var consumeNumber = require('../../tokenizer/utils').consumeNumber;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar PERCENTAGE = TYPE.Percentage;\n\nmodule.exports = {\n    name: 'Percentage',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var numberEnd = consumeNumber(this.scanner.source, start);\n\n        this.eat(PERCENTAGE);\n\n        return {\n            type: 'Percentage',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start, numberEnd)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n        this.chunk('%');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// : [ <ident> | <function-token> <any-value>? ) ]\nmodule.exports = {\n    name: 'PseudoClassSelector',\n    structure: {\n        name: String,\n        children: [['Raw'], null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = null;\n        var name;\n        var nameLowerCase;\n\n        this.eat(COLON);\n\n        if (this.scanner.tokenType === FUNCTION) {\n            name = this.consumeFunctionName();\n            nameLowerCase = name.toLowerCase();\n\n            if (this.pseudo.hasOwnProperty(nameLowerCase)) {\n                this.scanner.skipSC();\n                children = this.pseudo[nameLowerCase].call(this);\n                this.scanner.skipSC();\n            } else {\n                children = this.createList();\n                children.push(\n                    this.Raw(this.scanner.tokenIndex, null, false)\n                );\n            }\n\n            this.eat(RIGHTPARENTHESIS);\n        } else {\n            name = this.consume(IDENT);\n        }\n\n        return {\n            type: 'PseudoClassSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk(':');\n        this.chunk(node.name);\n\n        if (node.children !== null) {\n            this.chunk('(');\n            this.children(node);\n            this.chunk(')');\n        }\n    },\n    walkContext: 'function'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// :: [ <ident> | <function-token> <any-value>? ) ]\nmodule.exports = {\n    name: 'PseudoElementSelector',\n    structure: {\n        name: String,\n        children: [['Raw'], null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = null;\n        var name;\n        var nameLowerCase;\n\n        this.eat(COLON);\n        this.eat(COLON);\n\n        if (this.scanner.tokenType === FUNCTION) {\n            name = this.consumeFunctionName();\n            nameLowerCase = name.toLowerCase();\n\n            if (this.pseudo.hasOwnProperty(nameLowerCase)) {\n                this.scanner.skipSC();\n                children = this.pseudo[nameLowerCase].call(this);\n                this.scanner.skipSC();\n            } else {\n                children = this.createList();\n                children.push(\n                    this.Raw(this.scanner.tokenIndex, null, false)\n                );\n            }\n\n            this.eat(RIGHTPARENTHESIS);\n        } else {\n            name = this.consume(IDENT);\n        }\n\n        return {\n            type: 'PseudoElementSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('::');\n        this.chunk(node.name);\n\n        if (node.children !== null) {\n            this.chunk('(');\n            this.children(node);\n            this.chunk(')');\n        }\n    },\n    walkContext: 'function'\n};\n","var isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar NUMBER = TYPE.Number;\nvar DELIM = TYPE.Delim;\nvar SOLIDUS = 0x002F;  // U+002F SOLIDUS (/)\nvar FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// Terms of <ratio> should be a positive numbers (not zero or negative)\n// (see https://drafts.csswg.org/mediaqueries-3/#values)\n// However, -o-min-device-pixel-ratio takes fractional values as a ratio's term\n// and this is using by various sites. Therefore we relax checking on parse\n// to test a term is unsigned number without an exponent part.\n// Additional checking may be applied on lexer validation.\nfunction consumeNumber() {\n    this.scanner.skipWS();\n\n    var value = this.consume(NUMBER);\n\n    for (var i = 0; i < value.length; i++) {\n        var code = value.charCodeAt(i);\n        if (!isDigit(code) && code !== FULLSTOP) {\n            this.error('Unsigned number is expected', this.scanner.tokenStart - value.length + i);\n        }\n    }\n\n    if (Number(value) === 0) {\n        this.error('Zero number is not allowed', this.scanner.tokenStart - value.length);\n    }\n\n    return value;\n}\n\n// <positive-integer> S* '/' S* <positive-integer>\nmodule.exports = {\n    name: 'Ratio',\n    structure: {\n        left: String,\n        right: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var left = consumeNumber.call(this);\n        var right;\n\n        this.scanner.skipWS();\n\n        if (!this.scanner.isDelim(SOLIDUS)) {\n            this.error('Solidus is expected');\n        }\n        this.eat(DELIM);\n        right = consumeNumber.call(this);\n\n        return {\n            type: 'Ratio',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            left: left,\n            right: right\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.left);\n        this.chunk('/');\n        this.chunk(node.right);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracket, true);\n}\n\nfunction consumePrelude() {\n    var prelude = this.SelectorList();\n\n    if (prelude.type !== 'Raw' &&\n        this.scanner.eof === false &&\n        this.scanner.tokenType !== LEFTCURLYBRACKET) {\n        this.error();\n    }\n\n    return prelude;\n}\n\nmodule.exports = {\n    name: 'Rule',\n    structure: {\n        prelude: ['SelectorList', 'Raw'],\n        block: ['Block']\n    },\n    parse: function() {\n        var startToken = this.scanner.tokenIndex;\n        var startOffset = this.scanner.tokenStart;\n        var prelude;\n        var block;\n\n        if (this.parseRulePrelude) {\n            prelude = this.parseWithFallback(consumePrelude, consumeRaw);\n        } else {\n            prelude = consumeRaw.call(this, startToken);\n        }\n\n        block = this.Block(true);\n\n        return {\n            type: 'Rule',\n            loc: this.getLocation(startOffset, this.scanner.tokenStart),\n            prelude: prelude,\n            block: block\n        };\n    },\n    generate: function(node) {\n        this.node(node.prelude);\n        this.node(node.block);\n    },\n    walkContext: 'rule'\n};\n","module.exports = {\n    name: 'Selector',\n    structure: {\n        children: [[\n            'TypeSelector',\n            'IdSelector',\n            'ClassSelector',\n            'AttributeSelector',\n            'PseudoClassSelector',\n            'PseudoElementSelector',\n            'Combinator',\n            'WhiteSpace'\n        ]]\n    },\n    parse: function() {\n        var children = this.readSequence(this.scope.Selector);\n\n        // nothing were consumed\n        if (this.getFirstListNode(children) === null) {\n            this.error('Selector is expected');\n        }\n\n        return {\n            type: 'Selector',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar COMMA = TYPE.Comma;\n\nmodule.exports = {\n    name: 'SelectorList',\n    structure: {\n        children: [[\n            'Selector',\n            'Raw'\n        ]]\n    },\n    parse: function() {\n        var children = this.createList();\n\n        while (!this.scanner.eof) {\n            children.push(this.Selector());\n\n            if (this.scanner.tokenType === COMMA) {\n                this.scanner.next();\n                continue;\n            }\n\n            break;\n        }\n\n        return {\n            type: 'SelectorList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function() {\n            this.chunk(',');\n        });\n    },\n    walkContext: 'selector'\n};\n","var STRING = require('../../tokenizer').TYPE.String;\n\nmodule.exports = {\n    name: 'String',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        return {\n            type: 'String',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            value: this.consume(STRING)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar ATKEYWORD = TYPE.AtKeyword;\nvar CDO = TYPE.CDO;\nvar CDC = TYPE.CDC;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, null, false);\n}\n\nmodule.exports = {\n    name: 'StyleSheet',\n    structure: {\n        children: [[\n            'Comment',\n            'CDO',\n            'CDC',\n            'Atrule',\n            'Rule',\n            'Raw'\n        ]]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = this.createList();\n        var child;\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case WHITESPACE:\n                    this.scanner.next();\n                    continue;\n\n                case COMMENT:\n                    // ignore comments except exclamation comments (i.e. /*! .. */) on top level\n                    if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 2) !== EXCLAMATIONMARK) {\n                        this.scanner.next();\n                        continue;\n                    }\n\n                    child = this.Comment();\n                    break;\n\n                case CDO: // <!--\n                    child = this.CDO();\n                    break;\n\n                case CDC: // -->\n                    child = this.CDC();\n                    break;\n\n                // CSS Syntax Module Level 3\n                // 2.2 Error handling\n                // At the \"top level\" of a stylesheet, an <at-keyword-token> starts an at-rule.\n                case ATKEYWORD:\n                    child = this.parseWithFallback(this.Atrule, consumeRaw);\n                    break;\n\n                // Anything else starts a qualified rule ...\n                default:\n                    child = this.parseWithFallback(this.Rule, consumeRaw);\n            }\n\n            children.push(child);\n        }\n\n        return {\n            type: 'StyleSheet',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    },\n    walkContext: 'stylesheet'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar ASTERISK = 0x002A;     // U+002A ASTERISK (*)\nvar VERTICALLINE = 0x007C; // U+007C VERTICAL LINE (|)\n\nfunction eatIdentifierOrAsterisk() {\n    if (this.scanner.tokenType !== IDENT &&\n        this.scanner.isDelim(ASTERISK) === false) {\n        this.error('Identifier or asterisk is expected');\n    }\n\n    this.scanner.next();\n}\n\n// ident\n// ident|ident\n// ident|*\n// *\n// *|ident\n// *|*\n// |ident\n// |*\nmodule.exports = {\n    name: 'TypeSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        if (this.scanner.isDelim(VERTICALLINE)) {\n            this.scanner.next();\n            eatIdentifierOrAsterisk.call(this);\n        } else {\n            eatIdentifierOrAsterisk.call(this);\n\n            if (this.scanner.isDelim(VERTICALLINE)) {\n                this.scanner.next();\n                eatIdentifierOrAsterisk.call(this);\n            }\n        }\n\n        return {\n            type: 'TypeSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var isHexDigit = require('../../tokenizer').isHexDigit;\nvar cmpChar = require('../../tokenizer').cmpChar;\nvar TYPE = require('../../tokenizer').TYPE;\nvar NAME = require('../../tokenizer').NAME;\n\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nvar QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nvar U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction eatHexSequence(offset, allowDash) {\n    for (var pos = this.scanner.tokenStart + offset, len = 0; pos < this.scanner.tokenEnd; pos++) {\n        var code = this.scanner.source.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && len !== 0) {\n            if (eatHexSequence.call(this, offset + len + 1, false) === 0) {\n                this.error();\n            }\n\n            return -1;\n        }\n\n        if (!isHexDigit(code)) {\n            this.error(\n                allowDash && len !== 0\n                    ? 'HyphenMinus' + (len < 6 ? ' or hex digit' : '') + ' is expected'\n                    : (len < 6 ? 'Hex digit is expected' : 'Unexpected input'),\n                pos\n            );\n        }\n\n        if (++len > 6) {\n            this.error('Too many hex digits', pos);\n        };\n    }\n\n    this.scanner.next();\n    return len;\n}\n\nfunction eatQuestionMarkSequence(max) {\n    var count = 0;\n\n    while (this.scanner.isDelim(QUESTIONMARK)) {\n        if (++count > max) {\n            this.error('Too many question marks');\n        }\n\n        this.scanner.next();\n    }\n}\n\nfunction startsWith(code) {\n    if (this.scanner.source.charCodeAt(this.scanner.tokenStart) !== code) {\n        this.error(NAME[code] + ' is expected');\n    }\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nfunction scanUnicodeRange() {\n    var hexLength = 0;\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (this.scanner.isDelim(PLUSSIGN)) {\n        this.scanner.next();\n\n        if (this.scanner.tokenType === IDENT) {\n            hexLength = eatHexSequence.call(this, 0, true);\n            if (hexLength > 0) {\n                eatQuestionMarkSequence.call(this, 6 - hexLength);\n            }\n            return;\n        }\n\n        if (this.scanner.isDelim(QUESTIONMARK)) {\n            this.scanner.next();\n            eatQuestionMarkSequence.call(this, 5);\n            return;\n        }\n\n        this.error('Hex digit or question mark is expected');\n        return;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (this.scanner.tokenType === NUMBER) {\n        startsWith.call(this, PLUSSIGN);\n        hexLength = eatHexSequence.call(this, 1, true);\n\n        if (this.scanner.isDelim(QUESTIONMARK)) {\n            eatQuestionMarkSequence.call(this, 6 - hexLength);\n            return;\n        }\n\n        if (this.scanner.tokenType === DIMENSION ||\n            this.scanner.tokenType === NUMBER) {\n            startsWith.call(this, HYPHENMINUS);\n            eatHexSequence.call(this, 1, false);\n            return;\n        }\n\n        return;\n    }\n\n    // u <dimension-token> '?'*\n    if (this.scanner.tokenType === DIMENSION) {\n        startsWith.call(this, PLUSSIGN);\n        hexLength = eatHexSequence.call(this, 1, true);\n\n        if (hexLength > 0) {\n            eatQuestionMarkSequence.call(this, 6 - hexLength);\n        }\n\n        return;\n    }\n\n    this.error();\n}\n\nmodule.exports = {\n    name: 'UnicodeRange',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        // U or u\n        if (!cmpChar(this.scanner.source, start, U)) {\n            this.error('U is expected');\n        }\n\n        if (!cmpChar(this.scanner.source, start + 1, PLUSSIGN)) {\n            this.error('Plus sign is expected');\n        }\n\n        this.scanner.next();\n        scanUnicodeRange.call(this);\n\n        return {\n            type: 'UnicodeRange',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var isWhiteSpace = require('../../tokenizer').isWhiteSpace;\nvar cmpStr = require('../../tokenizer').cmpStr;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// <url-token> | <function-token> <string> )\nmodule.exports = {\n    name: 'Url',\n    structure: {\n        value: ['String', 'Raw']\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var value;\n\n        switch (this.scanner.tokenType) {\n            case URL:\n                var rawStart = start + 4;\n                var rawEnd = this.scanner.tokenEnd - 1;\n\n                while (rawStart < rawEnd && isWhiteSpace(this.scanner.source.charCodeAt(rawStart))) {\n                    rawStart++;\n                }\n\n                while (rawStart < rawEnd && isWhiteSpace(this.scanner.source.charCodeAt(rawEnd - 1))) {\n                    rawEnd--;\n                }\n\n                value = {\n                    type: 'Raw',\n                    loc: this.getLocation(rawStart, rawEnd),\n                    value: this.scanner.source.substring(rawStart, rawEnd)\n                };\n\n                this.eat(URL);\n                break;\n\n            case FUNCTION:\n                if (!cmpStr(this.scanner.source, this.scanner.tokenStart, this.scanner.tokenEnd, 'url(')) {\n                    this.error('Function name must be `url`');\n                }\n\n                this.eat(FUNCTION);\n                this.scanner.skipSC();\n                value = this.String();\n                this.scanner.skipSC();\n                this.eat(RIGHTPARENTHESIS);\n                break;\n\n            default:\n                this.error('Url or Function is expected');\n        }\n\n        return {\n            type: 'Url',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk('url');\n        this.chunk('(');\n        this.node(node.value);\n        this.chunk(')');\n    }\n};\n","module.exports = {\n    name: 'Value',\n    structure: {\n        children: [[]]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = this.readSequence(this.scope.Value);\n\n        return {\n            type: 'Value',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var WHITESPACE = require('../../tokenizer').TYPE.WhiteSpace;\nvar SPACE = Object.freeze({\n    type: 'WhiteSpace',\n    loc: null,\n    value: ' '\n});\n\nmodule.exports = {\n    name: 'WhiteSpace',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        this.eat(WHITESPACE);\n        return SPACE;\n\n        // return {\n        //     type: 'WhiteSpace',\n        //     loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n        //     value: this.consume(WHITESPACE)\n        // };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","module.exports = {\n    parseContext: {\n        default: 'StyleSheet',\n        stylesheet: 'StyleSheet',\n        atrule: 'Atrule',\n        atrulePrelude: function(options) {\n            return this.AtrulePrelude(options.atrule ? String(options.atrule) : null);\n        },\n        mediaQueryList: 'MediaQueryList',\n        mediaQuery: 'MediaQuery',\n        rule: 'Rule',\n        selectorList: 'SelectorList',\n        selector: 'Selector',\n        block: function() {\n            return this.Block(true);\n        },\n        declarationList: 'DeclarationList',\n        declaration: 'Declaration',\n        value: 'Value'\n    },\n    scope: require('../scope'),\n    atrule: require('../atrule'),\n    pseudo: require('../pseudo'),\n    node: require('../node')\n};\n","module.exports = {\n    AtrulePrelude: require('./atrulePrelude'),\n    Selector: require('./selector'),\n    Value: require('./value')\n};\n","module.exports = {\n    getNode: require('./default')\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar DELIM = TYPE.Delim;\nvar IDENT = TYPE.Ident;\nvar DIMENSION = TYPE.Dimension;\nvar PERCENTAGE = TYPE.Percentage;\nvar NUMBER = TYPE.Number;\nvar HASH = TYPE.Hash;\nvar COLON = TYPE.Colon;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nvar FULLSTOP = 0x002E;        // U+002E FULL STOP (.)\nvar GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nvar VERTICALLINE = 0x007C;    // U+007C VERTICAL LINE (|)\nvar TILDE = 0x007E;           // U+007E TILDE (~)\n\nfunction getNode(context) {\n    switch (this.scanner.tokenType) {\n        case LEFTSQUAREBRACKET:\n            return this.AttributeSelector();\n\n        case HASH:\n            return this.IdSelector();\n\n        case COLON:\n            if (this.scanner.lookupType(1) === COLON) {\n                return this.PseudoElementSelector();\n            } else {\n                return this.PseudoClassSelector();\n            }\n\n        case IDENT:\n            return this.TypeSelector();\n\n        case NUMBER:\n        case PERCENTAGE:\n            return this.Percentage();\n\n        case DIMENSION:\n            // throws when .123ident\n            if (this.scanner.source.charCodeAt(this.scanner.tokenStart) === FULLSTOP) {\n                this.error('Identifier is expected', this.scanner.tokenStart + 1);\n            }\n            break;\n\n        case DELIM:\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n            switch (code) {\n                case PLUSSIGN:\n                case GREATERTHANSIGN:\n                case TILDE:\n                    context.space = null;\n                    context.ignoreWSAfter = true;\n                    return this.Combinator();\n\n                case SOLIDUS:  // /deep/\n                    return this.Combinator();\n\n                case FULLSTOP:\n                    return this.ClassSelector();\n\n                case ASTERISK:\n                case VERTICALLINE:\n                    return this.TypeSelector();\n\n                case NUMBERSIGN:\n                    return this.IdSelector();\n            }\n\n            break;\n    }\n};\n\nmodule.exports = {\n    getNode: getNode\n};\n","module.exports = {\n    getNode: require('./default'),\n    '-moz-element': require('../function/element'),\n    'element': require('../function/element'),\n    'expression': require('../function/expression'),\n    'var': require('../function/var')\n};\n","// legacy IE function\n// expression( <any-value> )\nmodule.exports = function() {\n    return this.createSingleNodeList(\n        this.Raw(this.scanner.tokenIndex, null, false)\n    );\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('../node/Raw').mode;\n\nvar COMMA = TYPE.Comma;\n\n// var( <ident> , <value>? )\nmodule.exports = function() {\n    var children = this.createList();\n\n    this.scanner.skipSC();\n\n    // NOTE: Don't check more than a first argument is an ident, rest checks are for lexer\n    children.push(this.Identifier());\n\n    this.scanner.skipSC();\n\n    if (this.scanner.tokenType === COMMA) {\n        children.push(this.Operator());\n        children.push(this.parseCustomProperty\n            ? this.Value(null)\n            : this.Raw(this.scanner.tokenIndex, rawMode.exclamationMarkOrSemicolon, false)\n        );\n    }\n\n    return children;\n};\n","module.exports = {\n    'font-face': require('./font-face'),\n    'import': require('./import'),\n    'media': require('./media'),\n    'page': require('./page'),\n    'supports': require('./supports')\n};\n","module.exports = {\n    parse: {\n        prelude: null,\n        block: function() {\n            return this.Block(true);\n        }\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar STRING = TYPE.String;\nvar IDENT = TYPE.Ident;\nvar URL = TYPE.Url;\nvar FUNCTION = TYPE.Function;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nmodule.exports = {\n    parse: {\n        prelude: function() {\n            var children = this.createList();\n\n            this.scanner.skipSC();\n\n            switch (this.scanner.tokenType) {\n                case STRING:\n                    children.push(this.String());\n                    break;\n\n                case URL:\n                case FUNCTION:\n                    children.push(this.Url());\n                    break;\n\n                default:\n                    this.error('String or url() is expected');\n            }\n\n            if (this.lookupNonWSType(0) === IDENT ||\n                this.lookupNonWSType(0) === LEFTPARENTHESIS) {\n                children.push(this.WhiteSpace());\n                children.push(this.MediaQueryList());\n            }\n\n            return children;\n        },\n        block: null\n    }\n};\n","module.exports = {\n    parse: {\n        prelude: function() {\n            return this.createSingleNodeList(\n                this.MediaQueryList()\n            );\n        },\n        block: function() {\n            return this.Block(false);\n        }\n    }\n};\n","module.exports = {\n    parse: {\n        prelude: function() {\n            return this.createSingleNodeList(\n                this.SelectorList()\n            );\n        },\n        block: function() {\n            return this.Block(true);\n        }\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nfunction consumeRaw() {\n    return this.createSingleNodeList(\n        this.Raw(this.scanner.tokenIndex, null, false)\n    );\n}\n\nfunction parentheses() {\n    this.scanner.skipSC();\n\n    if (this.scanner.tokenType === IDENT &&\n        this.lookupNonWSType(1) === COLON) {\n        return this.createSingleNodeList(\n            this.Declaration()\n        );\n    }\n\n    return readSequence.call(this);\n}\n\nfunction readSequence() {\n    var children = this.createList();\n    var space = null;\n    var child;\n\n    this.scanner.skipSC();\n\n    scan:\n    while (!this.scanner.eof) {\n        switch (this.scanner.tokenType) {\n            case WHITESPACE:\n                space = this.WhiteSpace();\n                continue;\n\n            case COMMENT:\n                this.scanner.next();\n                continue;\n\n            case FUNCTION:\n                child = this.Function(consumeRaw, this.scope.AtrulePrelude);\n                break;\n\n            case IDENT:\n                child = this.Identifier();\n                break;\n\n            case LEFTPARENTHESIS:\n                child = this.Parentheses(parentheses, this.scope.AtrulePrelude);\n                break;\n\n            default:\n                break scan;\n        }\n\n        if (space !== null) {\n            children.push(space);\n            space = null;\n        }\n\n        children.push(child);\n    }\n\n    return children;\n}\n\nmodule.exports = {\n    parse: {\n        prelude: function() {\n            var children = readSequence.call(this);\n\n            if (this.getFirstListNode(children) === null) {\n                this.error('Condition is expected');\n            }\n\n            return children;\n        },\n        block: function() {\n            return this.Block(false);\n        }\n    }\n};\n","module.exports = {\n    'dir': require('./dir'),\n    'has': require('./has'),\n    'lang': require('./lang'),\n    'matches': require('./matches'),\n    'not': require('./not'),\n    'nth-child': require('./nth-child'),\n    'nth-last-child': require('./nth-last-child'),\n    'nth-last-of-type': require('./nth-last-of-type'),\n    'nth-of-type': require('./nth-of-type'),\n    'slotted': require('./slotted')\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n","module.exports = require('./common/selectorList');\n","module.exports = require('./common/selectorList');\n","module.exports = require('./common/nthWithOfClause');\n","module.exports = require('./common/nthWithOfClause');\n","module.exports = require('./common/nth');\n","module.exports = require('./common/nth');\n","module.exports = {\n    parse: function compoundSelector() {\n        return this.createSingleNodeList(\n            this.Selector()\n        );\n    }\n};\n","module.exports = {\n    node: require('../node')\n};\n","var List = require('css-tree').List;\nvar clone = require('css-tree').clone;\nvar usageUtils = require('./usage');\nvar clean = require('./clean');\nvar replace = require('./replace');\nvar restructure = require('./restructure');\nvar walk = require('css-tree').walk;\n\nfunction readChunk(children, specialComments) {\n    var buffer = new List();\n    var nonSpaceTokenInBuffer = false;\n    var protectedComment;\n\n    children.nextUntil(children.head, function(node, item, list) {\n        if (node.type === 'Comment') {\n            if (!specialComments || node.value.charAt(0) !== '!') {\n                list.remove(item);\n                return;\n            }\n\n            if (nonSpaceTokenInBuffer || protectedComment) {\n                return true;\n            }\n\n            list.remove(item);\n            protectedComment = node;\n            return;\n        }\n\n        if (node.type !== 'WhiteSpace') {\n            nonSpaceTokenInBuffer = true;\n        }\n\n        buffer.insert(list.remove(item));\n    });\n\n    return {\n        comment: protectedComment,\n        stylesheet: {\n            type: 'StyleSheet',\n            loc: null,\n            children: buffer\n        }\n    };\n}\n\nfunction compressChunk(ast, firstAtrulesAllowed, num, options) {\n    options.logger('Compress block #' + num, null, true);\n\n    var seed = 1;\n\n    if (ast.type === 'StyleSheet') {\n        ast.firstAtrulesAllowed = firstAtrulesAllowed;\n        ast.id = seed++;\n    }\n\n    walk(ast, {\n        visit: 'Atrule',\n        enter: function markScopes(node) {\n            if (node.block !== null) {\n                node.block.id = seed++;\n            }\n        }\n    });\n    options.logger('init', ast);\n\n    // remove redundant\n    clean(ast, options);\n    options.logger('clean', ast);\n\n    // replace nodes for shortened forms\n    replace(ast, options);\n    options.logger('replace', ast);\n\n    // structure optimisations\n    if (options.restructuring) {\n        restructure(ast, options);\n    }\n\n    return ast;\n}\n\nfunction getCommentsOption(options) {\n    var comments = 'comments' in options ? options.comments : 'exclamation';\n\n    if (typeof comments === 'boolean') {\n        comments = comments ? 'exclamation' : false;\n    } else if (comments !== 'exclamation' && comments !== 'first-exclamation') {\n        comments = false;\n    }\n\n    return comments;\n}\n\nfunction getRestructureOption(options) {\n    if ('restructure' in options) {\n        return options.restructure;\n    }\n\n    return 'restructuring' in options ? options.restructuring : true;\n}\n\nfunction wrapBlock(block) {\n    return new List().appendData({\n        type: 'Rule',\n        loc: null,\n        prelude: {\n            type: 'SelectorList',\n            loc: null,\n            children: new List().appendData({\n                type: 'Selector',\n                loc: null,\n                children: new List().appendData({\n                    type: 'TypeSelector',\n                    loc: null,\n                    name: 'x'\n                })\n            })\n        },\n        block: block\n    });\n}\n\nmodule.exports = function compress(ast, options) {\n    ast = ast || { type: 'StyleSheet', loc: null, children: new List() };\n    options = options || {};\n\n    var compressOptions = {\n        logger: typeof options.logger === 'function' ? options.logger : function() {},\n        restructuring: getRestructureOption(options),\n        forceMediaMerge: Boolean(options.forceMediaMerge),\n        usage: options.usage ? usageUtils.buildIndex(options.usage) : false\n    };\n    var specialComments = getCommentsOption(options);\n    var firstAtrulesAllowed = true;\n    var input;\n    var output = new List();\n    var chunk;\n    var chunkNum = 1;\n    var chunkChildren;\n\n    if (options.clone) {\n        ast = clone(ast);\n    }\n\n    if (ast.type === 'StyleSheet') {\n        input = ast.children;\n        ast.children = output;\n    } else {\n        input = wrapBlock(ast);\n    }\n\n    do {\n        chunk = readChunk(input, Boolean(specialComments));\n        compressChunk(chunk.stylesheet, firstAtrulesAllowed, chunkNum++, compressOptions);\n        chunkChildren = chunk.stylesheet.children;\n\n        if (chunk.comment) {\n            // add \\n before comment if there is another content in output\n            if (!output.isEmpty()) {\n                output.insert(List.createItem({\n                    type: 'Raw',\n                    value: '\\n'\n                }));\n            }\n\n            output.insert(List.createItem(chunk.comment));\n\n            // add \\n after comment if chunk is not empty\n            if (!chunkChildren.isEmpty()) {\n                output.insert(List.createItem({\n                    type: 'Raw',\n                    value: '\\n'\n                }));\n            }\n        }\n\n        if (firstAtrulesAllowed && !chunkChildren.isEmpty()) {\n            var lastRule = chunkChildren.last();\n\n            if (lastRule.type !== 'Atrule' ||\n               (lastRule.name !== 'import' && lastRule.name !== 'charset')) {\n                firstAtrulesAllowed = false;\n            }\n        }\n\n        if (specialComments !== 'exclamation') {\n            specialComments = false;\n        }\n\n        output.appendList(chunkChildren);\n    } while (!input.isEmpty());\n\n    return {\n        ast: ast\n    };\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction buildMap(list, caseInsensitive) {\n    var map = Object.create(null);\n\n    if (!Array.isArray(list)) {\n        return null;\n    }\n\n    for (var i = 0; i < list.length; i++) {\n        var name = list[i];\n\n        if (caseInsensitive) {\n            name = name.toLowerCase();\n        }\n\n        map[name] = true;\n    }\n\n    return map;\n}\n\nfunction buildList(data) {\n    if (!data) {\n        return null;\n    }\n\n    var tags = buildMap(data.tags, true);\n    var ids = buildMap(data.ids);\n    var classes = buildMap(data.classes);\n\n    if (tags === null &&\n        ids === null &&\n        classes === null) {\n        return null;\n    }\n\n    return {\n        tags: tags,\n        ids: ids,\n        classes: classes\n    };\n}\n\nfunction buildIndex(data) {\n    var scopes = false;\n\n    if (data.scopes && Array.isArray(data.scopes)) {\n        scopes = Object.create(null);\n\n        for (var i = 0; i < data.scopes.length; i++) {\n            var list = data.scopes[i];\n\n            if (!list || !Array.isArray(list)) {\n                throw new Error('Wrong usage format');\n            }\n\n            for (var j = 0; j < list.length; j++) {\n                var name = list[j];\n\n                if (hasOwnProperty.call(scopes, name)) {\n                    throw new Error('Class can\\'t be used for several scopes: ' + name);\n                }\n\n                scopes[name] = i + 1;\n            }\n        }\n    }\n\n    return {\n        whitelist: buildList(data),\n        blacklist: buildList(data.blacklist),\n        scopes: scopes\n    };\n}\n\nmodule.exports = {\n    buildIndex: buildIndex\n};\n","var walk = require('css-tree').walk;\nvar handlers = {\n    Atrule: require('./Atrule'),\n    Comment: require('./Comment'),\n    Declaration: require('./Declaration'),\n    Raw: require('./Raw'),\n    Rule: require('./Rule'),\n    TypeSelector: require('./TypeSelector'),\n    WhiteSpace: require('./WhiteSpace')\n};\n\nmodule.exports = function(ast, options) {\n    walk(ast, {\n        leave: function(node, item, list) {\n            if (handlers.hasOwnProperty(node.type)) {\n                handlers[node.type].call(this, node, item, list, options);\n            }\n        }\n    });\n};\n","var resolveKeyword = require('css-tree').keyword;\nvar { hasNoChildren } = require('./utils');\n\nmodule.exports = function cleanAtrule(node, item, list) {\n    if (node.block) {\n        // otherwise removed at-rule don't prevent @import for removal\n        if (this.stylesheet !== null) {\n            this.stylesheet.firstAtrulesAllowed = false;\n        }\n\n        if (hasNoChildren(node.block)) {\n            list.remove(item);\n            return;\n        }\n    }\n\n    switch (node.name) {\n        case 'charset':\n            if (hasNoChildren(node.prelude)) {\n                list.remove(item);\n                return;\n            }\n\n            // if there is any rule before @charset -> remove it\n            if (item.prev) {\n                list.remove(item);\n                return;\n            }\n\n            break;\n\n        case 'import':\n            if (this.stylesheet === null || !this.stylesheet.firstAtrulesAllowed) {\n                list.remove(item);\n                return;\n            }\n\n            // if there are some rules that not an @import or @charset before @import\n            // remove it\n            list.prevUntil(item.prev, function(rule) {\n                if (rule.type === 'Atrule') {\n                    if (rule.name === 'import' || rule.name === 'charset') {\n                        return;\n                    }\n                }\n\n                this.root.firstAtrulesAllowed = false;\n                list.remove(item);\n                return true;\n            }, this);\n\n            break;\n\n        default:\n            var name = resolveKeyword(node.name).basename;\n            if (name === 'keyframes' ||\n                name === 'media' ||\n                name === 'supports') {\n\n                // drop at-rule with no prelude\n                if (hasNoChildren(node.prelude) || hasNoChildren(node.block)) {\n                    list.remove(item);\n                }\n            }\n    }\n};\n","module.exports = function cleanComment(data, item, list) {\n    list.remove(item);\n};\n","module.exports = function cleanDeclartion(node, item, list) {\n    if (node.value.children && node.value.children.isEmpty()) {\n        list.remove(item);\n    }\n};\n","var { isNodeChildrenList } = require('./utils');\n\nmodule.exports = function cleanRaw(node, item, list) {\n    // raw in stylesheet or block children\n    if (isNodeChildrenList(this.stylesheet, list) ||\n        isNodeChildrenList(this.block, list)) {\n        list.remove(item);\n    }\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar walk = require('css-tree').walk;\nvar { hasNoChildren } = require('./utils');\n\nfunction cleanUnused(selectorList, usageData) {\n    selectorList.children.each(function(selector, item, list) {\n        var shouldRemove = false;\n\n        walk(selector, function(node) {\n            // ignore nodes in nested selectors\n            if (this.selector === null || this.selector === selectorList) {\n                switch (node.type) {\n                    case 'SelectorList':\n                        // TODO: remove toLowerCase when pseudo selectors will be normalized\n                        // ignore selectors inside :not()\n                        if (this.function === null || this.function.name.toLowerCase() !== 'not') {\n                            if (cleanUnused(node, usageData)) {\n                                shouldRemove = true;\n                            }\n                        }\n                        break;\n\n                    case 'ClassSelector':\n                        if (usageData.whitelist !== null &&\n                            usageData.whitelist.classes !== null &&\n                            !hasOwnProperty.call(usageData.whitelist.classes, node.name)) {\n                            shouldRemove = true;\n                        }\n                        if (usageData.blacklist !== null &&\n                            usageData.blacklist.classes !== null &&\n                            hasOwnProperty.call(usageData.blacklist.classes, node.name)) {\n                            shouldRemove = true;\n                        }\n                        break;\n\n                    case 'IdSelector':\n                        if (usageData.whitelist !== null &&\n                            usageData.whitelist.ids !== null &&\n                            !hasOwnProperty.call(usageData.whitelist.ids, node.name)) {\n                            shouldRemove = true;\n                        }\n                        if (usageData.blacklist !== null &&\n                            usageData.blacklist.ids !== null &&\n                            hasOwnProperty.call(usageData.blacklist.ids, node.name)) {\n                            shouldRemove = true;\n                        }\n                        break;\n\n                    case 'TypeSelector':\n                        // TODO: remove toLowerCase when type selectors will be normalized\n                        // ignore universal selectors\n                        if (node.name.charAt(node.name.length - 1) !== '*') {\n                            if (usageData.whitelist !== null &&\n                                usageData.whitelist.tags !== null &&\n                                !hasOwnProperty.call(usageData.whitelist.tags, node.name.toLowerCase())) {\n                                shouldRemove = true;\n                            }\n                            if (usageData.blacklist !== null &&\n                                usageData.blacklist.tags !== null &&\n                                hasOwnProperty.call(usageData.blacklist.tags, node.name.toLowerCase())) {\n                                shouldRemove = true;\n                            }\n                        }\n                        break;\n                }\n            }\n        });\n\n        if (shouldRemove) {\n            list.remove(item);\n        }\n    });\n\n    return selectorList.children.isEmpty();\n}\n\nmodule.exports = function cleanRule(node, item, list, options) {\n    if (hasNoChildren(node.prelude) || hasNoChildren(node.block)) {\n        list.remove(item);\n        return;\n    }\n\n    var usageData = options.usage;\n\n    if (usageData && (usageData.whitelist !== null || usageData.blacklist !== null)) {\n        cleanUnused(node.prelude, usageData);\n\n        if (hasNoChildren(node.prelude)) {\n            list.remove(item);\n            return;\n        }\n    }\n};\n","// remove useless universal selector\nmodule.exports = function cleanTypeSelector(node, item, list) {\n    var name = item.data.name;\n\n    // check it's a non-namespaced universal selector\n    if (name !== '*') {\n        return;\n    }\n\n    // remove when universal selector before other selectors\n    var nextType = item.next && item.next.data.type;\n    if (nextType === 'IdSelector' ||\n        nextType === 'ClassSelector' ||\n        nextType === 'AttributeSelector' ||\n        nextType === 'PseudoClassSelector' ||\n        nextType === 'PseudoElementSelector') {\n        list.remove(item);\n    }\n};\n","var { isNodeChildrenList } = require('./utils');\n\nfunction isSafeOperator(node) {\n    return node.type === 'Operator' && node.value !== '+' && node.value !== '-';\n}\n\nmodule.exports = function cleanWhitespace(node, item, list) {\n    // remove when first or last item in sequence\n    if (item.next === null || item.prev === null) {\n        list.remove(item);\n        return;\n    }\n\n    // white space in stylesheet or block children\n    if (isNodeChildrenList(this.stylesheet, list) ||\n        isNodeChildrenList(this.block, list)) {\n        list.remove(item);\n        return;\n    }\n\n    if (item.next.data.type === 'WhiteSpace') {\n        list.remove(item);\n        return;\n    }\n\n    if (isSafeOperator(item.prev.data) || isSafeOperator(item.next.data)) {\n        list.remove(item);\n        return;\n    }\n};\n","var walk = require('css-tree').walk;\nvar handlers = {\n    Atrule: require('./Atrule'),\n    AttributeSelector: require('./AttributeSelector'),\n    Value: require('./Value'),\n    Dimension: require('./Dimension'),\n    Percentage: require('./Percentage'),\n    Number: require('./Number'),\n    String: require('./String'),\n    Url: require('./Url'),\n    HexColor: require('./color').compressHex,\n    Identifier: require('./color').compressIdent,\n    Function: require('./color').compressFunction\n};\n\nmodule.exports = function(ast) {\n    walk(ast, {\n        leave: function(node, item, list) {\n            if (handlers.hasOwnProperty(node.type)) {\n                handlers[node.type].call(this, node, item, list);\n            }\n        }\n    });\n};\n","var resolveKeyword = require('css-tree').keyword;\nvar compressKeyframes = require('./atrule/keyframes');\n\nmodule.exports = function(node) {\n    // compress @keyframe selectors\n    if (resolveKeyword(node.name).basename === 'keyframes') {\n        compressKeyframes(node);\n    }\n};\n","module.exports = function(node) {\n    node.block.children.each(function(rule) {\n        rule.prelude.children.each(function(simpleselector) {\n            simpleselector.children.each(function(data, item) {\n                if (data.type === 'Percentage' && data.value === '100') {\n                    item.data = {\n                        type: 'TypeSelector',\n                        loc: data.loc,\n                        name: 'to'\n                    };\n                } else if (data.type === 'TypeSelector' && data.name === 'from') {\n                    item.data = {\n                        type: 'Percentage',\n                        loc: data.loc,\n                        value: '0'\n                    };\n                }\n            });\n        });\n    });\n};\n","// Can unquote attribute detection\n// Adopted implementation of Mathias Bynens\n// https://github.com/mathiasbynens/mothereff.in/blob/master/unquoted-attributes/eff.js\nvar escapesRx = /\\\\([0-9A-Fa-f]{1,6})(\\r\\n|[ \\t\\n\\f\\r])?|\\\\./g;\nvar blockUnquoteRx = /^(-?\\d|--)|[\\u0000-\\u002c\\u002e\\u002f\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u009f]/;\n\nfunction canUnquote(value) {\n    if (value === '' || value === '-') {\n        return;\n    }\n\n    // Escapes are valid, so replace them with a valid non-empty string\n    value = value.replace(escapesRx, 'a');\n\n    return !blockUnquoteRx.test(value);\n}\n\nmodule.exports = function(node) {\n    var attrValue = node.value;\n\n    if (!attrValue || attrValue.type !== 'String') {\n        return;\n    }\n\n    var unquotedValue = attrValue.value.replace(/^(.)(.*)\\1$/, '$2');\n    if (canUnquote(unquotedValue)) {\n        node.value = {\n            type: 'Identifier',\n            loc: attrValue.loc,\n            name: unquotedValue\n        };\n    }\n};\n","var resolveName = require('css-tree').property;\nvar handlers = {\n    'font': require('./property/font'),\n    'font-weight': require('./property/font-weight'),\n    'background': require('./property/background'),\n    'border': require('./property/border'),\n    'outline': require('./property/border')\n};\n\nmodule.exports = function compressValue(node) {\n    if (!this.declaration) {\n        return;\n    }\n\n    var property = resolveName(this.declaration.property);\n\n    if (handlers.hasOwnProperty(property.basename)) {\n        handlers[property.basename](node);\n    }\n};\n","module.exports = function compressFont(node) {\n    var list = node.children;\n\n    list.eachRight(function(node, item) {\n        if (node.type === 'Identifier') {\n            if (node.name === 'bold') {\n                item.data = {\n                    type: 'Number',\n                    loc: node.loc,\n                    value: '700'\n                };\n            } else if (node.name === 'normal') {\n                var prev = item.prev;\n\n                if (prev && prev.data.type === 'Operator' && prev.data.value === '/') {\n                    this.remove(prev);\n                }\n\n                this.remove(item);\n            } else if (node.name === 'medium') {\n                var next = item.next;\n\n                if (!next || next.data.type !== 'Operator') {\n                    this.remove(item);\n                }\n            }\n        }\n    });\n\n    // remove redundant spaces\n    list.each(function(node, item) {\n        if (node.type === 'WhiteSpace') {\n            if (!item.prev || !item.next || item.next.data.type === 'WhiteSpace') {\n                this.remove(item);\n            }\n        }\n    });\n\n    if (list.isEmpty()) {\n        list.insert(list.createItem({\n            type: 'Identifier',\n            name: 'normal'\n        }));\n    }\n};\n","module.exports = function compressFontWeight(node) {\n    var value = node.children.head.data;\n\n    if (value.type === 'Identifier') {\n        switch (value.name) {\n            case 'normal':\n                node.children.head.data = {\n                    type: 'Number',\n                    loc: value.loc,\n                    value: '400'\n                };\n                break;\n            case 'bold':\n                node.children.head.data = {\n                    type: 'Number',\n                    loc: value.loc,\n                    value: '700'\n                };\n                break;\n        }\n    }\n};\n","var List = require('css-tree').List;\n\nmodule.exports = function compressBackground(node) {\n    function lastType() {\n        if (buffer.length) {\n            return buffer[buffer.length - 1].type;\n        }\n    }\n\n    function flush() {\n        if (lastType() === 'WhiteSpace') {\n            buffer.pop();\n        }\n\n        if (!buffer.length) {\n            buffer.unshift(\n                {\n                    type: 'Number',\n                    loc: null,\n                    value: '0'\n                },\n                {\n                    type: 'WhiteSpace',\n                    value: ' '\n                },\n                {\n                    type: 'Number',\n                    loc: null,\n                    value: '0'\n                }\n            );\n        }\n\n        newValue.push.apply(newValue, buffer);\n\n        buffer = [];\n    }\n\n    var newValue = [];\n    var buffer = [];\n\n    node.children.each(function(node) {\n        if (node.type === 'Operator' && node.value === ',') {\n            flush();\n            newValue.push(node);\n            return;\n        }\n\n        // remove defaults\n        if (node.type === 'Identifier') {\n            if (node.name === 'transparent' ||\n                node.name === 'none' ||\n                node.name === 'repeat' ||\n                node.name === 'scroll') {\n                return;\n            }\n        }\n\n        // don't add redundant spaces\n        if (node.type === 'WhiteSpace' && (!buffer.length || lastType() === 'WhiteSpace')) {\n            return;\n        }\n\n        buffer.push(node);\n    });\n\n    flush();\n    node.children = new List().fromArray(newValue);\n};\n","var packNumber = require('./Number').pack;\nvar LENGTH_UNIT = {\n    // absolute length units\n    'px': true,\n    'mm': true,\n    'cm': true,\n    'in': true,\n    'pt': true,\n    'pc': true,\n\n    // relative length units\n    'em': true,\n    'ex': true,\n    'ch': true,\n    'rem': true,\n\n    // viewport-percentage lengths\n    'vh': true,\n    'vw': true,\n    'vmin': true,\n    'vmax': true,\n    'vm': true\n};\n\nmodule.exports = function compressDimension(node, item) {\n    var value = packNumber(node.value, item);\n\n    node.value = value;\n\n    if (value === '0' && this.declaration !== null && this.atrulePrelude === null) {\n        var unit = node.unit.toLowerCase();\n\n        // only length values can be compressed\n        if (!LENGTH_UNIT.hasOwnProperty(unit)) {\n            return;\n        }\n\n        // issue #362: shouldn't remove unit in -ms-flex since it breaks flex in IE10/11\n        // issue #200: shouldn't remove unit in flex since it breaks flex in IE10/11\n        if (this.declaration.property === '-ms-flex' ||\n            this.declaration.property === 'flex') {\n            return;\n        }\n\n        // issue #222: don't remove units inside calc\n        if (this.function && this.function.name === 'calc') {\n            return;\n        }\n\n        item.data = {\n            type: 'Number',\n            loc: node.loc,\n            value: value\n        };\n    }\n};\n","var lexer = require('css-tree').lexer;\nvar packNumber = require('./Number').pack;\nvar blacklist = new Set([\n    // see https://github.com/jakubpawlowicz/clean-css/issues/957\n    'width',\n    'min-width',\n    'max-width',\n    'height',\n    'min-height',\n    'max-height',\n\n    // issue #410: Dont remove units in flex-basis value for (-ms-)flex shorthand\n    // issue #362: shouldn't remove unit in -ms-flex since it breaks flex in IE10/11\n    // issue #200: shouldn't remove unit in flex since it breaks flex in IE10/11\n    'flex',\n    '-ms-flex'\n]);\n\nmodule.exports = function compressPercentage(node, item) {\n    node.value = packNumber(node.value, item);\n\n    if (node.value === '0' && this.declaration && !blacklist.has(this.declaration.property)) {\n        // try to convert a number\n        item.data = {\n            type: 'Number',\n            loc: node.loc,\n            value: node.value\n        };\n\n        // that's ok only when new value matches on length\n        if (!lexer.matchDeclaration(this.declaration).isType(item.data, 'length')) {\n            // otherwise rollback changes\n            item.data = node;\n        }\n    }\n};\n","module.exports = function(node) {\n    var value = node.value;\n\n    // remove escaped newlines, i.e.\n    // .a { content: \"foo\\\n    // bar\"}\n    // ->\n    // .a { content: \"foobar\" }\n    value = value.replace(/\\\\(\\r\\n|\\r|\\n|\\f)/g, '');\n\n    node.value = value;\n};\n","var UNICODE = '\\\\\\\\[0-9a-f]{1,6}(\\\\r\\\\n|[ \\\\n\\\\r\\\\t\\\\f])?';\nvar ESCAPE = '(' + UNICODE + '|\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F])';\nvar NONPRINTABLE = '\\u0000\\u0008\\u000b\\u000e-\\u001f\\u007f';\nvar SAFE_URL = new RegExp('^(' + ESCAPE + '|[^\\\"\\'\\\\(\\\\)\\\\\\\\\\\\s' + NONPRINTABLE + '])*$', 'i');\n\nmodule.exports = function(node) {\n    var value = node.value;\n\n    if (value.type !== 'String') {\n        return;\n    }\n\n    var quote = value.value[0];\n    var url = value.value.substr(1, value.value.length - 2);\n\n    // convert `\\\\` to `/`\n    url = url.replace(/\\\\\\\\/g, '/');\n\n    // remove quotes when safe\n    // https://www.w3.org/TR/css-syntax-3/#url-unquoted-diagram\n    if (SAFE_URL.test(url)) {\n        node.value = {\n            type: 'Raw',\n            loc: node.value.loc,\n            value: url\n        };\n    } else {\n        // use double quotes if string has no double quotes\n        // otherwise use original quotes\n        // TODO: make better quote type selection\n        node.value.value = url.indexOf('\"') === -1 ? '\"' + url + '\"' : quote + url + quote;\n    }\n};\n","var prepare = require('./prepare/index');\nvar mergeAtrule = require('./1-mergeAtrule');\nvar initialMergeRuleset = require('./2-initialMergeRuleset');\nvar disjoinRuleset = require('./3-disjoinRuleset');\nvar restructShorthand = require('./4-restructShorthand');\nvar restructBlock = require('./6-restructBlock');\nvar mergeRuleset = require('./7-mergeRuleset');\nvar restructRuleset = require('./8-restructRuleset');\n\nmodule.exports = function(ast, options) {\n    // prepare ast for restructing\n    var indexer = prepare(ast, options);\n    options.logger('prepare', ast);\n\n    mergeAtrule(ast, options);\n    options.logger('mergeAtrule', ast);\n\n    initialMergeRuleset(ast);\n    options.logger('initialMergeRuleset', ast);\n\n    disjoinRuleset(ast);\n    options.logger('disjoinRuleset', ast);\n\n    restructShorthand(ast, indexer);\n    options.logger('restructShorthand', ast);\n\n    restructBlock(ast);\n    options.logger('restructBlock', ast);\n\n    mergeRuleset(ast);\n    options.logger('mergeRuleset', ast);\n\n    restructRuleset(ast);\n    options.logger('restructRuleset', ast);\n};\n","var resolveKeyword = require('css-tree').keyword;\nvar walk = require('css-tree').walk;\nvar generate = require('css-tree').generate;\nvar createDeclarationIndexer = require('./createDeclarationIndexer');\nvar processSelector = require('./processSelector');\n\nmodule.exports = function prepare(ast, options) {\n    var markDeclaration = createDeclarationIndexer();\n\n    walk(ast, {\n        visit: 'Rule',\n        enter: function processRule(node) {\n            node.block.children.each(markDeclaration);\n            processSelector(node, options.usage);\n        }\n    });\n\n    walk(ast, {\n        visit: 'Atrule',\n        enter: function(node) {\n            if (node.prelude) {\n                node.prelude.id = null; // pre-init property to avoid multiple hidden class for generate\n                node.prelude.id = generate(node.prelude);\n            }\n\n            // compare keyframe selectors by its values\n            // NOTE: still no clarification about problems with keyframes selector grouping (issue #197)\n            if (resolveKeyword(node.name).basename === 'keyframes') {\n                node.block.avoidRulesMerge = true;  /* probably we don't need to prevent those merges for @keyframes\n                                                       TODO: need to be checked */\n                node.block.children.each(function(rule) {\n                    rule.prelude.children.each(function(simpleselector) {\n                        simpleselector.compareMarker = simpleselector.id;\n                    });\n                });\n            }\n        }\n    });\n\n    return {\n        declaration: markDeclaration\n    };\n};\n","var generate = require('css-tree').generate;\n\nfunction Index() {\n    this.seed = 0;\n    this.map = Object.create(null);\n}\n\nIndex.prototype.resolve = function(str) {\n    var index = this.map[str];\n\n    if (!index) {\n        index = ++this.seed;\n        this.map[str] = index;\n    }\n\n    return index;\n};\n\nmodule.exports = function createDeclarationIndexer() {\n    var ids = new Index();\n\n    return function markDeclaration(node) {\n        var id = generate(node);\n\n        node.id = ids.resolve(id);\n        node.length = id.length;\n        node.fingerprint = null;\n\n        return node;\n    };\n};\n","var generate = require('css-tree').generate;\nvar specificity = require('./specificity');\n\nvar nonFreezePseudoElements = {\n    'first-letter': true,\n    'first-line': true,\n    'after': true,\n    'before': true\n};\nvar nonFreezePseudoClasses = {\n    'link': true,\n    'visited': true,\n    'hover': true,\n    'active': true,\n    'first-letter': true,\n    'first-line': true,\n    'after': true,\n    'before': true\n};\n\nmodule.exports = function freeze(node, usageData) {\n    var pseudos = Object.create(null);\n    var hasPseudo = false;\n\n    node.prelude.children.each(function(simpleSelector) {\n        var tagName = '*';\n        var scope = 0;\n\n        simpleSelector.children.each(function(node) {\n            switch (node.type) {\n                case 'ClassSelector':\n                    if (usageData && usageData.scopes) {\n                        var classScope = usageData.scopes[node.name] || 0;\n\n                        if (scope !== 0 && classScope !== scope) {\n                            throw new Error('Selector can\\'t has classes from different scopes: ' + generate(simpleSelector));\n                        }\n\n                        scope = classScope;\n                    }\n                    break;\n\n                case 'PseudoClassSelector':\n                    var name = node.name.toLowerCase();\n\n                    if (!nonFreezePseudoClasses.hasOwnProperty(name)) {\n                        pseudos[name] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'PseudoElementSelector':\n                    var name = node.name.toLowerCase();\n\n                    if (!nonFreezePseudoElements.hasOwnProperty(name)) {\n                        pseudos[name] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'TypeSelector':\n                    tagName = node.name.toLowerCase();\n                    break;\n\n                case 'AttributeSelector':\n                    if (node.flags) {\n                        pseudos['[' + node.flags.toLowerCase() + ']'] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'WhiteSpace':\n                case 'Combinator':\n                    tagName = '*';\n                    break;\n            }\n        });\n\n        simpleSelector.compareMarker = specificity(simpleSelector).toString();\n        simpleSelector.id = null; // pre-init property to avoid multiple hidden class\n        simpleSelector.id = generate(simpleSelector);\n\n        if (scope) {\n            simpleSelector.compareMarker += ':' + scope;\n        }\n\n        if (tagName !== '*') {\n            simpleSelector.compareMarker += ',' + tagName;\n        }\n    });\n\n    // add property to all rule nodes to avoid multiple hidden class\n    node.pseudoSignature = hasPseudo && Object.keys(pseudos).sort().join(',');\n};\n","module.exports = function specificity(simpleSelector) {\n    var A = 0;\n    var B = 0;\n    var C = 0;\n\n    simpleSelector.children.each(function walk(node) {\n        switch (node.type) {\n            case 'SelectorList':\n            case 'Selector':\n                node.children.each(walk);\n                break;\n\n            case 'IdSelector':\n                A++;\n                break;\n\n            case 'ClassSelector':\n            case 'AttributeSelector':\n                B++;\n                break;\n\n            case 'PseudoClassSelector':\n                switch (node.name.toLowerCase()) {\n                    case 'not':\n                        node.children.each(walk);\n                        break;\n\n                    case 'before':\n                    case 'after':\n                    case 'first-line':\n                    case 'first-letter':\n                        C++;\n                        break;\n\n                    // TODO: support for :nth-*(.. of <SelectorList>), :matches(), :has()\n                    default:\n                        B++;\n                }\n                break;\n\n            case 'PseudoElementSelector':\n                C++;\n                break;\n\n            case 'TypeSelector':\n                // ignore universal selector\n                if (node.name.charAt(node.name.length - 1) !== '*') {\n                    C++;\n                }\n                break;\n\n        }\n    });\n\n    return [A, B, C];\n};\n","var List = require('css-tree').List;\nvar resolveKeyword = require('css-tree').keyword;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar walk = require('css-tree').walk;\n\nfunction addRuleToMap(map, item, list, single) {\n    var node = item.data;\n    var name = resolveKeyword(node.name).basename;\n    var id = node.name.toLowerCase() + '/' + (node.prelude ? node.prelude.id : null);\n\n    if (!hasOwnProperty.call(map, name)) {\n        map[name] = Object.create(null);\n    }\n\n    if (single) {\n        delete map[name][id];\n    }\n\n    if (!hasOwnProperty.call(map[name], id)) {\n        map[name][id] = new List();\n    }\n\n    map[name][id].append(list.remove(item));\n}\n\nfunction relocateAtrules(ast, options) {\n    var collected = Object.create(null);\n    var topInjectPoint = null;\n\n    ast.children.each(function(node, item, list) {\n        if (node.type === 'Atrule') {\n            var name = resolveKeyword(node.name).basename;\n\n            switch (name) {\n                case 'keyframes':\n                    addRuleToMap(collected, item, list, true);\n                    return;\n\n                case 'media':\n                    if (options.forceMediaMerge) {\n                        addRuleToMap(collected, item, list, false);\n                        return;\n                    }\n                    break;\n            }\n\n            if (topInjectPoint === null &&\n                name !== 'charset' &&\n                name !== 'import') {\n                topInjectPoint = item;\n            }\n        } else {\n            if (topInjectPoint === null) {\n                topInjectPoint = item;\n            }\n        }\n    });\n\n    for (var atrule in collected) {\n        for (var id in collected[atrule]) {\n            ast.children.insertList(\n                collected[atrule][id],\n                atrule === 'media' ? null : topInjectPoint\n            );\n        }\n    }\n};\n\nfunction isMediaRule(node) {\n    return node.type === 'Atrule' && node.name === 'media';\n}\n\nfunction processAtrule(node, item, list) {\n    if (!isMediaRule(node)) {\n        return;\n    }\n\n    var prev = item.prev && item.prev.data;\n\n    if (!prev || !isMediaRule(prev)) {\n        return;\n    }\n\n    // merge @media with same query\n    if (node.prelude &&\n        prev.prelude &&\n        node.prelude.id === prev.prelude.id) {\n        prev.block.children.appendList(node.block.children);\n        list.remove(item);\n\n        // TODO: use it when we can refer to several points in source\n        // prev.loc = {\n        //     primary: prev.loc,\n        //     merged: node.loc\n        // };\n    }\n}\n\nmodule.exports = function rejoinAtrule(ast, options) {\n    relocateAtrules(ast, options);\n\n    walk(ast, {\n        visit: 'Atrule',\n        reverse: true,\n        enter: processAtrule\n    });\n};\n","var walk = require('css-tree').walk;\nvar utils = require('./utils');\n\nfunction processRule(node, item, list) {\n    var selectors = node.prelude.children;\n    var declarations = node.block.children;\n\n    list.prevUntil(item.prev, function(prev) {\n        // skip non-ruleset node if safe\n        if (prev.type !== 'Rule') {\n            return utils.unsafeToSkipNode.call(selectors, prev);\n        }\n\n        var prevSelectors = prev.prelude.children;\n        var prevDeclarations = prev.block.children;\n\n        // try to join rulesets with equal pseudo signature\n        if (node.pseudoSignature === prev.pseudoSignature) {\n            // try to join by selectors\n            if (utils.isEqualSelectors(prevSelectors, selectors)) {\n                prevDeclarations.appendList(declarations);\n                list.remove(item);\n                return true;\n            }\n\n            // try to join by declarations\n            if (utils.isEqualDeclarations(declarations, prevDeclarations)) {\n                utils.addSelectors(prevSelectors, selectors);\n                list.remove(item);\n                return true;\n            }\n        }\n\n        // go to prev ruleset if has no selector similarities\n        return utils.hasSimilarSelectors(selectors, prevSelectors);\n    });\n}\n\n// NOTE: direction should be left to right, since rulesets merge to left\n// ruleset. When direction right to left unmerged rulesets may prevent lookup\n// TODO: remove initial merge\nmodule.exports = function initialMergeRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        enter: processRule\n    });\n};\n","var List = require('css-tree').List;\nvar walk = require('css-tree').walk;\n\nfunction processRule(node, item, list) {\n    var selectors = node.prelude.children;\n\n    // generate new rule sets:\n    // .a, .b { color: red; }\n    // ->\n    // .a { color: red; }\n    // .b { color: red; }\n\n    // while there are more than 1 simple selector split for rulesets\n    while (selectors.head !== selectors.tail) {\n        var newSelectors = new List();\n        newSelectors.insert(selectors.remove(selectors.head));\n\n        list.insert(list.createItem({\n            type: 'Rule',\n            loc: node.loc,\n            prelude: {\n                type: 'SelectorList',\n                loc: node.prelude.loc,\n                children: newSelectors\n            },\n            block: {\n                type: 'Block',\n                loc: node.block.loc,\n                children: node.block.children.copy()\n            },\n            pseudoSignature: node.pseudoSignature\n        }), item);\n    }\n}\n\nmodule.exports = function disjoinRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        reverse: true,\n        enter: processRule\n    });\n};\n","var List = require('css-tree').List;\nvar generate = require('css-tree').generate;\nvar walk = require('css-tree').walk;\n\nvar REPLACE = 1;\nvar REMOVE = 2;\nvar TOP = 0;\nvar RIGHT = 1;\nvar BOTTOM = 2;\nvar LEFT = 3;\nvar SIDES = ['top', 'right', 'bottom', 'left'];\nvar SIDE = {\n    'margin-top': 'top',\n    'margin-right': 'right',\n    'margin-bottom': 'bottom',\n    'margin-left': 'left',\n\n    'padding-top': 'top',\n    'padding-right': 'right',\n    'padding-bottom': 'bottom',\n    'padding-left': 'left',\n\n    'border-top-color': 'top',\n    'border-right-color': 'right',\n    'border-bottom-color': 'bottom',\n    'border-left-color': 'left',\n    'border-top-width': 'top',\n    'border-right-width': 'right',\n    'border-bottom-width': 'bottom',\n    'border-left-width': 'left',\n    'border-top-style': 'top',\n    'border-right-style': 'right',\n    'border-bottom-style': 'bottom',\n    'border-left-style': 'left'\n};\nvar MAIN_PROPERTY = {\n    'margin': 'margin',\n    'margin-top': 'margin',\n    'margin-right': 'margin',\n    'margin-bottom': 'margin',\n    'margin-left': 'margin',\n\n    'padding': 'padding',\n    'padding-top': 'padding',\n    'padding-right': 'padding',\n    'padding-bottom': 'padding',\n    'padding-left': 'padding',\n\n    'border-color': 'border-color',\n    'border-top-color': 'border-color',\n    'border-right-color': 'border-color',\n    'border-bottom-color': 'border-color',\n    'border-left-color': 'border-color',\n    'border-width': 'border-width',\n    'border-top-width': 'border-width',\n    'border-right-width': 'border-width',\n    'border-bottom-width': 'border-width',\n    'border-left-width': 'border-width',\n    'border-style': 'border-style',\n    'border-top-style': 'border-style',\n    'border-right-style': 'border-style',\n    'border-bottom-style': 'border-style',\n    'border-left-style': 'border-style'\n};\n\nfunction TRBL(name) {\n    this.name = name;\n    this.loc = null;\n    this.iehack = undefined;\n    this.sides = {\n        'top': null,\n        'right': null,\n        'bottom': null,\n        'left': null\n    };\n}\n\nTRBL.prototype.getValueSequence = function(declaration, count) {\n    var values = [];\n    var iehack = '';\n    var hasBadValues = declaration.value.children.some(function(child) {\n        var special = false;\n\n        switch (child.type) {\n            case 'Identifier':\n                switch (child.name) {\n                    case '\\\\0':\n                    case '\\\\9':\n                        iehack = child.name;\n                        return;\n\n                    case 'inherit':\n                    case 'initial':\n                    case 'unset':\n                    case 'revert':\n                        special = child.name;\n                        break;\n                }\n                break;\n\n            case 'Dimension':\n                switch (child.unit) {\n                    // is not supported until IE11\n                    case 'rem':\n\n                    // v* units is too buggy across browsers and better\n                    // don't merge values with those units\n                    case 'vw':\n                    case 'vh':\n                    case 'vmin':\n                    case 'vmax':\n                    case 'vm': // IE9 supporting \"vm\" instead of \"vmin\".\n                        special = child.unit;\n                        break;\n                }\n                break;\n\n            case 'HexColor': // color\n            case 'Number':\n            case 'Percentage':\n                break;\n\n            case 'Function':\n                special = child.name;\n                break;\n\n            case 'WhiteSpace':\n                return false; // ignore space\n\n            default:\n                return true;  // bad value\n        }\n\n        values.push({\n            node: child,\n            special: special,\n            important: declaration.important\n        });\n    });\n\n    if (hasBadValues || values.length > count) {\n        return false;\n    }\n\n    if (typeof this.iehack === 'string' && this.iehack !== iehack) {\n        return false;\n    }\n\n    this.iehack = iehack; // move outside\n\n    return values;\n};\n\nTRBL.prototype.canOverride = function(side, value) {\n    var currentValue = this.sides[side];\n\n    return !currentValue || (value.important && !currentValue.important);\n};\n\nTRBL.prototype.add = function(name, declaration) {\n    function attemptToAdd() {\n        var sides = this.sides;\n        var side = SIDE[name];\n\n        if (side) {\n            if (side in sides === false) {\n                return false;\n            }\n\n            var values = this.getValueSequence(declaration, 1);\n\n            if (!values || !values.length) {\n                return false;\n            }\n\n            // can mix only if specials are equal\n            for (var key in sides) {\n                if (sides[key] !== null && sides[key].special !== values[0].special) {\n                    return false;\n                }\n            }\n\n            if (!this.canOverride(side, values[0])) {\n                return true;\n            }\n\n            sides[side] = values[0];\n            return true;\n        } else if (name === this.name) {\n            var values = this.getValueSequence(declaration, 4);\n\n            if (!values || !values.length) {\n                return false;\n            }\n\n            switch (values.length) {\n                case 1:\n                    values[RIGHT] = values[TOP];\n                    values[BOTTOM] = values[TOP];\n                    values[LEFT] = values[TOP];\n                    break;\n\n                case 2:\n                    values[BOTTOM] = values[TOP];\n                    values[LEFT] = values[RIGHT];\n                    break;\n\n                case 3:\n                    values[LEFT] = values[RIGHT];\n                    break;\n            }\n\n            // can mix only if specials are equal\n            for (var i = 0; i < 4; i++) {\n                for (var key in sides) {\n                    if (sides[key] !== null && sides[key].special !== values[i].special) {\n                        return false;\n                    }\n                }\n            }\n\n            for (var i = 0; i < 4; i++) {\n                if (this.canOverride(SIDES[i], values[i])) {\n                    sides[SIDES[i]] = values[i];\n                }\n            }\n\n            return true;\n        }\n    }\n\n    if (!attemptToAdd.call(this)) {\n        return false;\n    }\n\n    // TODO: use it when we can refer to several points in source\n    // if (this.loc) {\n    //     this.loc = {\n    //         primary: this.loc,\n    //         merged: declaration.loc\n    //     };\n    // } else {\n    //     this.loc = declaration.loc;\n    // }\n    if (!this.loc) {\n        this.loc = declaration.loc;\n    }\n\n    return true;\n};\n\nTRBL.prototype.isOkToMinimize = function() {\n    var top = this.sides.top;\n    var right = this.sides.right;\n    var bottom = this.sides.bottom;\n    var left = this.sides.left;\n\n    if (top && right && bottom && left) {\n        var important =\n            top.important +\n            right.important +\n            bottom.important +\n            left.important;\n\n        return important === 0 || important === 4;\n    }\n\n    return false;\n};\n\nTRBL.prototype.getValue = function() {\n    var result = new List();\n    var sides = this.sides;\n    var values = [\n        sides.top,\n        sides.right,\n        sides.bottom,\n        sides.left\n    ];\n    var stringValues = [\n        generate(sides.top.node),\n        generate(sides.right.node),\n        generate(sides.bottom.node),\n        generate(sides.left.node)\n    ];\n\n    if (stringValues[LEFT] === stringValues[RIGHT]) {\n        values.pop();\n        if (stringValues[BOTTOM] === stringValues[TOP]) {\n            values.pop();\n            if (stringValues[RIGHT] === stringValues[TOP]) {\n                values.pop();\n            }\n        }\n    }\n\n    for (var i = 0; i < values.length; i++) {\n        if (i) {\n            result.appendData({ type: 'WhiteSpace', value: ' ' });\n        }\n\n        result.appendData(values[i].node);\n    }\n\n    if (this.iehack) {\n        result.appendData({ type: 'WhiteSpace', value: ' ' });\n        result.appendData({\n            type: 'Identifier',\n            loc: null,\n            name: this.iehack\n        });\n    }\n\n    return {\n        type: 'Value',\n        loc: null,\n        children: result\n    };\n};\n\nTRBL.prototype.getDeclaration = function() {\n    return {\n        type: 'Declaration',\n        loc: this.loc,\n        important: this.sides.top.important,\n        property: this.name,\n        value: this.getValue()\n    };\n};\n\nfunction processRule(rule, shorts, shortDeclarations, lastShortSelector) {\n    var declarations = rule.block.children;\n    var selector = rule.prelude.children.first().id;\n\n    rule.block.children.eachRight(function(declaration, item) {\n        var property = declaration.property;\n\n        if (!MAIN_PROPERTY.hasOwnProperty(property)) {\n            return;\n        }\n\n        var key = MAIN_PROPERTY[property];\n        var shorthand;\n        var operation;\n\n        if (!lastShortSelector || selector === lastShortSelector) {\n            if (key in shorts) {\n                operation = REMOVE;\n                shorthand = shorts[key];\n            }\n        }\n\n        if (!shorthand || !shorthand.add(property, declaration)) {\n            operation = REPLACE;\n            shorthand = new TRBL(key);\n\n            // if can't parse value ignore it and break shorthand children\n            if (!shorthand.add(property, declaration)) {\n                lastShortSelector = null;\n                return;\n            }\n        }\n\n        shorts[key] = shorthand;\n        shortDeclarations.push({\n            operation: operation,\n            block: declarations,\n            item: item,\n            shorthand: shorthand\n        });\n\n        lastShortSelector = selector;\n    });\n\n    return lastShortSelector;\n}\n\nfunction processShorthands(shortDeclarations, markDeclaration) {\n    shortDeclarations.forEach(function(item) {\n        var shorthand = item.shorthand;\n\n        if (!shorthand.isOkToMinimize()) {\n            return;\n        }\n\n        if (item.operation === REPLACE) {\n            item.item.data = markDeclaration(shorthand.getDeclaration());\n        } else {\n            item.block.remove(item.item);\n        }\n    });\n}\n\nmodule.exports = function restructBlock(ast, indexer) {\n    var stylesheetMap = {};\n    var shortDeclarations = [];\n\n    walk(ast, {\n        visit: 'Rule',\n        reverse: true,\n        enter: function(node) {\n            var stylesheet = this.block || this.stylesheet;\n            var ruleId = (node.pseudoSignature || '') + '|' + node.prelude.children.first().id;\n            var ruleMap;\n            var shorts;\n\n            if (!stylesheetMap.hasOwnProperty(stylesheet.id)) {\n                ruleMap = {\n                    lastShortSelector: null\n                };\n                stylesheetMap[stylesheet.id] = ruleMap;\n            } else {\n                ruleMap = stylesheetMap[stylesheet.id];\n            }\n\n            if (ruleMap.hasOwnProperty(ruleId)) {\n                shorts = ruleMap[ruleId];\n            } else {\n                shorts = {};\n                ruleMap[ruleId] = shorts;\n            }\n\n            ruleMap.lastShortSelector = processRule.call(this, node, shorts, shortDeclarations, ruleMap.lastShortSelector);\n        }\n    });\n\n    processShorthands(shortDeclarations, indexer.declaration);\n};\n","var resolveProperty = require('css-tree').property;\nvar resolveKeyword = require('css-tree').keyword;\nvar walk = require('css-tree').walk;\nvar generate = require('css-tree').generate;\nvar fingerprintId = 1;\nvar dontRestructure = {\n    'src': 1 // https://github.com/afelix/csso/issues/50\n};\n\nvar DONT_MIX_VALUE = {\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/display#Browser_compatibility\n    'display': /table|ruby|flex|-(flex)?box$|grid|contents|run-in/i,\n    // https://developer.mozilla.org/en/docs/Web/CSS/text-align\n    'text-align': /^(start|end|match-parent|justify-all)$/i\n};\n\nvar CURSOR_SAFE_VALUE = [\n    'auto', 'crosshair', 'default', 'move', 'text', 'wait', 'help',\n    'n-resize', 'e-resize', 's-resize', 'w-resize',\n    'ne-resize', 'nw-resize', 'se-resize', 'sw-resize',\n    'pointer', 'progress', 'not-allowed', 'no-drop', 'vertical-text', 'all-scroll',\n    'col-resize', 'row-resize'\n];\n\nvar POSITION_SAFE_VALUE = [\n    'static', 'relative', 'absolute', 'fixed'\n];\n\nvar NEEDLESS_TABLE = {\n    'border-width': ['border'],\n    'border-style': ['border'],\n    'border-color': ['border'],\n    'border-top': ['border'],\n    'border-right': ['border'],\n    'border-bottom': ['border'],\n    'border-left': ['border'],\n    'border-top-width': ['border-top', 'border-width', 'border'],\n    'border-right-width': ['border-right', 'border-width', 'border'],\n    'border-bottom-width': ['border-bottom', 'border-width', 'border'],\n    'border-left-width': ['border-left', 'border-width', 'border'],\n    'border-top-style': ['border-top', 'border-style', 'border'],\n    'border-right-style': ['border-right', 'border-style', 'border'],\n    'border-bottom-style': ['border-bottom', 'border-style', 'border'],\n    'border-left-style': ['border-left', 'border-style', 'border'],\n    'border-top-color': ['border-top', 'border-color', 'border'],\n    'border-right-color': ['border-right', 'border-color', 'border'],\n    'border-bottom-color': ['border-bottom', 'border-color', 'border'],\n    'border-left-color': ['border-left', 'border-color', 'border'],\n    'margin-top': ['margin'],\n    'margin-right': ['margin'],\n    'margin-bottom': ['margin'],\n    'margin-left': ['margin'],\n    'padding-top': ['padding'],\n    'padding-right': ['padding'],\n    'padding-bottom': ['padding'],\n    'padding-left': ['padding'],\n    'font-style': ['font'],\n    'font-variant': ['font'],\n    'font-weight': ['font'],\n    'font-size': ['font'],\n    'font-family': ['font'],\n    'list-style-type': ['list-style'],\n    'list-style-position': ['list-style'],\n    'list-style-image': ['list-style']\n};\n\nfunction getPropertyFingerprint(propertyName, declaration, fingerprints) {\n    var realName = resolveProperty(propertyName).basename;\n\n    if (realName === 'background') {\n        return propertyName + ':' + generate(declaration.value);\n    }\n\n    var declarationId = declaration.id;\n    var fingerprint = fingerprints[declarationId];\n\n    if (!fingerprint) {\n        switch (declaration.value.type) {\n            case 'Value':\n                var vendorId = '';\n                var iehack = '';\n                var special = {};\n                var raw = false;\n\n                declaration.value.children.each(function walk(node) {\n                    switch (node.type) {\n                        case 'Value':\n                        case 'Brackets':\n                        case 'Parentheses':\n                            node.children.each(walk);\n                            break;\n\n                        case 'Raw':\n                            raw = true;\n                            break;\n\n                        case 'Identifier':\n                            var name = node.name;\n\n                            if (!vendorId) {\n                                vendorId = resolveKeyword(name).vendor;\n                            }\n\n                            if (/\\\\[09]/.test(name)) {\n                                iehack = RegExp.lastMatch;\n                            }\n\n                            if (realName === 'cursor') {\n                                if (CURSOR_SAFE_VALUE.indexOf(name) === -1) {\n                                    special[name] = true;\n                                }\n                            } else if (realName === 'position') {\n                                if (POSITION_SAFE_VALUE.indexOf(name) === -1) {\n                                    special[name] = true;\n                                }\n                            } else if (DONT_MIX_VALUE.hasOwnProperty(realName)) {\n                                if (DONT_MIX_VALUE[realName].test(name)) {\n                                    special[name] = true;\n                                }\n                            }\n\n                            break;\n\n                        case 'Function':\n                            var name = node.name;\n\n                            if (!vendorId) {\n                                vendorId = resolveKeyword(name).vendor;\n                            }\n\n                            if (name === 'rect') {\n                                // there are 2 forms of rect:\n                                //   rect(<top>, <right>, <bottom>, <left>) - standart\n                                //   rect(<top> <right> <bottom> <left>)  backwards compatible syntax\n                                // only the same form values can be merged\n                                var hasComma = node.children.some(function(node) {\n                                    return node.type === 'Operator' && node.value === ',';\n                                });\n                                if (!hasComma) {\n                                    name = 'rect-backward';\n                                }\n                            }\n\n                            special[name + '()'] = true;\n\n                            // check nested tokens too\n                            node.children.each(walk);\n\n                            break;\n\n                        case 'Dimension':\n                            var unit = node.unit;\n\n                            if (/\\\\[09]/.test(unit)) {\n                                iehack = RegExp.lastMatch;\n                            }\n\n                            switch (unit) {\n                                // is not supported until IE11\n                                case 'rem':\n\n                                // v* units is too buggy across browsers and better\n                                // don't merge values with those units\n                                case 'vw':\n                                case 'vh':\n                                case 'vmin':\n                                case 'vmax':\n                                case 'vm': // IE9 supporting \"vm\" instead of \"vmin\".\n                                    special[unit] = true;\n                                    break;\n                            }\n                            break;\n                    }\n                });\n\n                fingerprint = raw\n                    ? '!' + fingerprintId++\n                    : '!' + Object.keys(special).sort() + '|' + iehack + vendorId;\n                break;\n\n            case 'Raw':\n                fingerprint = '!' + declaration.value.value;\n                break;\n\n            default:\n                fingerprint = generate(declaration.value);\n        }\n\n        fingerprints[declarationId] = fingerprint;\n    }\n\n    return propertyName + fingerprint;\n}\n\nfunction needless(props, declaration, fingerprints) {\n    var property = resolveProperty(declaration.property);\n\n    if (NEEDLESS_TABLE.hasOwnProperty(property.basename)) {\n        var table = NEEDLESS_TABLE[property.basename];\n\n        for (var i = 0; i < table.length; i++) {\n            var ppre = getPropertyFingerprint(property.prefix + table[i], declaration, fingerprints);\n            var prev = props.hasOwnProperty(ppre) ? props[ppre] : null;\n\n            if (prev && (!declaration.important || prev.item.data.important)) {\n                return prev;\n            }\n        }\n    }\n}\n\nfunction processRule(rule, item, list, props, fingerprints) {\n    var declarations = rule.block.children;\n\n    declarations.eachRight(function(declaration, declarationItem) {\n        var property = declaration.property;\n        var fingerprint = getPropertyFingerprint(property, declaration, fingerprints);\n        var prev = props[fingerprint];\n\n        if (prev && !dontRestructure.hasOwnProperty(property)) {\n            if (declaration.important && !prev.item.data.important) {\n                props[fingerprint] = {\n                    block: declarations,\n                    item: declarationItem\n                };\n\n                prev.block.remove(prev.item);\n\n                // TODO: use it when we can refer to several points in source\n                // declaration.loc = {\n                //     primary: declaration.loc,\n                //     merged: prev.item.data.loc\n                // };\n            } else {\n                declarations.remove(declarationItem);\n\n                // TODO: use it when we can refer to several points in source\n                // prev.item.data.loc = {\n                //     primary: prev.item.data.loc,\n                //     merged: declaration.loc\n                // };\n            }\n        } else {\n            var prev = needless(props, declaration, fingerprints);\n\n            if (prev) {\n                declarations.remove(declarationItem);\n\n                // TODO: use it when we can refer to several points in source\n                // prev.item.data.loc = {\n                //     primary: prev.item.data.loc,\n                //     merged: declaration.loc\n                // };\n            } else {\n                declaration.fingerprint = fingerprint;\n\n                props[fingerprint] = {\n                    block: declarations,\n                    item: declarationItem\n                };\n            }\n        }\n    });\n\n    if (declarations.isEmpty()) {\n        list.remove(item);\n    }\n}\n\nmodule.exports = function restructBlock(ast) {\n    var stylesheetMap = {};\n    var fingerprints = Object.create(null);\n\n    walk(ast, {\n        visit: 'Rule',\n        reverse: true,\n        enter: function(node, item, list) {\n            var stylesheet = this.block || this.stylesheet;\n            var ruleId = (node.pseudoSignature || '') + '|' + node.prelude.children.first().id;\n            var ruleMap;\n            var props;\n\n            if (!stylesheetMap.hasOwnProperty(stylesheet.id)) {\n                ruleMap = {};\n                stylesheetMap[stylesheet.id] = ruleMap;\n            } else {\n                ruleMap = stylesheetMap[stylesheet.id];\n            }\n\n            if (ruleMap.hasOwnProperty(ruleId)) {\n                props = ruleMap[ruleId];\n            } else {\n                props = {};\n                ruleMap[ruleId] = props;\n            }\n\n            processRule.call(this, node, item, list, props, fingerprints);\n        }\n    });\n};\n","var walk = require('css-tree').walk;\nvar utils = require('./utils');\n\n/*\n    At this step all rules has single simple selector. We try to join by equal\n    declaration blocks to first rule, e.g.\n\n    .a { color: red }\n    b { ... }\n    .b { color: red }\n    ->\n    .a, .b { color: red }\n    b { ... }\n*/\n\nfunction processRule(node, item, list) {\n    var selectors = node.prelude.children;\n    var declarations = node.block.children;\n    var nodeCompareMarker = selectors.first().compareMarker;\n    var skippedCompareMarkers = {};\n\n    list.nextUntil(item.next, function(next, nextItem) {\n        // skip non-ruleset node if safe\n        if (next.type !== 'Rule') {\n            return utils.unsafeToSkipNode.call(selectors, next);\n        }\n\n        if (node.pseudoSignature !== next.pseudoSignature) {\n            return true;\n        }\n\n        var nextFirstSelector = next.prelude.children.head;\n        var nextDeclarations = next.block.children;\n        var nextCompareMarker = nextFirstSelector.data.compareMarker;\n\n        // if next ruleset has same marked as one of skipped then stop joining\n        if (nextCompareMarker in skippedCompareMarkers) {\n            return true;\n        }\n\n        // try to join by selectors\n        if (selectors.head === selectors.tail) {\n            if (selectors.first().id === nextFirstSelector.data.id) {\n                declarations.appendList(nextDeclarations);\n                list.remove(nextItem);\n                return;\n            }\n        }\n\n        // try to join by properties\n        if (utils.isEqualDeclarations(declarations, nextDeclarations)) {\n            var nextStr = nextFirstSelector.data.id;\n\n            selectors.some(function(data, item) {\n                var curStr = data.id;\n\n                if (nextStr < curStr) {\n                    selectors.insert(nextFirstSelector, item);\n                    return true;\n                }\n\n                if (!item.next) {\n                    selectors.insert(nextFirstSelector);\n                    return true;\n                }\n            });\n\n            list.remove(nextItem);\n            return;\n        }\n\n        // go to next ruleset if current one can be skipped (has no equal specificity nor element selector)\n        if (nextCompareMarker === nodeCompareMarker) {\n            return true;\n        }\n\n        skippedCompareMarkers[nextCompareMarker] = true;\n    });\n}\n\nmodule.exports = function mergeRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        enter: processRule\n    });\n};\n","var List = require('css-tree').List;\nvar walk = require('css-tree').walk;\nvar utils = require('./utils');\n\nfunction calcSelectorLength(list) {\n    var length = 0;\n\n    list.each(function(data) {\n        length += data.id.length + 1;\n    });\n\n    return length - 1;\n}\n\nfunction calcDeclarationsLength(tokens) {\n    var length = 0;\n\n    for (var i = 0; i < tokens.length; i++) {\n        length += tokens[i].length;\n    }\n\n    return (\n        length +          // declarations\n        tokens.length - 1 // delimeters\n    );\n}\n\nfunction processRule(node, item, list) {\n    var avoidRulesMerge = this.block !== null ? this.block.avoidRulesMerge : false;\n    var selectors = node.prelude.children;\n    var block = node.block;\n    var disallowDownMarkers = Object.create(null);\n    var allowMergeUp = true;\n    var allowMergeDown = true;\n\n    list.prevUntil(item.prev, function(prev, prevItem) {\n        var prevBlock = prev.block;\n        var prevType = prev.type;\n\n        if (prevType !== 'Rule') {\n            var unsafe = utils.unsafeToSkipNode.call(selectors, prev);\n\n            if (!unsafe && prevType === 'Atrule' && prevBlock) {\n                walk(prevBlock, {\n                    visit: 'Rule',\n                    enter: function(node) {\n                        node.prelude.children.each(function(data) {\n                            disallowDownMarkers[data.compareMarker] = true;\n                        });\n                    }\n                });\n            }\n\n            return unsafe;\n        }\n\n        var prevSelectors = prev.prelude.children;\n\n        if (node.pseudoSignature !== prev.pseudoSignature) {\n            return true;\n        }\n\n        allowMergeDown = !prevSelectors.some(function(selector) {\n            return selector.compareMarker in disallowDownMarkers;\n        });\n\n        // try prev ruleset if simpleselectors has no equal specifity and element selector\n        if (!allowMergeDown && !allowMergeUp) {\n            return true;\n        }\n\n        // try to join by selectors\n        if (allowMergeUp && utils.isEqualSelectors(prevSelectors, selectors)) {\n            prevBlock.children.appendList(block.children);\n            list.remove(item);\n            return true;\n        }\n\n        // try to join by properties\n        var diff = utils.compareDeclarations(block.children, prevBlock.children);\n\n        // console.log(diff.eq, diff.ne1, diff.ne2);\n\n        if (diff.eq.length) {\n            if (!diff.ne1.length && !diff.ne2.length) {\n                // equal blocks\n                if (allowMergeDown) {\n                    utils.addSelectors(selectors, prevSelectors);\n                    list.remove(prevItem);\n                }\n\n                return true;\n            } else if (!avoidRulesMerge) { /* probably we don't need to prevent those merges for @keyframes\n                                              TODO: need to be checked */\n\n                if (diff.ne1.length && !diff.ne2.length) {\n                    // prevBlock is subset block\n                    var selectorLength = calcSelectorLength(selectors);\n                    var blockLength = calcDeclarationsLength(diff.eq); // declarations length\n\n                    if (allowMergeUp && selectorLength < blockLength) {\n                        utils.addSelectors(prevSelectors, selectors);\n                        block.children = new List().fromArray(diff.ne1);\n                    }\n                } else if (!diff.ne1.length && diff.ne2.length) {\n                    // node is subset of prevBlock\n                    var selectorLength = calcSelectorLength(prevSelectors);\n                    var blockLength = calcDeclarationsLength(diff.eq); // declarations length\n\n                    if (allowMergeDown && selectorLength < blockLength) {\n                        utils.addSelectors(selectors, prevSelectors);\n                        prevBlock.children = new List().fromArray(diff.ne2);\n                    }\n                } else {\n                    // diff.ne1.length && diff.ne2.length\n                    // extract equal block\n                    var newSelector = {\n                        type: 'SelectorList',\n                        loc: null,\n                        children: utils.addSelectors(prevSelectors.copy(), selectors)\n                    };\n                    var newBlockLength = calcSelectorLength(newSelector.children) + 2; // selectors length + curly braces length\n                    var blockLength = calcDeclarationsLength(diff.eq); // declarations length\n\n                    // create new ruleset if declarations length greater than\n                    // ruleset description overhead\n                    if (blockLength >= newBlockLength) {\n                        var newItem = list.createItem({\n                            type: 'Rule',\n                            loc: null,\n                            prelude: newSelector,\n                            block: {\n                                type: 'Block',\n                                loc: null,\n                                children: new List().fromArray(diff.eq)\n                            },\n                            pseudoSignature: node.pseudoSignature\n                        });\n\n                        block.children = new List().fromArray(diff.ne1);\n                        prevBlock.children = new List().fromArray(diff.ne2overrided);\n\n                        if (allowMergeUp) {\n                            list.insert(newItem, prevItem);\n                        } else {\n                            list.insert(newItem, item);\n                        }\n\n                        return true;\n                    }\n                }\n            }\n        }\n\n        if (allowMergeUp) {\n            // TODO: disallow up merge only if any property interception only (i.e. diff.ne2overrided.length > 0);\n            // await property families to find property interception correctly\n            allowMergeUp = !prevSelectors.some(function(prevSelector) {\n                return selectors.some(function(selector) {\n                    return selector.compareMarker === prevSelector.compareMarker;\n                });\n            });\n        }\n\n        prevSelectors.each(function(data) {\n            disallowDownMarkers[data.compareMarker] = true;\n        });\n    });\n}\n\nmodule.exports = function restructRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        reverse: true,\n        enter: processRule\n    });\n};\n","import Ajv, { ErrorObject } from \"ajv\";\n\n// TODO: formatError should give cleaner better errors\n\nexport const validate = (maybeAinsley: unknown): string[] => {\n  const ajv = new Ajv({ allErrors: true });\n  const _valid = ajv.validate(schema, maybeAinsley) as boolean;\n\n  if (ajv.errors !== null && ajv.errors !== undefined) {\n    // find lowest error and show that\n    const lowestLength = Infinity;\n    let lowestErrors: string[] = [];\n    ajv.errors.forEach((error) => {\n      const pathLength = error.schemaPath.split(\"/\").length;\n      if (pathLength === lowestLength) {\n        lowestErrors.push(formatError(error));\n      } else if (pathLength < lowestLength) {\n        lowestErrors = [formatError(error)];\n      }\n    });\n    return lowestErrors;\n  } else {\n    return [];\n  }\n};\n\nconst formatError = (error: ErrorObject): string =>\n  `Ainsley${error.dataPath}${\n    error.message === undefined ? \"\" : ` ${error.message}`\n  }`;\n\n// prettier-ignore\nexport const schema = {\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"definitions\": {\n    \"Primitive\": {\n      \"anyOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"number\"\n        }\n      ]\n    }\n  },\n  \"properties\": {\n    \"children\": {\n      \"items\": {\n        \"anyOf\": [\n          {\n            \"items\": [\n              {\n                \"type\": \"string\"\n              },\n              {\n                \"items\": {\n                  \"items\": [\n                    {\n                      \"type\": \"string\"\n                    },\n                    {\n                      \"$ref\": \"#/definitions/Primitive\"\n                    }\n                  ],\n                  \"minItems\": 2,\n                  \"maxItems\": 2,\n                  \"type\": \"array\"\n                },\n                \"type\": \"array\"\n              }\n            ],\n            \"minItems\": 2,\n            \"maxItems\": 2,\n            \"type\": \"array\"\n          },\n          {\n            \"items\": [\n              {\n                \"type\": \"string\"\n              },\n              {\n                \"anyOf\": [\n                  {\n                    \"type\": \"object\",\n                    \"additionalProperties\": {\n                      \"$ref\": \"#/definitions/Primitive\"\n                    }\n                  },\n                  {\n                    \"type\": \"array\",\n                    \"items\": {\n                      \"anyOf\": [\n                        {\n                          \"$ref\": \"#/definitions/Primitive\"\n                        },\n                        {\n                          \"items\": [\n                            {\n                              \"$ref\": \"#/definitions/Primitive\"\n                            },\n                            {\n                              \"$ref\": \"#/definitions/Primitive\"\n                            }\n                          ],\n                          \"minItems\": 2,\n                          \"maxItems\": 2,\n                          \"type\": \"array\"\n                        }\n                      ]\n                    }\n                  }\n                ]\n              }\n            ],\n            \"minItems\": 2,\n            \"maxItems\": 2,\n            \"type\": \"array\"\n          },\n          {\n            \"type\": \"string\"\n          },\n          {\n            \"$ref\": \"#\"\n          }\n        ]\n      },\n      \"type\": \"array\"\n    },\n    \"variables\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\n        \"type\": \"object\",\n        \"additionalProperties\": {\n          \"$ref\": \"#/definitions/Primitive\"\n        }\n      }\n    },\n    \"variations\": {\n      \"items\": {\n        \"items\": {\n          \"items\": [\n            {\n              \"type\": \"string\"\n            },\n            {\n              \"type\": \"string\"\n            }\n          ],\n          \"minItems\": 2,\n          \"maxItems\": 2,\n          \"type\": \"array\"\n        },\n        \"type\": \"array\"\n      },\n      \"type\": \"array\"\n    }\n  },\n  \"type\": \"object\"\n};\n","import \"isomorphic-fetch\";\nimport copy from \"fast-copy\";\nimport { Ainsley, AinsleyChild, AinsleyChildren } from \"../types\";\nimport { validate } from \"./validate\";\nimport { isObject } from \"./utils\";\n\n/* config with external dependencies => flat config */\nexport const flatten = async (\n  configWithPlugins: Ainsley,\n  getConfig = defaultGetConfig\n): Promise<Ainsley> => {\n  // validate\n  const errors = validate(configWithPlugins);\n  if (errors.length > 0) {\n    throw new Error(`Invalid input Ainsley:\\n${errors.join(\"\\n\")}`);\n  }\n\n  // deep clone as we'll be mutating\n  const flatAinsley = copy(configWithPlugins);\n\n  // check for configs and inject them\n  if (Array.isArray(flatAinsley.children)) {\n    await Promise.all(\n      flatAinsley.children.map(\n        async (child: AinsleyChild, i: number): Promise<AinsleyChild> => {\n          if (typeof child === \"string\") {\n            if (child.startsWith(\"$\")) {\n              const flatConfig = await getFlatConfig(child.slice(1), getConfig);\n              (flatAinsley.children as AinsleyChildren)[i] = flatConfig;\n            }\n          }\n          return child;\n        }\n      )\n    );\n  }\n\n  return flatAinsley;\n};\n\nexport const defaultGetConfig = async (ref: string): Promise<AinsleyChild> => {\n  try {\n    return require(`ainsley-config-${ref}`).config;\n  } catch (err) {\n    try {\n      const url = new URL(ref);\n      return await fetch(url.href).then(async (response) => {\n        if ((response.headers.get(\"Content-Type\") ?? \"\").endsWith(\"/json\")) {\n          return await response.json();\n        } else {\n          return await response.text();\n        }\n      });\n    } catch (err) {\n      return await Promise.resolve(`/* $${ref} */`);\n    }\n  }\n};\n\nexport const getFlatConfig = async (\n  ref: string,\n  getConfig: (config: string) => Promise<AinsleyChild>\n): Promise<AinsleyChild> => {\n  try {\n    const config = await getConfig(ref);\n\n    if (isObject(config)) {\n      return await flatten(config as Ainsley, getConfig);\n    } else {\n      return config;\n    }\n  } catch (e) {\n    return `/* $${ref} */`;\n  }\n};\n","import copy from \"fast-copy\";\nimport csso from \"csso\";\nimport { Ainsley, AinsleyChildren, AinsleyVariableMap } from \"../types\";\nimport { validate } from \"./validate\";\nimport { isObject } from \"./utils\";\n\n/*\nTODOs:\n- check if strings can be turnt into numbers\n*/\n\n/* flat config => minified (and still flat) config */\nexport const minify = (ainsley: Ainsley): Ainsley => {\n  // validate input\n  const errors = validate(ainsley);\n  if (errors.length > 0) {\n    throw new Error(`Invalid input Ainsley:\\n${errors.join(\"\\n\")}`);\n  }\n\n  // clone and build ast list (mutates input)\n  const list = toAST(copy(ainsley), new Set());\n\n  // collapse ast from bottom up\n  for (let i = list.length - 1; i >= 0; i--) {\n    const node = list[i];\n\n    // if no children\n    if (\n      node.ainsley.children === undefined ||\n      node.ainsley.children.length === 0\n    ) {\n      // remove it from its parent\n      if (node.parent !== undefined) {\n        const parentChildren = node.parent.ainsley.children ?? [];\n        parentChildren.splice(\n          parentChildren.findIndex((child) => child === node.ainsley),\n          1\n        );\n      }\n      // skip rest of the checks\n      continue;\n    }\n\n    // merge strings, and delete any empty ones\n    for (let i = 0; i < node.ainsley.children.length; i++) {\n      const child = node.ainsley.children[i];\n      if (typeof child === \"string\") {\n        if (child.length === 0) {\n          // remove empty string\n          node.ainsley.children.splice(i--, 1);\n        } else if (i > 0) {\n          const prevSibling = node.ainsley.children[i - 1];\n          if (typeof prevSibling === \"string\") {\n            // merge non-empty strings\n            node.ainsley.children.splice(--i, 2, `${prevSibling}${child}`);\n          }\n        }\n      }\n    }\n\n    // lift variables up if possible\n    const thisVars = node.ainsley.variables ?? {};\n    Object.keys(thisVars).forEach((variable) => {\n      const [mod, base] = parseVariable(variable);\n\n      if (node.usageCounts.has(base)) {\n        // used, see if we can lift it\n\n        if (node.parent !== undefined) {\n          // remove default variables that are already defined\n          if (mod === 1 && node.parent.definedVariables.has(base)) {\n            delete thisVars[variable];\n            return;\n          }\n\n          // check how many siblings use this variable\n          // 1 implies that this is the only child that uses it\n          // so it can be lifted\n          if ((node.parent.usageCounts.get(base) ?? 0) < 2) {\n            if (!(\"variables\" in node.parent.ainsley)) {\n              node.parent.ainsley.variables = {};\n            }\n\n            const parentVars = node.parent.ainsley\n              .variables as AinsleyVariableMap;\n            const parentVariable =\n              Object.keys(parentVars).find((variable) =>\n                variable.endsWith(base)\n              ) ?? buildVariable(mod, \"\");\n            const [parentMod] = parseVariable(parentVariable);\n            const parentValue = parentVars[parentVariable] ?? {};\n            const childValue = thisVars[variable];\n\n            // remove old parent variable\n            if (parentVars[parentVariable] !== undefined) {\n              delete parentVars[parentVariable];\n            }\n\n            // remove old child variable\n            delete thisVars[variable];\n\n            // add new variable to parent\n            parentVars[buildVariable(mod === 2 ? parentMod : 0, base)] = {\n              ...(mod === 2 ? parentValue : {}),\n              ...childValue\n            };\n          }\n        }\n      } else {\n        // Remove unused variable\n        delete thisVars[variable];\n      }\n    });\n\n    // delete variables object if empty\n    if (Object.keys(thisVars).length === 0) {\n      delete node.ainsley.variables;\n    }\n\n    // delete any empty variation\n    if (Array.isArray(node.ainsley.variations)) {\n      node.ainsley.variations = node.ainsley.variations.filter(\n        (variation) => variation.length !== 0\n      );\n    }\n\n    // delete variations array if empty\n    if (Array.isArray(node.ainsley.variations)) {\n      if (node.ainsley.variations.length === 0) delete node.ainsley.variations;\n    }\n\n    // if node does nothing, merge it into its parent\n    // (this only works with variables because by now each variable is at its\n    // highest scope)\n    if (!(\"variations\" in node.ainsley || \"variables\" in node.ainsley)) {\n      if (node.parent !== undefined) {\n        const parentChildren = node.parent.ainsley.children as AinsleyChildren;\n        const indexInParent = parentChildren.findIndex(\n          (child) => child === node.ainsley\n        );\n\n        if (indexInParent !== -1) {\n          parentChildren.splice(indexInParent, 1, ...node.ainsley.children);\n        }\n      }\n    }\n  }\n\n  return list[0].ainsley;\n};\n\nconst MODIFIERS = \"?+\";\n\nconst parseVariable = (variable: string): [number, string] => {\n  const mod = MODIFIERS.indexOf(variable[0]) + 1;\n  const base = mod > 0 ? variable.slice(1) : variable;\n  return [mod, base];\n};\n\nconst buildVariable = (mod: number, base: string): string =>\n  `${[\"\", \"?\", \"+\"][mod]}${base}`;\n\nconst minifyRaw = (rawCSS: string) => {\n  try {\n    return csso.minify(rawCSS).css;\n  } catch (error) {\n    console.error(error);\n    return rawCSS;\n  }\n};\n\nconst iteratorRegex = /\\{[a-z]+\\}/gi;\nconst searchForUsages = (\n  arr: Array<unknown | string | object>,\n  set: Set<string> = new Set()\n): Set<string> => {\n  arr.forEach((val) => {\n    if (Array.isArray(val)) {\n      searchForUsages(val, set);\n    } else if (typeof val === \"string\") {\n      const match = val.match(iteratorRegex);\n      for (let i = 0; i < (match ?? []).length; i++) {\n        set.add((match as string[])[i].slice(1, -1));\n      }\n    }\n  });\n  return set;\n};\n\ninterface ASTNode {\n  parent: ASTNode | undefined;\n  ainsley: Ainsley;\n  usageCounts: Map<string, number>;\n  definedVariables: Set<string>;\n}\n\nconst toAST = (\n  ainsley: Ainsley,\n  definedVariables: Set<string>,\n  parent?: ASTNode\n): ASTNode[] => {\n  const children = ainsley.children ?? [];\n  const usageCounts: Map<string, number> = new Map();\n  const node = { ainsley, parent, usageCounts, definedVariables };\n\n  const topologicalList = [node];\n\n  for (let i = 0; i < children.length; i++) {\n    const next = children[i];\n    if (isObject(next)) {\n      const ainsley = next as Ainsley;\n      const variables = ainsley.variables ?? {};\n\n      const childNodes = toAST(\n        ainsley,\n        new Set([\n          ...definedVariables,\n          ...Object.keys(variables).map(\n            (variable: string) => parseVariable(variable)[1]\n          )\n        ]),\n        node\n      );\n\n      new Set(\n        childNodes\n          .map((node) => [...node.usageCounts.keys()])\n          .reduce((arr, keys) => [...arr, ...keys], [])\n      ).forEach((variable) => {\n        usageCounts.set(variable, (usageCounts.get(variable) ?? 0) + 1);\n      });\n\n      topologicalList.push(...childNodes);\n    } else if (Array.isArray(next)) {\n      const usages = searchForUsages(next);\n      usages.forEach((variable) => {\n        usageCounts.set(variable, (usageCounts.get(variable) ?? 0) + 1);\n      });\n    } else {\n      children.splice(i, 1, minifyRaw(next as string));\n    }\n  }\n\n  return topologicalList as ASTNode[];\n};\n"],"sourceRoot":""}