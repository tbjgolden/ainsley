/** @license Ainsley v0.0.1-beta.13 (Tom Golden <tom.bio> @tbjgolden) */
var Ainsley=function(t){"use strict";const n=t=>{let n=[[]],o=0;for(;o<t.length;)n=t[o++].flatMap(t=>n.map(n=>n.concat([t])));return n},o={addVariationToSelector:(t,n)=>n+"-"+t,addPropertyToSelector:(t,n)=>t+n.toLowerCase(),addValueToSelector:(t,n)=>t+n.toUpperCase(),abbreviateProperty:t=>[t.split("-").map(t=>t.charAt(0)).join("").toLowerCase(),t.toLowerCase()]},r=new RegExp("\\{[a-zA-Z0-9_-]+\\}","g"),e=(t,n)=>{let o="",r=[];for(let e=0;e<t.length;e++){const c=t[e];let s=0;for(;s<r.length&&r[s]===c.t[s];)s+=1;const i=r.slice(s);for(const t of i){t[1].startsWith("@")&&(o+="}")}const a=c.t.slice(s);for(const t of a){const n=t[1];n.startsWith("@")&&(o+=n+"{")}if("string"==typeof c.o)o+=c.o;else{let t=c.o[0],r="";for(let o=0;o<c.t.length;o++){const e=c.t[o][0],s=c.t[o][1];""!==s&&(s.startsWith("@")||(r+=""+s),t=n.addVariationToSelector(t,e))}o+=`.${t}${r}{${c.o[1].map(t=>`${t[0]}:${t[1]}`).join(";")}}`}r=c.t}for(const t of r){t[1].startsWith("@")&&(o+="}")}return o},c=(t,o,r)=>{var e;const c={...r};if(void 0!==t.variables){const n=t.variables;Object.keys(n).map(t=>{const o=l(t),e=o[0],s=o[1];0===e?c[s]=n[t]:2===e&&(c[s]={...r[s],...n[t]})})}const i=void 0===t.children?[]:s(t.children,o,c);return n((null!==(e=t.variations)&&void 0!==e?e:[]).map(t=>[["",""]].concat(t))).flatMap(t=>i.map(n=>{if("string"==typeof n.o||Array.isArray(n.o)){const o=n;return{t:[...t,...o.t],o:o.o}}{const o=n;return{t:[...t,...o.t],o:o.o.o}}}))},s=(t,n,o)=>t.flatMap(t=>"string"==typeof t?[{t:[],o:t}]:Array.isArray(t)?Array.isArray(t[1])?i(t,n,o):a(t,n):c(t,n,o)),i=(t,o,e)=>{const c=t[0],s=t[1],i=[];return s.map(t=>{var n,o;const e=null!==(n=t[0].match(r))&&void 0!==n?n:[],c=null!==(o=(""+t[1]).match(r))&&void 0!==o?o:[];e.map(t=>i.push([t,0])),c.map(t=>i.push([t,1]))}),n(i.map(t=>{const n=t[0],o=t[1],r=n.slice(1,-1);return Object.keys(e[r]).map(t=>[n,t,e[r][t],o])})).map(t=>{let n=0,r=t[n];return{t:[],o:[t.reduce((t,n)=>0===n[3]?o.addPropertyToSelector(t,n[1]):o.addValueToSelector(t,n[1]),c),s.map(o=>{const e=o=>{for(;n<t.length&&o.includes(r[0]);)o=o.replace(r[0],""+r[2]),r=t[++n];return o};return[e(o[0]),e(""+o[1])]})]}})},a=(t,n)=>{const o=t[0],r=t[1],e=n.abbreviateProperty(o),c=e[0],s=e[1];return Object.keys(r).map(t=>({t:[],o:[n.addValueToSelector(n.addPropertyToSelector("",c),t),[[s,r[t]]]]}))},l=t=>{const n="?+".indexOf(t[0])+1;return[n,n>0?t.slice(1):t]};return t.DEFAULT_OPTIONS=o,t.ITERATOR_REGEX="\\{[a-zA-Z0-9_-]+\\}",t.embed=(t,n)=>{let o=null;void 0!==n&&(o=document.querySelector("style#"+n)),null===o&&(o=document.createElement("style"),o.type="text/css",void 0!==n&&o.setAttribute("id",n),document.head.appendChild(o)),o.innerHTML=t},t.generate=(t,n={})=>{const r={...o,...n};return e(c(t,r,{}),r)},t}({});
//# sourceMappingURL=ainsley.client.js.map
